<main class="card mx-auto mt-4 w-main px-5 mb-5">
  <!--Título & busca-->
  <h1 class="h4 fw-bold mt-5" translate>private.programs.list.pageTitle</h1>
  <esm-search (searchResults)="onNextSearch($event)" [urlObject]="urlPrograms"></esm-search>
  <!---->
  <section class="container-fluid mx-auto">
    <!-- Cabeçalho -->
    <div class="row">
      <div class="col-12 bg-primary d-flex justify-content-between align-items-center p-3 text-white">
        <h2 class="h6 m-0 d-inline ml-1 fw-bold" translate>private.programs.list.listTitle</h2>
        <small class="fw-bold"><span translate>private.programs.list.totalNumber</span>:
          {{totalPrograms?totalPrograms:0}}</small>
      </div>
    </div>
    <!--Lista-->
    <ul class="row pl-0 mb-0" *ngFor="let program of programs; let i = index">
      <!-- Item 1 -->
      <li class="col-12 d-flex justify-content-between align-content-center p-4 border">
        <!-- Titulo do programa -->
        <span class="fw-bold w-100" [class.pointer]="!program.beingDuplicated" (click)="goToProgram(program)">{{i + 1}}. {{program.title}}</span>
        <!------------------>
        <!-- Ícones -->
        <div class="d-flex align-items-center mx-3">
          <fa-icon [icon]="lock" class="m-2 fa-lg"
             [ngClass]="{
              'text-warning': !program.beingDuplicated,
              'pointer': !program.beingDuplicated
             }"
             *ngIf="program.beingEdited"></fa-icon>
          <fa-icon [icon]="users" class="m-2 fa-lg"     
             [ngClass]="{
              'text-primary': !program.beingDuplicated,
              'pointer': !program.beingDuplicated
             }"
             *ngIf="!program.isPublic"></fa-icon>
          <fa-icon [icon]="users" class="m-2 fa-lg"
             [ngClass]="{
              'fa-clone': !program.beingDuplicated,
              'text-primary': !program.beingDuplicated,
              'pointer': !program.beingDuplicated,
              'fa-spinner': program.beingDuplicated,
              'fa-spin': program.beingDuplicated
             }"
             (click)="duplicateProgram(program)"></fa-icon>
          <fa-icon [icon]="edit" class="m-2 fa-lg"
             [ngClass]="{
              'text-primary': !program.beingDuplicated,
              'pointer': !program.beingDuplicated
             }"
             (click)="this.goToProgram(program)"></fa-icon>
          <fa-icon [icon]="trash" class="m-2 fa-lg"
             [ngClass]="{
              'text-danger': !program.beingDuplicated,
              'pointer': !program.beingDuplicated
             }"
             (click)="deleteProgram(program)"></fa-icon>
        </div>
        <!------------>
      </li>
      <!------------>
    </ul>
    <div class="row" *ngIf="programs?.length == 0">
      <ul class="list-group w-100">
        <li class="list-group-item p-4 hover-itens">
          <span class="names" translate>private.programs.list.noObjects</span><br>
        </li>
      </ul>
    </div>
    <span>
      <swal #swalDeleteProgram title="{{'private.programs.list.deleteMessageTitle'|translate}}"
        text="{{'private.programs.list.deleteMessage'|translate}}" type="question" [showCancelButton]="true"
        [focusCancel]="true" (confirm)="onConfirmDeleteProgram($event)">
      </swal>
      <swal #swalAfterDelete title="{{'private.programs.list.afterDeleteTitle'|translate}}"
        text="{{'private.programs.list.afterDelete'|translate}}" type="success"
        [focusCancel]="true">
      </swal>
    </span>
    <esm-pagination [pagination]="pagination" (next)="onNext($event)"></esm-pagination>
  </section>
</main>

<!-- Loading screen -->
<div *ngIf="loading" class="d-flex justify-content-center align-items-center" style="position: absolute; top:0; z-index: 1; height: 100%; width: 100%; background-color: rgba(255, 255, 255, 0.5)"><i class="fa fa-spinner fa-spin fa-3x"></i></div>
