(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"5+t2":function(t,e,n){"use strict";n.r(e),n.d(e,"PrivateModule",(function(){return vi}));var i=n("Valr"),r=n("o8Qb"),o=n("QJY3"),s=n("oLWQ"),a=n("DUip"),c=function(){function t(t){void 0===t&&(t={}),this.id=t.id||-1,this.title=t.title,this.description=t.description,this.starts=t.starts,this.ends=t.ends,this.updateDate=t.updateDate,this.hasPhases=t.hasPhases,this.isPublic=t.isPublic,this.beingEdited=t.beingEdited,this.beingDuplicated=t.beingDuplicated,this.editor=t.editor,this.observers=t.observers,this.observersInstance=[],this.participants=t.participants,this.participantsInstace=[],this.events=t.events}return t.prototype.reconstructor=function(t){this.id=t.id||-1,this.title=t.title||this.title,this.description=t.description||this.description,this.starts=t.starts||this.starts,this.ends=t.ends||this.ends,this.updateDate=t.updateDate||this.updateDate,this.hasPhases=null!=t.hasPhases?t.hasPhases:this.hasPhases,this.isPublic=null!=t.isPublic?t.isPublic:this.isPublic,this.beingEdited=null!=t.beingEdited?t.beingEdited:this.beingEdited,this.beingDuplicated=null!=t.beingDuplicated?t.beingDuplicated:this.beingDuplicated,this.editor=t.editor||this.editor,this.observers=t.observers||this.observers,this.participants=t.participants||this.participants,this.events=t.events||this.events},t.prototype.getId=function(){return this.id},t.prototype.getTitle=function(){return this.title},t.prototype.getDescription=function(){return this.description},t.prototype.getStarts=function(){return this.starts},t.prototype.getEnds=function(){return this.ends},t.prototype.getIsPublic=function(){return this.isPublic},t.prototype.getBeingEdited=function(){return this.beingEdited},t.prototype.getBeingDuplicated=function(){return this.beingDuplicated},t.prototype.setBeingDuplicated=function(t){this.beingDuplicated=t},t.prototype.getObserversId=function(){return this.observers},t.prototype.setObserversId=function(t){this.observers=t},t.prototype.getObserversInstance=function(){return this.observersInstance},t.prototype.setObserversInstance=function(t){this.observersInstance=t},t.prototype.getParticipantsId=function(){return this.participants},t.prototype.getParticipantsInstance=function(){return this.participantsInstace},t.prototype.setParticipantsInstance=function(t){this.participantsInstace=t},t.prototype.getEventsId=function(){return this.events},t.prototype.getEventsInstance=function(){return this.eventsInstance},t.prototype.setEventsInstance=function(t){this.eventsInstance=t},t.prototype.removeEvent=function(t){var e=this.events.findIndex((function(e){return e===t})),n=this.eventsInstance.findIndex((function(e){return e.getId()===t}));this.events.splice(e,1),this.eventsInstance.splice(n,1)},t}(),l=function(){function t(t){this.id=t.id,this.name=t.name,this.email=t.email,this.phoneNumber=t.phoneNumber,this.profilePhotoUrl=t.profilePhotoUrl,this.role=t.role,this.about=t.about,this.birthDate=t.birthDate,this.schooling=t.schooling,this.institution=t.institution,this.address=t.address}return t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.name},t.prototype.getEmail=function(){return this.email},t.prototype.getPhoneNumber=function(){return this.phoneNumber},t.prototype.getProfilePhotoUrl=function(){return this.profilePhotoUrl},t.prototype.getRole=function(){return this.role},t.prototype.getAbout=function(){return this.about},t.prototype.getBirthDate=function(){return this.birthDate},t.prototype.getSchooling=function(){return this.schooling},t.prototype.getInstitution=function(){return this.institution},t.prototype.getAddress=function(){return this.address},t}(),p=n("P9qh"),u=n("nWBu"),d=n("K9Ia"),b=n("e43+"),h=function(){function t(t){t?(this.id=t.id?t.id:null,this.name=t.name?t.name:"",this.email=t.email?t.email:"",this.phoneNumber=t.phoneNumber?t.phoneNumber:"",this.profilePhotoUrl=t.profilePhotoUrl?t.profilePhotoUrl:"",this.alias=t.alias?t.alias:""):(this.id=null,this.name="",this.email="",this.phoneNumber="",this.profilePhotoUrl="",this.alias="")}return t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.name},t.prototype.getEmail=function(){return this.email},t.prototype.getPhoneNumber=function(){return this.phoneNumber},t.prototype.getProfilePhotoUrl=function(){return this.profilePhotoUrl},t.prototype.getAlias=function(){return this.alias},t}(),g=n("mrSG"),f=function(){function t(t){void 0===t&&(t={}),this.id=t.id||-1,this.title=t.title,this.description=t.description,this.type=t.type,this.color=t.color||"#0a467f",this.sensors=t.sensors||new Array,this.complexConditions=t.complexConditions,this.triggers=t.triggers||new Array,this.sensorsInstance=new Array,this.triggersInstances=new Array}return t.prototype.getId=function(){return this.id},t.prototype.getTitle=function(){return this.title},t.prototype.getDescription=function(){return this.description},t.prototype.getColor=function(){return this.color},t.prototype.getType=function(){return this.type},t.prototype.getTriggersId=function(){return this.triggers},t.prototype.getTriggersInstances=function(){return this.triggersInstances},t.prototype.getSensorsId=function(){return this.sensors},t.prototype.hasSensorsInstance=function(){return null!=this.sensorsInstance},t.prototype.getSensorsInstance=function(){return this.sensorsInstance},t.prototype.getCollector=function(){if(this.hasSensorsInstance()&&this.sensorsInstance.length>0){if(this.sensorsInstance.every((function(t){return"smartphone"===t.getCollector()})))return"smartphone";if(this.sensorsInstance.every((function(t){return"smartwatch"===t.getCollector()})))return"smartwatch"}return"none"},t.prototype.getSensorOfType=function(t){if(this.sensorsInstance&&this.sensorsInstance.length>0)return this.sensorsInstance.find((function(e){return e.getSensor()===t}))},t.prototype.removeCollectorOfType=function(t){var e=this,n=this.sensorsInstance.findIndex((function(e){return e.getSensor()===t})),i=this.sensors.findIndex((function(t){return t===e.sensorsInstance[n].getId()}));this.sensorsInstance.splice(n,1),this.sensors.splice(i,1)},t.prototype.addSensor=function(t){this.sensors.push(t.getId()),this.sensorsInstance.push(t),this.sensors.sort((function(t,e){return t-e})),this.sensorsInstance.sort((function(t,e){return t.getId()-e.getId()}))},t.prototype.setTitle=function(t){this.title=t},t.prototype.setColor=function(t){this.color=t},t.prototype.setDescription=function(t){this.description=t},t.prototype.setType=function(t){this.type=t},t.prototype.setTriggerInstance=function(t){this.triggersInstances=t},t.prototype.setSensorsInstances=function(t){this.sensorsInstance=t},t}(),v=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.interventions=e.interventions,n.interventionsInstances=new Array,n}return Object(g.b)(e,t),e.prototype.getInterventionsId=function(){return this.interventions},e.prototype.setInterventionsId=function(t){this.interventions=t},e.prototype.getInterventionsInstances=function(){return this.interventionsInstances},e.prototype.setInterventionsInstances=function(t){this.interventionsInstances=t},e}(f),m=function(){function t(t){void 0===t&&(t={}),this.id=t.id,this.statement=t.statement,this.orderPosition=t.orderPosition,this.first=void 0!==t.first&&t.first,this.next=t.next,this.obligatory=void 0!==t.obligatory&&t.obligatory,this.medias=t.medias,this.complexConditions=t.complexConditions,this.type="empty"}return t.prototype.getTypeDescription=function(){return"Mensagem"},t}(),y=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.mediaType=e.mediaType,n.type="media",n}return Object(g.b)(e,t),e}(m),S=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.questionType=e.questionType,n.conditions=e.conditions||{},n.options=e.options||[],n.scales=(null==e?void 0:e.scales)||[],n.type="question",n}return Object(g.b)(e,t),e.prototype.getTypeDescription=function(){return 0===this.questionType?"Quest\xe3o aberta":1===this.questionType?"Escolha \xfanica":2===this.questionType?"M\xfaltipla escolha":3===this.questionType?"Likert":4===this.questionType?"Diferencial sem\xe2ntico":31===this.questionType?"Likert personalizado":"Mensagem"},e}(m),T=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.appPackage=e.appPackage,n.parameters=e.parameters,n.startFromNotification=e.startFromNotification,n.type="task",n}return Object(g.b)(e,t),e}(m),w=function(){function t(t){void 0===t&&(t="0 0 0 ? *  *");var e=t.split(" ");this.seconds=e[0],this.minutes=e[1],this.hours=e[2],this.dom=e[3],this.month=e[4],this.dow=e[5].split(","),""===this.dow[0]&&(this.dow=[]),this.year=e[6]}return t.prototype.getMinute=function(){return this.minutes},t.prototype.setMinute=function(t){this.minutes=t},t.prototype.getHours=function(){return this.hours},t.prototype.setHour=function(t){this.hours=t},t.prototype.getDow=function(){return this.dow},t.prototype.isDayActive=function(t){return t?!!this.dow.find((function(e){return e===t})):7===this.dow.length},t.prototype.actOrDeactivateDay=function(t){if(t){var e=this.dow.findIndex((function(e){return e===t}));-1===e?(this.dow.push(t),this.dow.sort()):this.dow.splice(e,1)}else{var n=this.isDayActive();if(this.dow.splice(0,this.dow.length),!n)for(var i=1;i<=7;i++)this.dow.push(i.toString())}},t.prototype.toString=function(){return this.seconds+" "+this.minutes+" "+this.hours+" "+this.dom+" "+this.month+" "+this.dow+" "+this.year},t}(),I=function(){function t(t){void 0===t&&(t={}),this.id=t.id||-1,this.triggerType=t.triggerType||"time",this.triggerCondition="time"===this.triggerType?new w(t.triggerCondition):t.triggerCondition,this.priority=t.priority,this.timeOut=t.timeOut}return t.prototype.getDescription=function(){var t,e=["","domingos","segundas","ter\xe7as","quartas","quintas","sextas","s\xe1bados"];if(this.triggerCondition instanceof w){var n=this.triggerCondition.getDow();if(0===n.length)return"Nenhum dia selecionado. Antes de modificar selecione ao menos algum dia.";if(n.length<7){t="1"===n[0]||"7"===n[0]?"Todas os ":"Todas as ";for(var i=0,r=n;i<r.length;i++){var o=r[i];if(t+=e[o],n[n.length-1]===o){t+=" ";break}t+=n.length>=3?o===n[n.length-2]?" e ":", ":2===n.length?" e ":" "}}else t="Todos os dias ";"NC"===this.priority?t+="uma notifica\xe7\xe3o curta ":"NL"===this.priority?t+="uma notifica\xe7\xe3o longa ":"AL"===this.priority&&(t+="um alarme "),this.getHour()&&this.getMinutes()&&(t+="\xe0s "+this.triggerCondition.getHours()+":"+this.triggerCondition.getMinute())}else t="Manual";return t},t.prototype.getId=function(){return this.id},t.prototype.getTriggerType=function(){return this.triggerType},t.prototype.getTriggerCondition=function(){return this.triggerCondition},t.prototype.getPriority=function(){return this.priority},t.prototype.setPriority=function(t){this.priority=t},t.prototype.getTimeOut=function(){return this.timeOut},t.prototype.getTimeOutInMinutes=function(){return this.timeOut/6e4},t.prototype.setTimeOutInMinutes=function(t){"string"==typeof t&&(t=Number.parseInt(t)),this.timeOut=6e4*t},t.prototype.isDayActive=function(t){if(this.triggerCondition instanceof w)return this.triggerCondition.isDayActive(t)},t.prototype.actOrDeactivateDay=function(t){this.triggerCondition instanceof w&&this.triggerCondition.actOrDeactivateDay(t)},t.prototype.getMinutes=function(){if(this.triggerCondition instanceof w)return Number.parseInt(this.triggerCondition.getMinute())},t.prototype.setMinute=function(t){this.triggerCondition instanceof w&&t&&this.triggerCondition.setMinute(t.toString())},t.prototype.getHour=function(){if(this.triggerCondition instanceof w)return Number.parseInt(this.triggerCondition.getHours())},t.prototype.setHour=function(t){this.triggerCondition instanceof w&&t&&this.triggerCondition.setHour(t.toString())},t.prototype.changeType=function(){console.log("Begin changeType"),"time"===this.triggerType?(this.triggerType="manual",this.triggerCondition="manual",this.priority="manual",this.timeOut=0):(this.triggerType="time",this.triggerCondition=new w,this.priority=""),console.log("End changeType")},t}(),x=function(){function t(t){void 0===t&&(t={}),this.id=t.id,this.sensor=t.sensor,this.collector=t.collector,this.sensorType=t.sensorType}return t.prototype.getId=function(){return this.id},t.prototype.getSensor=function(){return this.sensor},t.prototype.getCollector=function(){return this.collector},t.prototype.setCollector=function(t){this.collector=t},t}(),_=n("VNr4"),O=n("TYT/"),k=function(){function t(t,e){this.daoService=t,this.loginService=e,this.program=new c,this.observers=new Array,this.participants=new Array,this.programObservable$=new d.a,this.observers=this.requestObservers(),this.participants=this.requestParticipants()}return t.prototype.saveStep=function(t){var e=this;if(t.id=this.program.getId(),-1!==t.id)this.daoService.patchObject(u.e,t).subscribe((function(t){return e.program.reconstructor(t)}));else{var n=Number.parseInt(this.loginService.getUser().id);t.observers=this.program.getObserversId(),t.editor=n,t.beingEdited=!0,this.daoService.postObject(u.e,t).subscribe((function(t){if(e.program.reconstructor(t),e.program.getObserversId())for(var n=0,i=e.requestObservers(e.program.getObserversId());n<i.length;n++){var r=i[n];e.program.getObserversInstance().push(r)}}))}},t.prototype.getProgramObservable=function(){return this.programObservable$},t.prototype.setProgram=function(t){this.program=t,this.program.getObserversId()?this.program.setObserversInstance(this.requestObservers(this.program.getObserversId())):this.program.setObserversInstance(new Array),this.program.getParticipantsId()?this.program.setParticipantsInstance(this.requestParticipants(this.program.getParticipantsId())):this.program.setParticipantsInstance(new Array),this.program.getEventsId()?this.program.setEventsInstance(this.requestEvents(this.program.getEventsId())):this.program.setEventsInstance(new Array),console.log(this.program),this.programObservable$.next(this.program)},t.prototype.getObservers=function(){return this.observers},t.prototype.getObserversInstance=function(){return this.program.getObserversInstance()},t.prototype.getParticipants=function(){return this.participants},t.prototype.getParticipantsInstance=function(){return this.program.getParticipantsInstance()},t.prototype.getEventsId=function(){return this.program.getEventsId()},t.prototype.getEventsInstance=function(){return this.program.getEventsInstance()},t.prototype.delete_event=function(t){var e=this;this.daoService.deleteObject(u.a,t.toString()).subscribe((function(n){e.program.removeEvent(t),new s.a({title:"Deletado com sucesso!",type:"success"}).show().then()}))},t.prototype.requestEvents=function(t){for(var e=new Array,n=new Array,i=0;i<t.length;i++)n.push(this.daoService.getObject(u.a,t[i].toString())),n[i].subscribe((function(t){e.push("active"===t.type?new v(t):new f(t))}));return Object(_.a)(n).subscribe((function(t){return e.sort((function(t,e){return t.getId()-e.getId()}))})),e},t.prototype.requestObservers=function(t){var e=new Array;if(t){for(var n=new Array,i=0;i<t.length;i++)n.push(this.daoService.getObject(u.c,t[i].toString())),n[i].subscribe((function(t){return e.push(new l(t))}));Object(_.a)(n).subscribe((function(t){return e.sort((function(t,e){return t.getName().localeCompare(e.getName())}))}))}else this.daoService.getObjects(u.c+"list_contacts/").subscribe((function(t){for(var n=0,i=t.results;n<i.length;n++)e.push(new l(i[n]))}));return e},t.prototype.requestParticipants=function(t){var e=new Array;if(t){for(var n=new Array,i=0;i<t.length;i++)n.push(this.daoService.getObject(u.d,t[i].toString())),n[i].subscribe((function(t){return e.push(new h(t))}));Object(_.a)(n).subscribe((function(t){return e.sort((function(t,e){return t.getName().localeCompare(e.getName())}))}))}else this.daoService.getObjects(u.d+"list_contacts/").subscribe((function(t){for(var n=0,i=t.results;n<i.length;n++)e.push(new h(i[n]))}));return e},t.prototype.requestInterventions=function(t){for(var e=new Array,n=new Array,i=0;i<t.length;i++)n.push(this.daoService.getObject(u.b,t[i].toString())),n[i].subscribe((function(t){e.push("empty"===t.type?new m(t):"media"===t.type?new y(t):"question"===t.type?new S(t):new T(t))}));return Object(_.a)(n).subscribe((function(t){return e.sort((function(t,e){return t.orderPosition-e.orderPosition}))})),e},t.prototype.requestTriggers=function(t){for(var e=new Array,n=new Array,i=0;i<t.length;i++)n.push(this.daoService.getObject(u.g,t[i].toString())),n[i].subscribe((function(t){e.push(new I(t))}));return Object(_.a)(n).subscribe((function(t){return e.sort((function(t,e){return t.getId()-e.getId()}))})),e},t.prototype.requestSensors=function(t){for(var e=new Array,n=new Array,i=0;i<t.length;i++)n.push(this.daoService.getObject(u.f,t[i].toString())),n[i].subscribe((function(t){return e.push(new x(t))}));return Object(_.a)(n).subscribe((function(t){return e.sort((function(t,e){return t.getId()-e.getId()}))})),e},t.\u0275fac=function(e){return new(e||t)(O.bc(p.a),O.bc(b.a))},t.\u0275prov=O.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),C=n("MnXN"),A=function(t){return["programs/add",t,"first"]},P=function(){return{reset:!0}},D=function(){return["results/list"]},E=function(){function t(t){this._loginService=t}return t.prototype.ngOnInit=function(){this.user=this._loginService.getUser()},t.prototype.logout=function(){this._loginService.logout()},t.\u0275fac=function(e){return new(e||t)(O.Nb(b.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-private-header"]],decls:95,vars:11,consts:[[1,"navbar","navbar-expand-xl","p-0","h-xl-px-72"],[1,"navbar","align-items-center"],["xmlns","http://www.w3.Descri\xe7\xe3o do programa:org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","45","height","45","viewBox","0 0 45 46"],["id","a","d","M43.835 41.515c.065-.065.056-.11.022-.131-3.551-2.321-5.375-5.124-5.47-8.41-.057-1.997-.087-5.961-.089-11.891-.002-6.993-4.935-12.826-11.492-14.174a3.174 3.174 0 0 0-3.153-3.475 3.174 3.174 0 0 0-3.148 3.522c-6.49 1.442-11.323 7.285-11.272 14.237.042 5.843.063 9.677.063 11.503 0 3.06-1.85 5.985-5.553 8.779 7.093 1.745 12.766 2.802 17.019 3.17a3.166 3.166 0 0 0 2.89 1.884 3.166 3.166 0 0 0 2.875-1.846c4.269-.328 10.038-1.384 17.308-3.168z"],["id","c","d","M40.186 47.242c.065-.065.055-.11.022-.131-3.552-2.321-5.375-5.124-5.47-8.41-.057-1.997-.087-5.961-.09-11.891-.001-6.993-4.935-12.826-11.492-14.174a3.174 3.174 0 0 0-3.153-3.475 3.174 3.174 0 0 0-3.148 3.522c-6.49 1.442-11.322 7.285-11.272 14.237.043 5.843.064 9.677.064 11.503 0 3.06-1.851 5.985-5.554 8.779 7.093 1.745 12.766 2.803 17.019 3.171a3.166 3.166 0 0 0 2.891 1.883 3.166 3.166 0 0 0 2.875-1.846c4.268-.328 10.037-1.384 17.308-3.168z"],["fill","none","fill-rule","evenodd","transform","translate(3 -2)"],["id","b","fill","#fff"],[0,"xlink","href","#a"],["transform","rotate(11 23.813 24.981)"],["fill","#FFF",0,"xlink","href","#a"],["stroke","#1E70B2","stroke-width","1.44","d","M26.978 45.369a3.882 3.882 0 0 1-3.325 1.88 3.882 3.882 0 0 1-3.35-1.922c-4.248-.401-9.823-1.453-16.732-3.153l-1.47-.362 1.208-.912c3.538-2.67 5.267-5.403 5.267-8.204 0-1.824-.02-5.657-.063-11.498-.05-7 4.652-13.062 11.26-14.805a3.893 3.893 0 0 1 3.88-3.68 3.893 3.893 0 0 1 3.876 3.621c6.679 1.65 11.487 7.703 11.49 14.749.001 5.923.031 9.882.088 11.87.088 3.03 1.777 5.628 5.144 7.828.482.315.44.9.091 1.245l-.142.14-.193.048c-7.085 1.738-12.758 2.79-17.03 3.155z"],["mask","url(#b)"],["transform","rotate(11 55.93 46.75)"],["fill","#FFF",0,"xlink","href","#c"],["stroke","#1E70B2","stroke-width","1.44","d","M23.328 51.096a3.882 3.882 0 0 1-3.325 1.88 3.882 3.882 0 0 1-3.349-1.922c-4.248-.401-9.824-1.453-16.733-3.153l-1.47-.362 1.209-.912c3.538-2.67 5.267-5.403 5.267-8.204 0-1.824-.021-5.657-.064-11.498-.05-7 4.652-13.062 11.26-14.805a3.893 3.893 0 0 1 3.88-3.68 3.893 3.893 0 0 1 3.876 3.621c6.68 1.65 11.488 7.703 11.49 14.749.002 5.923.032 9.882.089 11.87.087 3.03 1.777 5.628 5.144 7.828.481.315.44.9.09 1.245l-.141.14-.194.048c-7.084 1.738-12.758 2.79-17.029 3.155z"],["stroke","#1E70B2","stroke-linecap","square","stroke-width","1.28","d","M12.841 50.557c2.696.41 5.047.597 7.053.562 2.006-.036 4.019-.113 6.038-.233"],["fill","#1E70B2","d","M5.583 28.67c4.958 1.451 9.823 2.184 14.595 2.196 4.772.013 9.6-.693 14.487-2.12l.318 8.495c-4.634 1.13-9.57 1.752-14.808 1.867-5.238.114-10.185-.357-14.842-1.414l.25-9.025z"],["cx","8.37","cy","31.979","fill","#FFF","rx","1.359","ry","1.367"],["cx","8.213","cy","35.869","fill","#FFF","rx","1.359","ry","1.367"],["fill","#FFF","d","M12.372 31.659c2.524.35 5.422.463 8.693.341 3.416-.127 7.038-.5 10.865-1.118a.886.886 0 0 1 1.027.874c0 .598-.444 1.103-1.038 1.179-5.175.66-8.84 1.036-10.992 1.13-2.095.09-4.938-.033-8.53-.371a1.152 1.152 0 0 1-1.044-1.148.896.896 0 0 1 1.019-.887zM12.372 35.357c2.524.35 5.422.464 8.693.342 3.416-.128 7.038-.5 10.865-1.119a.886.886 0 0 1 1.027.874c0 .599-.444 1.103-1.038 1.18-5.175.659-8.84 1.036-10.992 1.129-2.095.09-4.938-.033-8.53-.37a1.152 1.152 0 0 1-1.044-1.148.896.896 0 0 1 1.019-.888z"],["fill","#1E70B2","fill-opacity",".181","d","M19.196 7.944l37.39 6.65 8.413 36.443c.522 2.263.967 3.01.84 3.636-.165.808-.485 1.787-.884 2.8a8.568 8.568 0 0 1-2.062 3.095L21.054 53.51 19.196 7.944z"],[1,"px-3"],["routerLink","/private",1,"navbar-brand","text-white"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"sr-only"],[1,"bg-white","d-block","my-1","text-white",2,"width","25px","height","3px"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","align-items-center","mr-xl-auto"],[1,"nav-item","dropdown","py-3","w-100","w-xl-px-200"],["href","#","role","button","data-toggle","dropdown","translate","",1,"nav-link","dropdown-toggle","text-white","text-center"],[1,"dropdown-menu","w-xl-px-200","text-center","py-0","py-xl-2"],["routerLink","participants/add","translate","",1,"dropdown-item"],["routerLink","participants/list","translate","",1,"dropdown-item"],["translate","",1,"dropdown-item",3,"routerLink","queryParams"],["routerLink","programs/list","translate","",1,"dropdown-item"],["translate","",1,"dropdown-item",3,"routerLink"],[1,"navbar-nav","align-items-center","ml-xl-auto","h-xl-px-72"],[1,"nav-item","dropdown","py-2","w-100","w-xl-px-200"],["href","#","role","button","data-toggle","dropdown",1,"nav-link","dropdown-toggle","text-white","text-center"],["width","40","height","40",1,"rounded-circle",3,"src"],[1,"dropdown-menu","w-xl-px-200","text-center"],["routerLink","observers/add",1,"dropdown-item"],["width","102","height","102",1,"rounded-circle","mx-4",3,"src"],["routerLink","observers/add",1,"dropdown-item","text-center"],[1,"font-weight-bold"],[1,"dropdown-divider","d-none","d-xl-block"],[1,"fas","fa-cog"],["translate",""],[1,"dropdown-item","text-center"],[1,"fas","fa-play"],[1,"dropdown-item","text-center",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(t,e){1&t&&(O.Tb(0,"header"),O.Tb(1,"nav",0),O.Tb(2,"div",1),O.ic(),O.Tb(3,"svg",2),O.Tb(4,"defs"),O.Ob(5,"path",3),O.Ob(6,"path",4),O.Sb(),O.Tb(7,"g",5),O.Tb(8,"mask",6),O.Ob(9,"use",7),O.Sb(),O.Tb(10,"g",8),O.Ob(11,"use",9),O.Ob(12,"path",10),O.Sb(),O.Tb(13,"g",11),O.Tb(14,"g",12),O.Ob(15,"use",13),O.Ob(16,"path",14),O.Ob(17,"path",15),O.Ob(18,"path",16),O.Ob(19,"ellipse",17),O.Ob(20,"ellipse",18),O.Ob(21,"path",19),O.Ob(22,"path",20),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.hc(),O.Tb(23,"span",21),O.Tb(24,"a",22),O.Ic(25,"ESPIM"),O.Sb(),O.Sb(),O.Sb(),O.Tb(26,"button",23),O.Tb(27,"span",24),O.Ic(28,"Toggle menu"),O.Sb(),O.Ob(29,"span",25),O.Ob(30,"span",25),O.Ob(31,"span",25),O.Sb(),O.Tb(32,"div",26),O.Tb(33,"ul",27),O.Tb(34,"li",28),O.Tb(35,"a",29),O.Ic(36,"private.header.participants.participants"),O.Sb(),O.Tb(37,"ul",30),O.Tb(38,"li"),O.Tb(39,"a",31),O.Ic(40,"private.header.participants.add"),O.Sb(),O.Sb(),O.Tb(41,"li"),O.Tb(42,"a",32),O.Ic(43,"private.header.participants.list"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(44,"li",28),O.Tb(45,"a",29),O.Ic(46,"private.header.programs.programs"),O.Sb(),O.Tb(47,"ul",30),O.Tb(48,"li"),O.Tb(49,"a",33),O.Ic(50,"private.header.programs.add"),O.Sb(),O.Sb(),O.Tb(51,"li"),O.Tb(52,"a",34),O.Ic(53,"private.header.programs.list"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(54,"li",28),O.Tb(55,"a",29),O.Ic(56,"private.header.results.results"),O.Sb(),O.Tb(57,"ul",30),O.Tb(58,"li"),O.Tb(59,"a",35),O.Ic(60,"private.header.results.list"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(61,"ul",36),O.Tb(62,"li",37),O.Tb(63,"a",38),O.Ob(64,"img",39),O.Sb(),O.Tb(65,"ul",40),O.Tb(66,"li"),O.Tb(67,"a",41),O.Ob(68,"img",42),O.Sb(),O.Sb(),O.Tb(69,"li"),O.Tb(70,"a",43),O.Tb(71,"small",44),O.Ic(72),O.Sb(),O.Sb(),O.Sb(),O.Tb(73,"li"),O.Tb(74,"a",43),O.Tb(75,"small"),O.Ic(76),O.Sb(),O.Sb(),O.Sb(),O.Ob(77,"li",45),O.Tb(78,"li"),O.Tb(79,"a",43),O.Ob(80,"i",46),O.Tb(81,"small",47),O.Ic(82,"private.header.profile.settings"),O.Sb(),O.Sb(),O.Sb(),O.Ob(83,"li",45),O.Tb(84,"li"),O.Tb(85,"a",48),O.Ob(86,"i",49),O.Tb(87,"small",47),O.Ic(88,"private.header.profile.externalApplication"),O.Sb(),O.Sb(),O.Sb(),O.Ob(89,"li",45),O.Tb(90,"li"),O.Tb(91,"a",50),O.fc("click",(function(){return e.logout()})),O.Ob(92,"i",51),O.Tb(93,"small",47),O.Ic(94,"private.header.profile.exit"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.Ab(49),O.oc("routerLink",O.sc(7,A,-1))("queryParams",O.rc(9,P)),O.Ab(10),O.oc("routerLink",O.rc(10,D)),O.Ab(5),O.pc("src",e.user.profileImg,O.Ac),O.Ab(4),O.pc("src",e.user.profileImg,O.Ac),O.Ab(4),O.Jc(e.user.name),O.Ab(4),O.Jc(e.user.email))},directives:[C.e,a.e,r.b],encapsulation:2}),t}(),N=function(){function t(t){this.pas=t}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(O.Nb(k))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-private"]],decls:2,vars:0,template:function(t,e){1&t&&(O.Ob(0,"esm-private-header"),O.Ob(1,"router-outlet"))},directives:[E,a.g],encapsulation:2}),t}(),j=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-private-dashboard"]],decls:27,vars:0,consts:[[1,"card","mx-auto","mt-4","w-main"],[1,"mx-auto","my-4"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","125","height","125","viewBox","0 0 47.5 47.5"],["id","a2","d","M43.835 41.515c.065-.065.056-.11.022-.131-3.551-2.321-5.375-5.124-5.47-8.41-.057-1.997-.087-5.961-.089-11.891-.002-6.993-4.935-12.826-11.492-14.174a3.174 3.174 0 0 0-3.153-3.475 3.174 3.174 0 0 0-3.148 3.522c-6.49 1.442-11.323 7.285-11.272 14.237.042 5.843.063 9.677.063 11.503 0 3.06-1.85 5.985-5.553 8.779 7.093 1.745 12.766 2.802 17.019 3.17a3.166 3.166 0 0 0 2.89 1.884 3.166 3.166 0 0 0 2.875-1.846c4.269-.328 10.038-1.384 17.308-3.168z"],["id","c2","d","M40.186 47.242c.065-.065.055-.11.022-.131-3.552-2.321-5.375-5.124-5.47-8.41-.057-1.997-.087-5.961-.09-11.891-.001-6.993-4.935-12.826-11.492-14.174a3.174 3.174 0 0 0-3.153-3.475 3.174 3.174 0 0 0-3.148 3.522c-6.49 1.442-11.322 7.285-11.272 14.237.043 5.843.064 9.677.064 11.503 0 3.06-1.851 5.985-5.554 8.779 7.093 1.745 12.766 2.803 17.019 3.171a3.166 3.166 0 0 0 2.891 1.883 3.166 3.166 0 0 0 2.875-1.846c4.268-.328 10.037-1.384 17.308-3.168z"],["fill","none","fill-rule","evenodd","transform","translate(3 -2)"],["id","b2","fill","#fff"],[0,"xlink","href","#a"],["transform","rotate(11 23.813 24.981)"],["fill","#FFF",0,"xlink","href","#a"],["stroke","#1E70B2","stroke-width","1.44","d","M26.978 45.369a3.882 3.882 0 0 1-3.325 1.88 3.882 3.882 0 0 1-3.35-1.922c-4.248-.401-9.823-1.453-16.732-3.153l-1.47-.362 1.208-.912c3.538-2.67 5.267-5.403 5.267-8.204 0-1.824-.02-5.657-.063-11.498-.05-7 4.652-13.062 11.26-14.805a3.893 3.893 0 0 1 3.88-3.68 3.893 3.893 0 0 1 3.876 3.621c6.679 1.65 11.487 7.703 11.49 14.749.001 5.923.031 9.882.088 11.87.088 3.03 1.777 5.628 5.144 7.828.482.315.44.9.091 1.245l-.142.14-.193.048c-7.085 1.738-12.758 2.79-17.03 3.155z"],["mask","url(#b)"],["transform","rotate(11 55.93 46.75)"],["fill","#FFF",0,"xlink","href","#c"],["stroke","#1E70B2","stroke-width","1.44","d","M23.328 51.096a3.882 3.882 0 0 1-3.325 1.88 3.882 3.882 0 0 1-3.349-1.922c-4.248-.401-9.824-1.453-16.733-3.153l-1.47-.362 1.209-.912c3.538-2.67 5.267-5.403 5.267-8.204 0-1.824-.021-5.657-.064-11.498-.05-7 4.652-13.062 11.26-14.805a3.893 3.893 0 0 1 3.88-3.68 3.893 3.893 0 0 1 3.876 3.621c6.68 1.65 11.488 7.703 11.49 14.749.002 5.923.032 9.882.089 11.87.087 3.03 1.777 5.628 5.144 7.828.481.315.44.9.09 1.245l-.141.14-.194.048c-7.084 1.738-12.758 2.79-17.029 3.155z"],["stroke","#1E70B2","stroke-linecap","square","stroke-width","1.28","d","M12.841 50.557c2.696.41 5.047.597 7.053.562 2.006-.036 4.019-.113 6.038-.233"],["fill","#1E70B2","d","M5.583 28.67c4.958 1.451 9.823 2.184 14.595 2.196 4.772.013 9.6-.693 14.487-2.12l.318 8.495c-4.634 1.13-9.57 1.752-14.808 1.867-5.238.114-10.185-.357-14.842-1.414l.25-9.025z"],["cx","8.37","cy","31.979","fill","#FFF","rx","1.359","ry","1.367"],["cx","8.213","cy","35.869","fill","#FFF","rx","1.359","ry","1.367"],["fill","#FFF","d","M12.372 31.659c2.524.35 5.422.463 8.693.341 3.416-.127 7.038-.5 10.865-1.118a.886.886 0 0 1 1.027.874c0 .598-.444 1.103-1.038 1.179-5.175.66-8.84 1.036-10.992 1.13-2.095.09-4.938-.033-8.53-.371a1.152 1.152 0 0 1-1.044-1.148.896.896 0 0 1 1.019-.887zM12.372 35.357c2.524.35 5.422.464 8.693.342 3.416-.128 7.038-.5 10.865-1.119a.886.886 0 0 1 1.027.874c0 .599-.444 1.103-1.038 1.18-5.175.659-8.84 1.036-10.992 1.129-2.095.09-4.938-.033-8.53-.37a1.152 1.152 0 0 1-1.044-1.148.896.896 0 0 1 1.019-.888z"],["fill","#1E70B2","fill-opacity",".181","d","M19.196 7.944l37.39 6.65 8.413 36.443c.522 2.263.967 3.01.84 3.636-.165.808-.485 1.787-.884 2.8a8.568 8.568 0 0 1-2.062 3.095L21.054 53.51 19.196 7.944z"],["translate","",1,"text-justify","mx-3"]],template:function(t,e){1&t&&(O.Tb(0,"main",0),O.Tb(1,"div",1),O.Tb(2,"div"),O.ic(),O.Tb(3,"svg",2),O.Tb(4,"defs"),O.Ob(5,"path",3),O.Ob(6,"path",4),O.Sb(),O.Tb(7,"g",5),O.Tb(8,"mask",6),O.Ob(9,"use",7),O.Sb(),O.Tb(10,"g",8),O.Ob(11,"use",9),O.Ob(12,"path",10),O.Sb(),O.Tb(13,"g",11),O.Tb(14,"g",12),O.Ob(15,"use",13),O.Ob(16,"path",14),O.Ob(17,"path",15),O.Ob(18,"path",16),O.Ob(19,"ellipse",17),O.Ob(20,"ellipse",18),O.Ob(21,"path",19),O.Ob(22,"path",20),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.hc(),O.Tb(23,"h1"),O.Ic(24,"ESPIM"),O.Sb(),O.Sb(),O.Tb(25,"p",21),O.Ic(26,"private.dashboard.welcomeText"),O.Sb(),O.Sb())},directives:[r.b],encapsulation:2}),t}(),R=function(){function t(){}return t.prototype.getUrlParams=function(t){var e={};try{for(var n=t.split("?")[1].split("&"),i=0;i<n.length;i++){var r=n[i].split("=");e[r[0]]=decodeURIComponent(r[1])}}catch(o){e.page=1}return e},t}(),F=function(){return function(t){this.pageSize=u.h,this.count=t.count?t.count:0,this.next=t.next,this.previous=t.previous,this.actualPage=this.next?String(Number((new R).getUrlParams(this.next).page)-1):this.previous?(new R).getUrlParams(this.previous).page?String(Number((new R).getUrlParams(this.previous).page)+1):"2":"1"}}(),M=n("6blF"),z=n("15JJ");M.a.prototype.switchMap=function(t){return Object(z.a)(t)(this)};var B=n("nTRa");M.a.prototype.do=B.a,M.a.prototype._do=B.a;var L=n("T1DM"),q=n("FFOo"),G=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new U(t,this.dueTime,this.scheduler))},t}(),U=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return g.b(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(V,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(q.a);function V(t){t.debouncedNext()}M.a.prototype.debounceTime=function(t,e){return void 0===e&&(e=L.a),function(t,e){return void 0===e&&(e=L.a),function(n){return n.lift(new G(t,e))}}(t,e)(this)};var H=n("ad02");M.a.prototype.distinctUntilChanged=function(t,e){return Object(H.a)(t,e)(this)};var $=n("9Z1F");function W(t){return Object($.a)(t)(this)}M.a.prototype.catch=W,M.a.prototype._catch=W;var J=n("cUzu"),Q=function(){function t(t){this.http=t}return t.prototype.objectsSearch=function(t,e,n){return void 0===n&&(n="1"),e?this.http.get(t,{params:(new J.f).append("search",e).append("page",n)}):this.http.get(t)},t.\u0275fac=function(e){return new(e||t)(O.bc(J.b))},t.\u0275prov=O.Jb({token:t,factory:t.\u0275fac}),t}(),Z=function(){function t(t){this._searchService=t,this.searchResults=new O.n}return t.prototype.ngOnInit=function(){},t.prototype.search=function(){var t=this;this.searchTerm?this._searchService.objectsSearch(this.urlObject,this.searchTerm).subscribe((function(e){t.searchResults.emit({response:e})})):this._searchService.objectsSearch(this.urlObject).subscribe((function(e){t.searchResults.emit({response:e})}))},t.\u0275fac=function(e){return new(e||t)(O.Nb(Q))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-search"]],inputs:{urlObject:"urlObject"},outputs:{searchResults:"searchResults"},decls:10,vars:4,consts:[[1,"d-flex","justify-content-around","align-items-center","flex-wrap","px-0","my-3"],[1,"form-group","w-100","w-md-75","pr-4"],[1,"input-with-icon-l"],[1,"fa","fa-search"],["type","text","name","searchTerm",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"form-group","w-px-200","w-md-25"],["type","submit",1,"btn","btn-success","btn-block","py-3",3,"click"],["translate","",1,"font-weight-bold"]],template:function(t,e){1&t&&(O.Tb(0,"form",0),O.Tb(1,"div",1),O.Tb(2,"div",2),O.Ob(3,"i",3),O.Tb(4,"input",4),O.fc("ngModelChange",(function(t){return e.searchTerm=t})),O.kc(5,"translate"),O.Sb(),O.Sb(),O.Sb(),O.Tb(6,"div",5),O.Tb(7,"button",6),O.fc("click",(function(){return e.search()})),O.Tb(8,"span",7),O.Ic(9,"private.search.searchButton"),O.Sb(),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.Ab(4),O.pc("placeholder",O.lc(5,2,"private.search.searchPlaceholder")),O.oc("ngModel",e.searchTerm))},directives:[o.w,o.n,o.o,o.b,o.m,o.p,r.b],pipes:[r.e],encapsulation:2}),t}();function K(t,e){if(1&t){var n=O.Ub();O.Tb(0,"span"),O.Tb(1,"a",3),O.fc("click",(function(){O.zc(n);var t=O.jc();return t.getByPaginationURL(t.pagination.previous)})),O.Ic(2," <<"),O.Sb(),O.Sb()}}function Y(t,e){if(1&t){var n=O.Ub();O.Tb(0,"span"),O.Tb(1,"a",3),O.fc("click",(function(){O.zc(n);var t=O.jc();return t.getByPaginationURL(t.pagination.next)})),O.Ic(2,">>"),O.Sb(),O.Sb()}}var X=function(){function t(){this.next=new O.n}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){this.pagination=t.pagination.currentValue},t.prototype.getByPaginationURL=function(t){this.next.emit({url:t})},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-pagination"]],inputs:{pagination:"pagination"},outputs:{next:"next"},features:[O.yb],decls:6,vars:3,consts:[[1,"col-12","p-3","text-right"],[4,"ngIf"],[1,"h4","mr-4","text-success","font-weight-bold","links"],[1,"h4","mr-4","text-success","font-weight-bold","links",3,"click"]],template:function(t,e){1&t&&(O.Tb(0,"div",0),O.Gc(1,K,3,0,"span",1),O.Tb(2,"span"),O.Tb(3,"a",2),O.Ic(4),O.Sb(),O.Sb(),O.Gc(5,Y,3,0,"span",1),O.Sb()),2&t&&(O.Ab(1),O.oc("ngIf",null==e.pagination?null:e.pagination.previous),O.Ab(3),O.Jc(null==e.pagination?null:e.pagination.actualPage),O.Ab(1),O.oc("ngIf",null==e.pagination?null:e.pagination.next))},directives:[i.k],encapsulation:2}),t}(),tt=["swalDeleteParticipant"],et=["swalAfterDelete"],nt=function(t){return["/private/participants/add",t]};function it(t,e){if(1&t){var n=O.Ub();O.Tb(0,"ul",16),O.Tb(1,"li",17),O.Tb(2,"div"),O.Tb(3,"a",18),O.Tb(4,"span",19),O.Ic(5),O.Sb(),O.Sb(),O.Ob(6,"br"),O.Tb(7,"a",20),O.Ic(8),O.Sb(),O.Sb(),O.Tb(9,"div",21),O.Tb(10,"a",18),O.Ob(11,"i",22),O.Sb(),O.Tb(12,"i",23),O.fc("click",(function(){O.zc(n);var t=e.$implicit;return O.jc().deleteParticipant(t)})),O.Sb(),O.Sb(),O.Sb(),O.Sb()}if(2&t){var i=e.$implicit,r=e.index;O.Ab(3),O.oc("routerLink",O.sc(8,nt,i.id)),O.Ab(2),O.Mc("",r+1,". ",null==i?null:i.name," \u2022 ",null==i?null:i.alias,""),O.Ab(2),O.oc("routerLink",O.sc(10,nt,i.id)),O.Ab(1),O.Lc("",null==i?null:i.name," - ",null==i?null:i.email,""),O.Ab(2),O.oc("routerLink",O.sc(12,nt,i.id))}}function rt(t,e){1&t&&(O.Tb(0,"div",4),O.Tb(1,"ul",24),O.Tb(2,"li",25),O.Tb(3,"span",26),O.Ic(4,"private.participants.list.noObjects"),O.Sb(),O.Ob(5,"br"),O.Sb(),O.Sb(),O.Sb())}var ot=function(){function t(t){this.daoService=t,this.urlParticipants=u.d}return t.prototype.ngOnInit=function(){this.getParticipants()},t.prototype.getParticipants=function(t){var e=this;void 0===t&&(t=this.urlParticipants),this.daoService.getObjects(t).subscribe((function(t){e.setParticipants(t)}))},t.prototype.onNext=function(t){this.getParticipants(t.url)},t.prototype.onNextSearch=function(t){this.setParticipants(t.response)},t.prototype.setParticipants=function(t){this.totalParticipants=t.count,this.participants=t.results.map((function(t){return new h(t)})),this.pagination=new F(t)},t.prototype.deleteParticipant=function(t){this.tempParticipant=t,this.swalDeleteParticipant.show()},t.prototype.onConfirmDeleteParticipant=function(t){var e=this;this.daoService.deleteObject(this.urlParticipants,this.tempParticipant.getId().toString()).subscribe((function(t){e.swalAfterDelete.show(),e.getParticipants()}))},t.\u0275fac=function(e){return new(e||t)(O.Nb(p.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-particpants-list"]],viewQuery:function(t,e){var n;1&t&&(O.Nc(tt,!0),O.Nc(et,!0)),2&t&&(O.wc(n=O.gc())&&(e.swalDeleteParticipant=n.first),O.wc(n=O.gc())&&(e.swalAfterDelete=n.first))},decls:25,vars:20,consts:[[1,"card","mx-auto","mt-4","w-main","px-5","mb-5"],["translate","",1,"h4","font-weight-bold","mt-5"],[3,"urlObject","searchResults"],[1,"container-fluid","mx-auto"],[1,"row"],[1,"col-12","bg-primary","d-flex","justify-content-between","align-items-center","p-3","text-white"],["translate","",1,"h6","m-0","d-inline","ml-1","font-weight-bold"],[1,"font-weight-bold"],["translate",""],["class","row pl-0 mb-0",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["type","question",3,"title","text","showCancelButton","focusCancel","confirm"],["swalDeleteParticipant",""],["type","success",3,"title","text","focusCancel"],["swalAfterDelete",""],[3,"pagination","next"],[1,"row","pl-0","mb-0"],[1,"col-12","d-flex","justify-content-between","align-content-center","p-4","border"],[3,"routerLink"],[1,"names"],[1,"underline","small",3,"routerLink"],[1,"d-flex","align-items-center","mx-3"],[1,"fas","fa-edit","fa-lg","mr-3","text-primary"],[1,"fas","fa-trash-alt","fa-lg","text-primary",3,"click"],[1,"list-group","w-100"],[1,"list-group-item","p-4","hover-itens"],["translate","",1,"names"]],template:function(t,e){1&t&&(O.Tb(0,"main",0),O.Tb(1,"h1",1),O.Ic(2,"private.participants.list.pageTitle"),O.Sb(),O.Tb(3,"esm-search",2),O.fc("searchResults",(function(t){return e.onNextSearch(t)})),O.Sb(),O.Tb(4,"section",3),O.Tb(5,"div",4),O.Tb(6,"div",5),O.Tb(7,"h2",6),O.Ic(8,"private.participants.list.listTitle"),O.Sb(),O.Tb(9,"small",7),O.Tb(10,"span",8),O.Ic(11,"private.participants.list.totalNumber"),O.Sb(),O.Ic(12),O.Sb(),O.Sb(),O.Sb(),O.Gc(13,it,13,14,"ul",9),O.Gc(14,rt,6,0,"div",10),O.Tb(15,"span"),O.Tb(16,"swal",11,12),O.fc("confirm",(function(t){return e.onConfirmDeleteParticipant(t)})),O.kc(18,"translate"),O.kc(19,"translate"),O.Sb(),O.Ob(20,"swal",13,14),O.kc(22,"translate"),O.kc(23,"translate"),O.Sb(),O.Tb(24,"esm-pagination",15),O.fc("next",(function(t){return e.onNext(t)})),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.Ab(3),O.oc("urlObject",e.urlParticipants),O.Ab(9),O.Kc(":",e.totalParticipants?e.totalParticipants:0,""),O.Ab(1),O.oc("ngForOf",e.participants),O.Ab(1),O.oc("ngIf",0==(null==e.participants?null:e.participants.length)),O.Ab(2),O.pc("title",O.lc(18,12,"private.participants.list.deleteMessageTitle")),O.pc("text",O.lc(19,14,"private.participants.list.deleteMessage")),O.oc("showCancelButton",!0)("focusCancel",!0),O.Ab(4),O.pc("title",O.lc(22,16,"private.participants.list.afterDeleteTitle")),O.pc("text",O.lc(23,18,"private.participants.list.afterDelete")),O.oc("focusCancel",!0),O.Ab(4),O.oc("pagination",e.pagination))},directives:[r.b,Z,i.j,i.k,s.a,X,a.e],pipes:[r.e],encapsulation:2}),t.\u0275prov=O.Jb({token:t,factory:t.\u0275fac}),t}(),st=["swalSaveSuccess"],at=["swalSaveAndAddAnotherSuccess"];function ct(t,e){if(1&t&&(O.Tb(0,"button",25),O.Ic(1," private.participants.add.saveAndAddAnother "),O.Sb()),2&t){O.jc();var n=O.xc(33);O.oc("swal",n)}}function lt(t,e){if(1&t&&(O.Tb(0,"button",26),O.Ic(1," private.participants.add.saveButton "),O.Sb()),2&t){var n=O.jc(),i=O.xc(37);O.oc("disabled",n.participantForm.invalid)("swal",i)}}var pt=function(){function t(t,e,n,i){this._daoService=t,this._activatedRoute=e,this._formBuilder=n,this.route=i,this.urlParticipants=u.d,this.editing=!1}return t.prototype.ngOnInit=function(){var t=this;this.participantForm=this._formBuilder.group({id:this._formBuilder.control(""),name:this._formBuilder.control("",[o.u.required]),email:this._formBuilder.control("",[o.u.required,o.u.email]),alias:this._formBuilder.control("")});var e=this._activatedRoute.snapshot.params.id;e&&this._daoService.getObject(this.urlParticipants,e).subscribe((function(e){var n=new h(e);t.participantForm.patchValue({id:n.getId()}),t.participantForm.patchValue({name:n.getName()}),t.participantForm.patchValue({email:n.getEmail(),disabled:!0}),t.participantForm.patchValue({alias:n.getAlias()}),t.editing=!0}))},t.prototype.save=function(t){var e=this;this.participantForm.value.id?this._daoService.putObject(this.urlParticipants,this.participantForm.value).subscribe((function(t){e.swalSaveSuccess.show()})):this._daoService.postObject(this.urlParticipants,this.participantForm.value).subscribe((function(t){e.swalSaveSuccess.show()}))},t.prototype.onSaveSuccess=function(t){this.route.navigate(["private/participants/list"])},t.prototype.saveAndAddAnother=function(t){var e=this;this._daoService.postObject(this.urlParticipants,this.participantForm.value).subscribe((function(t){e.swalSaveAndAddAnotherSuccess.show()}))},t.prototype.onSaveAndAddAnotherSuccess=function(t){this.participantForm.patchValue({id:""}),this.participantForm.patchValue({name:""}),this.participantForm.patchValue({email:""}),this.participantForm.patchValue({alias:""})},t.\u0275fac=function(e){return new(e||t)(O.Nb(p.a),O.Nb(a.a),O.Nb(o.c),O.Nb(a.b))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-participants-add"]],viewQuery:function(t,e){var n;1&t&&(O.Nc(st,!0),O.Nc(at,!0)),2&t&&(O.wc(n=O.gc())&&(e.swalSaveSuccess=n.first),O.wc(n=O.gc())&&(e.swalSaveAndAddAnotherSuccess=n.first))},decls:48,vars:44,consts:[[1,"card","mx-auto","mt-4","w-main","container-fluid"],[1,"row"],[1,"col-12","mx-auto","bg-white","rounded","p-xl-2","p-0"],[1,"container-fluid"],[1,"row","p-xl-5","p-4"],[1,"col-12","mt-4","mt-xl-0","p-0"],["translate","",1,"h4","font-weight-bold"],[1,"col-12","pl-0","pb-3","pr-0",3,"formGroup"],[1,"col-12","mt-4","mb-4","p-0"],[1,"form-group"],["id","id","name","id","type","hidden","formControlName","id"],["for","text","translate","",1,"sr-only"],["id","name","name","name","type","text","formControlName","name",1,"form-control-plaintext","border-bottom",3,"placeholder","readonly"],["for","email","translate","",1,"sr-only"],["id","email","name","email","type","email","formControlName","email",1,"form-control-plaintext","border-bottom",3,"placeholder","readonly"],["for","pwd","translate","",1,"sr-only"],["id","alias","name","alias","type","text","formControlName","alias",1,"form-control-plaintext","border-bottom",3,"placeholder"],["class","btn btn-secondary text-center font-weight-bold","name","saveAndAddAnother","translate","",3,"swal",4,"ngIf"],["type","submit","name","saveButton","class","btn btn-success mx-auto col-7 col-xl-4 p-3 px-xl-0 mt-4 mt-xl-0 font-weight-bold","translate","",3,"disabled","swal",4,"ngIf"],["type","question",3,"title","text","showCancelButton","focusCancel","confirm"],["swalSaveAndAddAnother",""],["swalSaveButton",""],["type","success",3,"title","text","focusCancel","confirm"],["swalSaveSuccess",""],["swalSaveAndAddAnotherSuccess",""],["name","saveAndAddAnother","translate","",1,"btn","btn-secondary","text-center","font-weight-bold",3,"swal"],["type","submit","name","saveButton","translate","",1,"btn","btn-success","mx-auto","col-7","col-xl-4","p-3","px-xl-0","mt-4","mt-xl-0","font-weight-bold",3,"disabled","swal"]],template:function(t,e){1&t&&(O.Tb(0,"div",0),O.Tb(1,"div",1),O.Tb(2,"section",2),O.Tb(3,"div",3),O.Tb(4,"div",4),O.Tb(5,"div",5),O.Tb(6,"h1",6),O.Ic(7,"private.participants.add.title"),O.Sb(),O.Sb(),O.Tb(8,"form",7),O.Tb(9,"div",3),O.Tb(10,"div",1),O.Tb(11,"div",8),O.Tb(12,"div",9),O.Ob(13,"input",10),O.Sb(),O.Tb(14,"div",9),O.Tb(15,"label",11),O.Ic(16,"private.participants.add.name"),O.Sb(),O.Ob(17,"input",12),O.kc(18,"translate"),O.Sb(),O.Tb(19,"div",9),O.Tb(20,"label",13),O.Ic(21,"private.participants.add.email"),O.Sb(),O.Ob(22,"input",14),O.kc(23,"translate"),O.Sb(),O.Tb(24,"div",9),O.Tb(25,"label",15),O.Ic(26,"private.participants.add.title"),O.Sb(),O.Ob(27,"input",16),O.kc(28,"translate"),O.Sb(),O.Sb(),O.Gc(29,ct,2,1,"button",17),O.Gc(30,lt,2,2,"button",18),O.Tb(31,"span"),O.Tb(32,"swal",19,20),O.fc("confirm",(function(t){return e.saveAndAddAnother(t)})),O.kc(34,"translate"),O.kc(35,"translate"),O.Sb(),O.Tb(36,"swal",19,21),O.fc("confirm",(function(t){return e.save(t)})),O.kc(38,"translate"),O.kc(39,"translate"),O.Sb(),O.Tb(40,"swal",22,23),O.fc("confirm",(function(t){return e.onSaveSuccess(t)})),O.kc(42,"translate"),O.kc(43,"translate"),O.Sb(),O.Tb(44,"swal",22,24),O.fc("confirm",(function(t){return e.onSaveAndAddAnotherSuccess(t)})),O.kc(46,"translate"),O.kc(47,"translate"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.Ab(8),O.oc("formGroup",e.participantForm),O.Ab(9),O.pc("placeholder",O.lc(18,22,"private.participants.add.name")),O.oc("readonly",e.editing),O.Ab(5),O.pc("placeholder",O.lc(23,24,"private.participants.add.email")),O.oc("readonly",e.editing),O.Ab(5),O.pc("placeholder",O.lc(28,26,"private.participants.add.alias")),O.Ab(2),O.oc("ngIf",e.participantForm.valid&&!e.participantForm.get("id").value),O.Ab(1),O.oc("ngIf",e.participantForm.valid),O.Ab(2),O.pc("title",O.lc(34,28,"private.participants.add.messageTitle")),O.pc("text",O.lc(35,30,"private.participants.add.addMessage")),O.oc("showCancelButton",!0)("focusCancel",!0),O.Ab(4),O.pc("title",O.lc(38,32,"private.participants.add.messageTitle")),O.pc("text",O.lc(39,34,"private.participants.add.addMessage")),O.oc("showCancelButton",!0)("focusCancel",!0),O.Ab(4),O.pc("title",O.lc(42,36,"private.participants.add.saveTitle")),O.pc("text",O.lc(43,38,"private.participants.add.saveMessage")),O.oc("focusCancel",!0),O.Ab(4),O.pc("title",O.lc(46,40,"private.participants.add.saveTitle")),O.pc("text",O.lc(47,42,"private.participants.add.saveMessage")),O.oc("focusCancel",!0))},directives:[r.b,o.w,o.n,o.g,o.b,o.m,o.f,i.k,s.a,s.b],pipes:[r.e],encapsulation:2}),t}(),ut=["swalDeleteProgram"],dt=["swalAfterDelete"],bt=function(t,e){return{"text-warning":t,pointer:e}};function ht(t,e){if(1&t&&O.Ob(0,"i",26),2&t){var n=O.jc().$implicit;O.oc("ngClass",O.tc(1,bt,!n.getBeingDuplicated(),!n.getBeingDuplicated()))}}var gt=function(t,e){return{"text-primary":t,pointer:e}};function ft(t,e){if(1&t&&O.Ob(0,"i",27),2&t){var n=O.jc().$implicit;O.oc("ngClass",O.tc(1,gt,!n.getBeingDuplicated(),!n.getBeingDuplicated()))}}var vt=function(t,e,n,i,r){return{"fa-clone":t,"text-primary":e,pointer:n,"fa-spinner":i,"fa-spin":r}},mt=function(t,e){return{"text-danger":t,pointer:e}};function yt(t,e){if(1&t){var n=O.Ub();O.Tb(0,"ul",17),O.Tb(1,"li",18),O.Tb(2,"span",19),O.fc("click",(function(){O.zc(n);var t=e.$implicit;return O.jc().goToProgram(t)})),O.Ic(3),O.Sb(),O.Tb(4,"div",20),O.Gc(5,ht,1,4,"i",21),O.Gc(6,ft,1,4,"i",22),O.Tb(7,"i",23),O.fc("click",(function(){O.zc(n);var t=e.$implicit;return O.jc().duplicateProgram(t)})),O.Sb(),O.Tb(8,"i",24),O.fc("click",(function(){O.zc(n);var t=e.$implicit;return O.jc().goToProgram(t)})),O.Sb(),O.Tb(9,"i",25),O.fc("click",(function(){O.zc(n);var t=e.$implicit;return O.jc().deleteProgram(t)})),O.Sb(),O.Sb(),O.Sb(),O.Sb()}if(2&t){var i=e.$implicit,r=e.index;O.Ab(2),O.Fb("pointer",!i.getBeingDuplicated()),O.Ab(1),O.Lc("",r+1,". ",i.getTitle(),""),O.Ab(2),O.oc("ngIf",i.getBeingEdited()),O.Ab(1),O.oc("ngIf",!i.getIsPublic()),O.Ab(1),O.oc("ngClass",O.vc(9,vt,!i.getBeingDuplicated(),!i.getBeingDuplicated(),!i.getBeingDuplicated(),i.getBeingDuplicated(),i.getBeingDuplicated())),O.Ab(1),O.oc("ngClass",O.tc(15,gt,!i.getBeingDuplicated(),!i.getBeingDuplicated())),O.Ab(1),O.oc("ngClass",O.tc(18,mt,!i.getBeingDuplicated(),!i.getBeingDuplicated()))}}function St(t,e){1&t&&(O.Tb(0,"div",4),O.Tb(1,"ul",28),O.Tb(2,"li",29),O.Tb(3,"span",30),O.Ic(4,"private.programs.list.noObjects"),O.Sb(),O.Ob(5,"br"),O.Sb(),O.Sb(),O.Sb())}function Tt(t,e){1&t&&(O.Tb(0,"div",31),O.Ob(1,"i",32),O.Sb())}var wt=function(){function t(t,e){this.dao=t,this.router=e,this.urlPrograms=u.e,this.loading=!1}return t.prototype.ngOnInit=function(){this.getPrograms()},t.prototype.getPrograms=function(t){var e=this;void 0===t&&(t=this.urlPrograms),this.loading=!0,this.dao.getObjects(t).subscribe((function(t){e.setPrograms(t),e.loading=!1}))},t.prototype.onNext=function(t){this.getPrograms(t.url)},t.prototype.onNextSearch=function(t){this.setPrograms(t.response)},t.prototype.setPrograms=function(t){var e=this;this.totalPrograms=t.count,this.programs=t.results.map((function(t){var n=new c(t);return n.beingDuplicated&&e.checkDuplication(n),n})),this.pagination=new F(t)},t.prototype.deleteProgram=function(t){t.getBeingDuplicated()||(this.tempProgram=t,this.swalDeleteProgram.show())},t.prototype.onConfirmDeleteProgram=function(t){var e=this;this.dao.deleteObject(this.urlPrograms,this.tempProgram.getId().toString()).subscribe((function(t){e.swalAfterDelete.show(),e.getPrograms()}))},t.prototype.checkDuplication=function(t){var e=this;t.getBeingDuplicated()&&(console.log("Requesting program"),this.dao.getObject(u.e,t.getId().toString()).subscribe((function(t){console.log("Response received\nBeingDuplicated: "+t.beingDuplicated),t.beingDuplicated||e.getPrograms("http://localhost:8000/programs/?page="+e.pagination.actualPage)})),setTimeout((function(){return e.checkDuplication(t)}),3e4))},t.prototype.goToProgram=function(t){t.getBeingDuplicated()||this.router.navigate(["/private/programs/add",t.getId(),"first"])},t.prototype.duplicateProgram=function(t){var e=this;t.getBeingDuplicated()||new s.a({title:"Duplicar um programa",type:"question",text:"Essa a\xe7\xe3o pode demorar muito tempo, deseja continuar? Voc\xea ainda poder\xe1 mexer em outros programas, entretanto a c\xf3pia somente ser\xe1 edit\xe1vel ap\xf3s o fim do processo.",showCancelButton:!0}).show().then((function(n){!0===n.value&&e.dao.getObjects(u.e+(t.getId().toString()+"/duplicate/")).subscribe((function(t){return e.dao.getObject(u.e,t.id.toString()).subscribe((function(t){e.getPrograms("http://localhost:8000/programs/?page="+e.pagination.actualPage),new s.a({title:"Duplica\xe7\xe3o iniciada!",type:"success",text:"Em caso de qualquer problema, reinicie a p\xe1gina"}).show().then()}))}))}))},t.\u0275fac=function(e){return new(e||t)(O.Nb(p.a),O.Nb(a.b))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-particpants-list"]],viewQuery:function(t,e){var n;1&t&&(O.Nc(ut,!0),O.Nc(dt,!0)),2&t&&(O.wc(n=O.gc())&&(e.swalDeleteProgram=n.first),O.wc(n=O.gc())&&(e.swalAfterDelete=n.first))},decls:26,vars:21,consts:[[1,"card","mx-auto","mt-4","w-main","px-5","mb-5"],["translate","",1,"h4","font-weight-bold","mt-5"],[3,"urlObject","searchResults"],[1,"container-fluid","mx-auto"],[1,"row"],[1,"col-12","bg-primary","d-flex","justify-content-between","align-items-center","p-3","text-white"],["translate","",1,"h6","m-0","d-inline","ml-1","font-weight-bold"],[1,"font-weight-bold"],["translate",""],["class","row pl-0 mb-0",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],["type","question",3,"title","text","showCancelButton","focusCancel","confirm"],["swalDeleteProgram",""],["type","success",3,"title","text","focusCancel"],["swalAfterDelete",""],[3,"pagination","next"],["class","d-flex justify-content-center align-items-center","style","position: absolute; top:0; z-index: 1; height: 100%; width: 100%; background-color: rgba(255, 255, 255, 0.5)",4,"ngIf"],[1,"row","pl-0","mb-0"],[1,"col-12","d-flex","justify-content-between","align-content-center","p-4","border"],[1,"font-weight-bold","w-100",3,"click"],[1,"d-flex","align-items-center","mx-3"],["class","fas fa-lock m-2 fa-lg",3,"ngClass",4,"ngIf"],["class","fas fa-users m-2 fa-lg",3,"ngClass",4,"ngIf"],[1,"fas","m-2","fa-lg",3,"ngClass","click"],[1,"fas","fa-edit","m-2","fa-lg",3,"ngClass","click"],[1,"fas","fa-trash-alt","m-2","fa-lg",3,"ngClass","click"],[1,"fas","fa-lock","m-2","fa-lg",3,"ngClass"],[1,"fas","fa-users","m-2","fa-lg",3,"ngClass"],[1,"list-group","w-100"],[1,"list-group-item","p-4","hover-itens"],["translate","",1,"names"],[1,"d-flex","justify-content-center","align-items-center",2,"position","absolute","top","0","z-index","1","height","100%","width","100%","background-color","rgba(255, 255, 255, 0.5)"],[1,"fa","fa-spinner","fa-spin","fa-3x"]],template:function(t,e){1&t&&(O.Tb(0,"main",0),O.Tb(1,"h1",1),O.Ic(2,"private.programs.list.pageTitle"),O.Sb(),O.Tb(3,"esm-search",2),O.fc("searchResults",(function(t){return e.onNextSearch(t)})),O.Sb(),O.Tb(4,"section",3),O.Tb(5,"div",4),O.Tb(6,"div",5),O.Tb(7,"h2",6),O.Ic(8,"private.programs.list.listTitle"),O.Sb(),O.Tb(9,"small",7),O.Tb(10,"span",8),O.Ic(11,"private.programs.list.totalNumber"),O.Sb(),O.Ic(12),O.Sb(),O.Sb(),O.Sb(),O.Gc(13,yt,10,21,"ul",9),O.Gc(14,St,6,0,"div",10),O.Tb(15,"span"),O.Tb(16,"swal",11,12),O.fc("confirm",(function(t){return e.onConfirmDeleteProgram(t)})),O.kc(18,"translate"),O.kc(19,"translate"),O.Sb(),O.Ob(20,"swal",13,14),O.kc(22,"translate"),O.kc(23,"translate"),O.Sb(),O.Tb(24,"esm-pagination",15),O.fc("next",(function(t){return e.onNext(t)})),O.Sb(),O.Sb(),O.Sb(),O.Gc(25,Tt,2,0,"div",16)),2&t&&(O.Ab(3),O.oc("urlObject",e.urlPrograms),O.Ab(9),O.Kc(": ",e.totalPrograms?e.totalPrograms:0,""),O.Ab(1),O.oc("ngForOf",e.programs),O.Ab(1),O.oc("ngIf",0==(null==e.programs?null:e.programs.length)),O.Ab(2),O.pc("title",O.lc(18,13,"private.programs.list.deleteMessageTitle")),O.pc("text",O.lc(19,15,"private.programs.list.deleteMessage")),O.oc("showCancelButton",!0)("focusCancel",!0),O.Ab(4),O.pc("title",O.lc(22,17,"private.programs.list.afterDeleteTitle")),O.pc("text",O.lc(23,19,"private.programs.list.afterDelete")),O.oc("focusCancel",!0),O.Ab(4),O.oc("pagination",e.pagination),O.Ab(1),O.oc("ngIf",e.loading))},directives:[r.b,Z,i.j,i.k,s.a,X,i.i],pipes:[r.e],encapsulation:2}),t.\u0275prov=O.Jb({token:t,factory:t.\u0275fac}),t}(),It=function(){return["rounded-tab-active"]},xt=function(){return["first/"]},_t=function(t,e){return{"pointer-events":t,cursor:e}},Ot=function(){return["second/"]},kt=function(){return["third/"]},Ct=function(){return["fourth/"]},At=function(){function t(t,e,n){this.programsAddService=t,this.router=e,this.activatedRoute=n}return Object.defineProperty(t.prototype,"hasProgramObservers",{get:function(){return this.programsAddService.getObserversInstance()&&this.programsAddService.getObserversInstance().length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasProgramParticipants",{get:function(){return this.programsAddService.getParticipantsInstance()&&this.programsAddService.getParticipantsInstance().length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasEvents",{get:function(){return this.programsAddService.getEventsInstance()&&this.programsAddService.getEventsInstance().length>0},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.currentStep=-1===this.id?1:4,this.router.events.subscribe((function(e){t.activatedRoute.snapshot.queryParamMap.get("reset")?t.currentStep=1:t.updateStep(e.urlAfterRedirects)}))},t.prototype.updateStep=function(t){if(t){var e,n=t.split("/").pop();n.startsWith("first")?e=1:n.startsWith("second")?e=2:n.startsWith("third")?e=3:n.startsWith("fourth")&&(e=4),e>this.currentStep&&(this.currentStep=e)}},t.\u0275fac=function(e){return new(e||t)(O.Nb(k),O.Nb(a.b),O.Nb(a.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-step-panel"]],inputs:{id:"id"},decls:34,vars:44,consts:[[1,"container-fluid","p-3"],[1,"row","my-5"],[1,"container","col-3","z-2"],[1,"row","justify-content-center","text-center"],[1,"col","flex-grow-0","rounded-tab","text-white",3,"routerLinkActive","routerLink","ngStyle"],[1,"fas","fa-exclamation-circle","text-warning",3,"ngbCollapse"],[1,"row","align-items-center","justify-content-center","mt-3"],[1,"col","flex-grow-0","font-weight-bold"],[1,"row","justify-content-center","mt-3"]],template:function(t,e){1&t&&(O.Tb(0,"div",0),O.Tb(1,"div",1),O.Tb(2,"div",2),O.Tb(3,"div",3),O.Tb(4,"a",4),O.Ic(5,"1"),O.Sb(),O.Ob(6,"i",5),O.Sb(),O.Tb(7,"div",6),O.Tb(8,"small",7),O.Ic(9,"Informa\xe7\xf5es"),O.Sb(),O.Sb(),O.Sb(),O.Tb(10,"div",2),O.Tb(11,"div",3),O.Tb(12,"a",4),O.Ic(13,"2"),O.Sb(),O.Ob(14,"i",5),O.Sb(),O.Tb(15,"div",6),O.Tb(16,"small",7),O.Ic(17,"Observadores"),O.Sb(),O.Sb(),O.Sb(),O.Tb(18,"div",2),O.Tb(19,"div",3),O.Tb(20,"a",4),O.Ic(21,"3"),O.Sb(),O.Ob(22,"i",5),O.Sb(),O.Tb(23,"div",6),O.Tb(24,"small",7),O.Ic(25,"Participantes"),O.Sb(),O.Sb(),O.Sb(),O.Tb(26,"div",2),O.Tb(27,"div",3),O.Tb(28,"a",4),O.Ic(29,"4"),O.Sb(),O.Ob(30,"i",5),O.Sb(),O.Tb(31,"div",8),O.Tb(32,"small",7),O.Ic(33,"Eventos"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.Ab(4),O.Fb("rounded-tab-done",e.currentStep>=1),O.oc("routerLinkActive",O.rc(24,It))("routerLink",O.rc(25,xt))("ngStyle",O.tc(26,_t,e.currentStep>=1?"auto":"none",e.currentStep>=1?"auto":"default")),O.Ab(2),O.oc("ngbCollapse",!0),O.Ab(6),O.Fb("rounded-tab-done",e.currentStep>=2),O.oc("routerLinkActive",O.rc(29,It))("routerLink",O.rc(30,Ot))("ngStyle",O.tc(31,_t,e.currentStep>=2?"auto":"none",e.currentStep>=2?"auto":"default")),O.Ab(2),O.oc("ngbCollapse",e.currentStep<2||e.hasProgramObservers),O.Ab(6),O.Fb("rounded-tab-done",e.currentStep>=3),O.oc("routerLinkActive",O.rc(34,It))("routerLink",O.rc(35,kt))("ngStyle",O.tc(36,_t,e.currentStep>=3?"auto":"none",e.currentStep>=3?"auto":"default")),O.Ab(2),O.oc("ngbCollapse",e.currentStep<3||e.hasProgramParticipants),O.Ab(6),O.Fb("rounded-tab-done",e.currentStep>=4),O.oc("routerLinkActive",O.rc(39,It))("routerLink",O.rc(40,Ct))("ngStyle",O.tc(41,_t,e.currentStep>=4?"auto":"none",e.currentStep>=4?"auto":"default")),O.Ab(2),O.oc("ngbCollapse",e.currentStep<4||e.hasEvents))},directives:[a.e,a.d,i.l,C.a],encapsulation:2}),t}(),Pt=function(){function t(t,e,n,i){this.programsService=t,this.dao=e,this.activatedRoute=n,this.loginService=i}return t.prototype.ngOnInit=function(){var t=this;this.activatedRoute.paramMap.subscribe((function(e){if(t.id=Number.parseInt(e.get("id")),-1===t.id||t.id!==t.programsService.program.id)if(-1!==t.id)t.dao.getObject(u.e,t.id.toString()).subscribe((function(e){return t.programsService.setProgram(new c(e))}));else{var n=new c,i=Number.parseInt(t.loginService.getUser().id);n.setObserversId([i]),t.programsService.setProgram(n)}}))},t.\u0275fac=function(e){return new(e||t)(O.Nb(k),O.Nb(p.a),O.Nb(a.a),O.Nb(b.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-programsadd"]],decls:3,vars:1,consts:[["id","container",1,"card","mx-auto","my-4","w-main","mb-5"],[3,"id"]],template:function(t,e){1&t&&(O.Tb(0,"main",0),O.Ob(1,"esm-step-panel",1),O.Ob(2,"router-outlet"),O.Sb()),2&t&&(O.Ab(1),O.oc("id",e.id))},directives:[At,a.g],encapsulation:2}),t}(),Dt=n("WRTU"),Et=n("wd5B"),Nt=["swalSaveSuccess"],jt=function(){function t(t,e,n,i,r){this.loginService=t,this.observerService=e,this._formBuilder=n,this._daoService=i,this._dateConverterService=r,this.urlObservers=u.c}return t.prototype.ngOnInit=function(){var t=this;this.user=this.loginService.getUser(),this.observerForm=this._formBuilder.group({id:this._formBuilder.control(""),name:this._formBuilder.control(""),email:this._formBuilder.control(""),phoneNumber:this._formBuilder.control(""),role:this._formBuilder.control(""),about:this._formBuilder.control(""),birthDate:this._formBuilder.control(""),schooling:this._formBuilder.control(""),institution:this._formBuilder.control(""),address:this._formBuilder.group({id:this._formBuilder.control(""),address:this._formBuilder.control(""),addressNumber:this._formBuilder.control(""),addressComplement:this._formBuilder.control(""),cep:this._formBuilder.control(""),state:this._formBuilder.control(""),city:this._formBuilder.control(""),country:this._formBuilder.control("")})}),this.observerService.getObserverByEmail(this.urlObservers,this.user.email).subscribe((function(e){console.log("response =>",e.results[0]),t.observer=new l(e.results[0]),console.log("observer:",t.observer),t.observerForm.patchValue({id:t.observer.getId(),name:t.observer.getName(),email:t.observer.getEmail(),phoneNumber:t.observer.getPhoneNumber(),role:t.observer.getRole(),about:t.observer.getAbout(),birthDate:t.observer.getBirthDate()?t._dateConverterService.toNgbDate(t.observer.getBirthDate().toString()):"",schooling:t.observer.getSchooling(),institution:t.observer.getInstitution()}),t.observer.getAddress()&&t.observerForm.patchValue({address:{id:t.observer.getAddress().getId(),address:t.observer.getAddress().getAddress(),addressNumber:t.observer.getAddress().getAddressNumber(),addressComplement:t.observer.getAddress().getAddressComplement(),cep:t.observer.getAddress().getCEP(),state:t.observer.getAddress().getState(),city:t.observer.getAddress().getCity(),country:t.observer.getAddress().getCountry()}})}))},t.prototype.save=function(t){var e=this;this.observerForm.value.birthDate=this._dateConverterService.toString(this.observerForm.value.birthDate),console.log("date:",this.observerForm.value.birthDate),this._daoService.putObject(this.urlObservers,this.observerForm.value).subscribe((function(t){e.swalSaveSuccess.show()}))},t.\u0275fac=function(e){return new(e||t)(O.Nb(b.a),O.Nb(Dt.a),O.Nb(o.c),O.Nb(p.a),O.Nb(Et.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-observers"]],viewQuery:function(t,e){var n;1&t&&O.Nc(Nt,!0),2&t&&O.wc(n=O.gc())&&(e.swalSaveSuccess=n.first)},decls:106,vars:21,consts:[[1,"card","mx-auto","mt-4","w-main"],[1,"d-flex","flex-wrap","p-3","pt-4","p-md-5",3,"formGroup"],[1,"container-fluid","mb-2","mb-md-5"],[1,"row"],[1,"col-12","col-md-6","d-flex","justify-content-center","align-items-center","mb-4","mb-md-0"],["alt","Imagem do perfil","width","150px","height","150px",1,"rounded-circle",3,"src"],[1,"col-12","col-md-6","w-50"],[1,"mb-3"],["for","name","translate","",1,"font-weight-bold","h3","w-100"],["name","name","formControlName","name","id","name","type","text",1,"form-control"],["for","about","translate","",1,"font-weight-bold","h3","w-100"],["id","about","formControlName","about","rows","5","maxlength","300",1,"w-100",3,"placeholder"],[1,"container-fluid","mb-4"],[1,"col-12","col-md-6","d-flex","flex-column"],[1,"w-100","mb-4"],["for","email","translate","",1,"font-weight-bold","w-100","mb-0"],["name","email","formControlName","email","id","email","type","text",1,"form-control"],["for","birthDate","translate","",1,"font-weight-bold","w-100","mb-0"],[1,"input-group","align-items-center"],["name","birthDate","id","birthDate","formControlName","birthDate","ngbDatepicker","","type","text","readonly","true",1,"form-control"],["d","ngbDatepicker"],[1,"far","fa-calendar-alt","fa-2x","px-3",3,"click"],["for","schooling","translate","",1,"font-weight-bold","w-100","mb-0"],["name","schooling","id","schooling","formControlName","schooling",1,"form-control","p-0"],["value","noschool","translate",""],["value","elementaryincompleted","translate",""],["value","elementarycompleted","translate",""],["value","highschoolincompleted","translate",""],["value","highschoolcompleted","translate",""],["value","collegeincompleted","translate",""],["value","collegecompleted","translate",""],["value","masterscompleted","translate",""],["value","phdcompleted","translate",""],["for","role","translate","",1,"font-weight-bold","w-100","mb-0"],["name","role","id","role","type","text","formControlName","role","required","",1,"form-control"],["for","institution","translate","",1,"font-weight-bold","w-100","mb-0"],["name","institution","id","institution","formControlName","institution","type","text","placeholder","Universidade de S\xe3o Paulo","required","",1,"form-control"],["for","phoneNumber","translate","",1,"font-weight-bold","w-100","mb-0"],["name","phoneNumber","formControlName","phoneNumber","id","phoneNumber","type","text","placeholder","N\xfamero de telefone","required","",1,"form-control"],["formGroupName","address",1,"col-12","col-md-6","d-flex","flex-column"],["type","hidden","id","id","name","id","formControlName","id"],["for","address","translate","",1,"font-weight-bold","w-100","mb-0"],["name","address","formControlName","address","id","address","type","text","required","",1,"form-control"],["for","addressNumber","translate","",1,"font-weight-bold","w-100","mb-0"],["name","addressNumber","formControlName","addressNumber","id","addressNumber","type","text","placeholder","0","required","",1,"form-control"],["for","addressComplement","translate","",1,"font-weight-bold","w-100","mb-0"],["name","addressComplement","formControlName","addressComplement","id","addressComplement","type","text","required","",1,"form-control"],["for","cep","translate","",1,"font-weight-bold","w-100","mb-0"],["name","cep","id","cep","formControlName","cep","type","text","required","",1,"form-control"],["for","city","translate","",1,"font-weight-bold","w-100","mb-0"],["name","city","formControlName","city","id","city","type","text","required","",1,"form-control"],["for","state","translate","",1,"font-weight-bold","w-100","mb-0"],["type","text","formControlName","state","id","state","name","state",1,"form-control","p-0"],["for","country","translate","",1,"font-weight-bold","w-100","mb-0"],["type","text","formControlName","country","id","country","name","country",1,"form-control","p-0"],[1,"d-flex","justify-content-center","w-100"],["name","saveButton","translate","",1,"btn","btn-primary","w-100","w-md-25",3,"swal"],["type","question",3,"title","text","showCancelButton","focusCancel","confirm"],["swalSaveButton",""],["type","success",3,"title","text","focusCancel"],["swalSaveSuccess",""]],template:function(t,e){if(1&t){var n=O.Ub();O.Tb(0,"main",0),O.Tb(1,"form",1),O.Tb(2,"div",2),O.Tb(3,"div",3),O.Tb(4,"div",4),O.Ob(5,"img",5),O.Sb(),O.Tb(6,"div",6),O.Tb(7,"div",7),O.Tb(8,"label",8),O.Ic(9,"private.observers.name"),O.Sb(),O.Ob(10,"input",9),O.Sb(),O.Tb(11,"div"),O.Tb(12,"label",10),O.Ic(13,"private.observers.about"),O.Sb(),O.Ob(14,"textarea",11),O.kc(15,"translate"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(16,"div",12),O.Tb(17,"div",3),O.Tb(18,"div",13),O.Tb(19,"div",14),O.Tb(20,"label",15),O.Ic(21,"private.observers.email"),O.Sb(),O.Ob(22,"input",16),O.Sb(),O.Tb(23,"div",14),O.Tb(24,"label",17),O.Ic(25,"private.observers.birthDate"),O.Sb(),O.Tb(26,"div",18),O.Ob(27,"input",19,20),O.Tb(29,"i",21),O.fc("click",(function(){return O.zc(n),O.xc(28).toggle()})),O.Sb(),O.Sb(),O.Sb(),O.Tb(30,"div",14),O.Tb(31,"label",22),O.Ic(32,"private.observers.schooling.schooling"),O.Sb(),O.Tb(33,"select",23),O.Tb(34,"option",24),O.Ic(35,"private.observers.schooling.noschool"),O.Sb(),O.Tb(36,"option",25),O.Ic(37,"private.observers.schooling.elementaryincompleted"),O.Sb(),O.Tb(38,"option",26),O.Ic(39,"private.observers.schooling.elementarycompleted"),O.Sb(),O.Tb(40,"option",27),O.Ic(41,"private.observers.schooling.highschoolincompleted"),O.Sb(),O.Tb(42,"option",28),O.Ic(43,"private.observers.schooling.highschoolcompleted"),O.Sb(),O.Tb(44,"option",29),O.Ic(45,"private.observers.schooling.collegeincompleted"),O.Sb(),O.Tb(46,"option",30),O.Ic(47,"private.observers.schooling.collegecompleted"),O.Sb(),O.Tb(48,"option",31),O.Ic(49,"private.observers.schooling.masterscompleted"),O.Sb(),O.Tb(50,"option",32),O.Ic(51,"private.observers.schooling.phdcompleted"),O.Sb(),O.Sb(),O.Sb(),O.Tb(52,"div",14),O.Tb(53,"label",33),O.Ic(54,"private.observers.role"),O.Sb(),O.Ob(55,"input",34),O.Sb(),O.Tb(56,"div",14),O.Tb(57,"label",35),O.Ic(58,"private.observers.institution"),O.Sb(),O.Ob(59,"input",36),O.Sb(),O.Tb(60,"div",14),O.Tb(61,"label",37),O.Ic(62,"private.observers.phoneNumber"),O.Sb(),O.Ob(63,"input",38),O.Sb(),O.Sb(),O.Tb(64,"div",39),O.Ob(65,"input",40),O.Tb(66,"div",14),O.Tb(67,"label",41),O.Ic(68,"private.observers.address.address"),O.Sb(),O.Ob(69,"input",42),O.Sb(),O.Tb(70,"div",14),O.Tb(71,"label",43),O.Ic(72,"private.observers.address.addressNumber"),O.Sb(),O.Ob(73,"input",44),O.Sb(),O.Tb(74,"div",14),O.Tb(75,"label",45),O.Ic(76,"private.observers.address.addressComplement"),O.Sb(),O.Ob(77,"input",46),O.Sb(),O.Tb(78,"div",14),O.Tb(79,"label",47),O.Ic(80,"private.observers.address.cep"),O.Sb(),O.Ob(81,"input",48),O.Sb(),O.Tb(82,"div",14),O.Tb(83,"label",49),O.Ic(84,"private.observers.address.city"),O.Sb(),O.Ob(85,"input",50),O.Sb(),O.Tb(86,"div",14),O.Tb(87,"label",51),O.Ic(88,"private.observers.address.state"),O.Sb(),O.Ob(89,"input",52),O.Sb(),O.Tb(90,"div",14),O.Tb(91,"label",53),O.Ic(92,"private.observers.address.country"),O.Sb(),O.Ob(93,"input",54),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(94,"div",55),O.Tb(95,"button",56),O.Ic(96,"private.participants.add.saveButton"),O.Sb(),O.Sb(),O.Tb(97,"span"),O.Tb(98,"swal",57,58),O.fc("confirm",(function(t){return e.save(t)})),O.kc(100,"translate"),O.kc(101,"translate"),O.Sb(),O.Ob(102,"swal",59,60),O.kc(104,"translate"),O.kc(105,"translate"),O.Sb(),O.Sb(),O.Sb()}if(2&t){var i=O.xc(99);O.Ab(1),O.oc("formGroup",e.observerForm),O.Ab(4),O.pc("src",e.user.profileImg,O.Ac),O.Ab(9),O.pc("placeholder",O.lc(15,11,"private.observers.aboutPlaceholder")),O.Ab(81),O.oc("swal",i),O.Ab(3),O.pc("title",O.lc(100,13,"private.observers.messageTitle")),O.pc("text",O.lc(101,15,"private.observers.addMessage")),O.oc("showCancelButton",!0)("focusCancel",!0),O.Ab(4),O.pc("title",O.lc(104,17,"private.observers.saveTitle")),O.pc("text",O.lc(105,19,"private.observers.saveMessage")),O.oc("focusCancel",!0)}},directives:[o.w,o.n,o.g,r.b,o.b,o.m,o.f,o.j,C.c,o.t,o.q,o.v,o.s,o.h,s.b,s.a],pipes:[r.e],encapsulation:2}),t}(),Rt=function(){function t(t,e,n,i){this.programAddService=t,this.formBuilder=e,this.router=n,this.dateConverterService=i,this.programInformationForm=this.formBuilder.group({title:["",[o.u.required]],description:[""],isPublic:[!1],beginDate:["",[o.u.required]],beginTime:[{hour:10,minute:0,second:0}],endDate:[null],endTime:[null]})}return Object.defineProperty(t.prototype,"invalidTitle",{get:function(){var t=this.programInformationForm.get("title");return!t.valid&&t.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalidBeginDate",{get:function(){var t=this.programInformationForm.get("beginDate");return!t.valid&&t.touched},enumerable:!0,configurable:!0}),t.prototype.setProgram=function(t){if(t&&-1!==t.getId()){var e,n,i=Number.parseInt(t.getStarts()),r=Number.parseInt(t.getEnds());isNaN(i)||(e=this.dateConverterService.fromUnixTimeStamp(Number.parseInt(t.getStarts()))),isNaN(r)||(n=this.dateConverterService.fromUnixTimeStamp(Number.parseInt(t.getEnds()))),this.programInformationForm=this.formBuilder.group({title:[t.getTitle(),[o.u.required]],description:[t.getDescription()],isPublic:[t.getIsPublic()],beginDate:[void 0!==e?this.dateConverterService.toNgbDate(e):null,[o.u.required]],beginTime:[void 0!==e?this.dateConverterService.toNgbTime(e):null],endDate:[void 0!==n?this.dateConverterService.toNgbDate(n):null],endTime:[void 0!==n?this.dateConverterService.toNgbTime(n):null]})}},t.prototype.ngOnInit=function(){var t=this;this.setProgram(this.programAddService.program),this.programAddService.getProgramObservable().subscribe((function(e){return t.setProgram(e)}))},t.prototype.submit=function(){if(this.programInformationForm.valid){var t={},e=!1;for(var n in this.programInformationForm.controls)this.programInformationForm.get(n).dirty&&("beginDate"===n||"beginTime"===n?t.starts=this.dateConverterService.toUnixTimeStamp(this.programInformationForm.get("beginDate").value,this.programInformationForm.get("beginTime").value):"endDate"===n||"endTime"===n?t.ends=this.dateConverterService.toUnixTimeStamp(this.programInformationForm.get("endDate").value,this.programInformationForm.get("endTime").value):t[n]=this.programInformationForm.get(n).value,e=!0);e&&this.programAddService.saveStep(t),this.router.navigate([this.router.url.substring(0,this.router.url.lastIndexOf("/"))+"/second"]).then()}else this.programInformationForm.markAllAsTouched()},t.\u0275fac=function(e){return new(e||t)(O.Nb(k),O.Nb(o.c),O.Nb(a.b),O.Nb(Et.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-step1"]],decls:58,vars:9,consts:[[1,"container-fluid","px-xl-5",3,"formGroup"],[1,"form-row","form-group"],[1,"col"],["for","program-name"],[1,"text-danger"],["id","program-name","type","text","placeholder","Nome do programa","formControlName","title",1,"d-block","w-100","form-control"],["for","program-description"],["name","program-description","id","program-description","rows","2","placeholder","Descri\xe7\xe3o do programa","formControlName","description",1,"d-block","w-100"],[1,"form-group"],["type","checkbox","name","program-checkbox","id","program-checkbox","formControlName","isPublic"],["for","program-checkbox"],[1,"form-row","form-group","input-group"],[1,"col","form-inline"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text",3,"click"],[1,"far","fa-calendar-alt"],["ngbDatepicker","","type","text","placeholder","Data de in\xedcio","formControlName","beginDate","readonly","",1,"px-2","py-1","form-control",3,"navigation","click"],["beginDate","ngbDatepicker"],["formControlName","beginTime",3,"minuteStep"],["ngbDatepicker","","type","text","placeholder","Data de fim","formControlName","endDate","readonly","",1,"form-control","px-2","py-1",3,"navigation","click"],["endDate","ngbDatepicker"],["formControlName","endTime",3,"minuteStep"],[1,"container-fluid","p-0","mb-3"],[1,"row"],[1,"col-12","col-xl-4"],["type","button",1,"btn","btn","btn-outline-primary","btn-block","py-2"],[1,"col-12","col-xl-3","offset-xl-5"],["type","button",1,"btn","btn","btn-primary","btn-block","py-2",3,"click"]],template:function(t,e){if(1&t){var n=O.Ub();O.Tb(0,"form",0),O.Tb(1,"h4"),O.Ic(2,"Informa\xe7\xf5es do Programa"),O.Sb(),O.Tb(3,"div",1),O.Tb(4,"div",2),O.Tb(5,"label",3),O.Ic(6,"Nome do programa "),O.Tb(7,"b",4),O.Ic(8,"*"),O.Sb(),O.Ic(9,":"),O.Sb(),O.Ob(10,"input",5),O.Sb(),O.Sb(),O.Tb(11,"div",1),O.Tb(12,"div",2),O.Tb(13,"label",6),O.Ic(14,"Descri\xe7\xe3o do programa:"),O.Sb(),O.Ob(15,"textarea",7),O.Sb(),O.Sb(),O.Tb(16,"div",8),O.Ob(17,"input",9),O.Tb(18,"label",10),O.Ic(19,"Programa p\xfablico"),O.Sb(),O.Sb(),O.Tb(20,"h5"),O.Ic(21,"Data e hora de in\xedcio"),O.Tb(22,"b",4),O.Ic(23,"*"),O.Sb(),O.Ic(24,":"),O.Sb(),O.Tb(25,"div",11),O.Tb(26,"div",12),O.Tb(27,"div",13),O.Tb(28,"div",14),O.Tb(29,"button",15),O.fc("click",(function(){return O.zc(n),O.xc(32).toggle()})),O.Ob(30,"i",16),O.Sb(),O.Sb(),O.Tb(31,"input",17,18),O.fc("click",(function(){return O.zc(n),O.xc(32).toggle()})),O.Sb(),O.Sb(),O.Sb(),O.Tb(33,"div",2),O.Ob(34,"ngb-timepicker",19),O.Sb(),O.Sb(),O.Tb(35,"h5"),O.Ic(36,"Data e hora de fim"),O.Sb(),O.Tb(37,"div",11),O.Tb(38,"div",12),O.Tb(39,"div",13),O.Tb(40,"div",14),O.Tb(41,"button",15),O.fc("click",(function(){return O.zc(n),O.xc(44).toggle()})),O.Ob(42,"i",16),O.Sb(),O.Sb(),O.Tb(43,"input",20,21),O.fc("click",(function(){return O.zc(n),O.xc(44).toggle()})),O.Sb(),O.Sb(),O.Sb(),O.Tb(45,"div",2),O.Ob(46,"ngb-timepicker",22),O.Sb(),O.Sb(),O.Tb(47,"small",4),O.Ic(48,"* Campo obrigat\xf3rio"),O.Sb(),O.Ob(49,"hr"),O.Tb(50,"div",23),O.Tb(51,"div",24),O.Tb(52,"div",25),O.Tb(53,"button",26),O.Ic(54,"IMPORTAR PROGRAMA"),O.Sb(),O.Sb(),O.Tb(55,"div",27),O.Tb(56,"button",28),O.fc("click",(function(){return e.submit()})),O.Ic(57,"PROSSEGUIR"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb()}2&t&&(O.oc("formGroup",e.programInformationForm),O.Ab(10),O.Fb("is-invalid",e.invalidTitle),O.Ab(21),O.Fb("is-invalid",e.invalidBeginDate),O.oc("navigation","arrows"),O.Ab(3),O.oc("minuteStep",30),O.Ab(9),O.oc("navigation","arrows"),O.Ab(3),O.oc("minuteStep",30))},directives:[o.w,o.n,o.g,o.b,o.m,o.f,o.a,C.c,C.f],encapsulation:2}),t}(),Ft=function(){function t(){this.removeUser=new O.n,this.addUser=new O.n}return t.prototype.ngOnInit=function(){},t.prototype.checkboxHandler=function(t){t?this.addUser.emit(this.user.getId()):this.removeUser.emit(this.user.getId())},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-user-checkbox"]],inputs:{user:"user",checked:"checked",disabled:"disabled"},outputs:{removeUser:"removeUser",addUser:"addUser"},decls:3,vars:5,consts:[["type","checkbox",3,"id","checked","disabled","click"],[1,"m-0",3,"for"]],template:function(t,e){1&t&&(O.Tb(0,"input",0),O.fc("click",(function(t){return e.checkboxHandler(t.target.checked)})),O.Sb(),O.Tb(1,"label",1),O.Ic(2),O.Sb()),2&t&&(O.oc("id",e.user.getName()+e.user.getId())("checked",e.checked)("disabled",e.disabled),O.Ab(1),O.oc("for",e.user.getName()+e.user.getId()),O.Ab(1),O.Jc(null==e.user?null:e.user.getName()))},encapsulation:2}),t}(),Mt=["alphabet1"],zt=["alphabet2"],Bt=["alphabetAll"];function Lt(t,e){1&t&&(O.Tb(0,"div",46),O.Ic(1,"No participant selected"),O.Sb())}function qt(t,e){if(1&t&&(O.Tb(0,"div",47),O.Ic(1),O.Sb()),2&t){var n=e.$implicit;O.Ab(1),O.Jc(n.getName())}}function Gt(t,e){1&t&&(O.Tb(0,"div",48),O.Ic(1,"O filtro selecionado resultou em nada, tente troca-lo."),O.Sb())}function Ut(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",49),O.Tb(1,"esm-user-checkbox",50),O.fc("addUser",(function(t){return O.zc(n),O.jc().addProgramObserver(t)}))("removeUser",(function(t){return O.zc(n),O.jc().removeProgramObserver(t)})),O.Sb(),O.Sb()}if(2&t){var i=e.$implicit,r=O.jc();O.Ab(1),O.oc("user",i)("checked",r.isChecked(i))("disabled",r.isDisabled(i))}}var Vt=function(){return["../first/"]},Ht=function(){return["../third/"]},$t=function(){function t(t,e,n,i){this.dao=t,this.programAddService=e,this.formBuilder=n,this.loginService=i,this.hasChanged=!1,this.addObserverForm=this.formBuilder.group({email:["",o.u.required],name:["",o.u.required],role:[""]})}return t.prototype.isChecked=function(t){return!!(this.programObservers?this.programObservers.find((function(e){return e.getId()===t.getId()})):void 0)},t.prototype.isDisabled=function(t){return t.getId()===Number.parseInt(this.loginService.getUser().id)},t.prototype.ngOnInit=function(){var t=this;this.observers=this.programAddService.getObservers(),this.programObservers=this.programAddService.getObserversInstance(),console.log(this.programObservers),this.programAddService.getProgramObservable().subscribe((function(e){t.observers=t.programAddService.getObservers(),t.programObservers=t.programAddService.getObserversInstance(),console.log(t.programObservers)}))},t.prototype.addObserver=function(){var t=this,e=new l(this.addObserverForm.getRawValue());this.dao.postObject(u.c,e).subscribe((function(n){e=new l(n),t.observers.push(e),t.observers.sort((function(t,e){return t.getName().localeCompare(e.getName())})),t.addProgramObserver(e),new s.a({title:"Observador adicionado aos contatos!",type:"success"}).show(),t.addObserverForm.reset()}),(function(t){return new s.a({title:"Falha ao adicionar o contato",type:"error"}).show()}))},t.prototype.addProgramObserver=function(t){t instanceof l||(t=this.observers.find((function(e){return e.getId()===t}))),this.programObservers.push(t),this.programObservers.sort((function(t,e){return t.getName().localeCompare(e.getName())})),this.hasChanged=!0},t.prototype.removeProgramObserver=function(t){this.programObservers.splice(this.programObservers.findIndex((function(e){return e.getId()===t})),1),this.hasChanged=!0},t.prototype.filter_by=function(t,e){if("*"!==t)this.alphabetAll.nativeElement.classList.contains("btn-default-active")&&(this.alphabetAll.nativeElement.classList.remove("btn-default-active"),this.observers=new Array),e.target.classList.contains("btn-default-active")?(e.target.classList.remove("btn-default-active"),this.observers=this.observers.filter((function(e){return!e.getName().startsWith(t.toLowerCase())&&!e.getName().startsWith(t.toUpperCase())}))):(e.target.classList.add("btn-default-active"),this.observers=this.observers.concat(this.programAddService.getObservers().filter((function(e){return e.getName().startsWith(t.toLowerCase())||e.getName().startsWith(t.toUpperCase())}))),this.observers.sort((function(t,e){return t.getName().localeCompare(e.getName())})));else{this.observers=this.programAddService.getObservers(),e.target.classList.add("btn-default-active");for(var n=0,i=this.alphabet1.nativeElement.children;n<i.length;n++)i[n].classList.remove("btn-default-active");for(var r=0,o=this.alphabet2.nativeElement.children;r<o.length;r++)o[r].classList.remove("btn-default-active")}},t.prototype.search_by=function(t){this.observers=this.programAddService.getObservers().filter((function(e){return e.getName().includes(t.target.value)}))},t.prototype.submit=function(){this.hasChanged&&this.programAddService.saveStep({observers:this.programObservers.map((function(t){return t.getId()}))})},t.\u0275fac=function(e){return new(e||t)(O.Nb(p.a),O.Nb(k),O.Nb(o.c),O.Nb(b.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-step2"]],viewQuery:function(t,e){var n;1&t&&(O.Nc(Mt,!0),O.Nc(zt,!0),O.Nc(Bt,!0)),2&t&&(O.wc(n=O.gc())&&(e.alphabet1=n.first),O.wc(n=O.gc())&&(e.alphabet2=n.first),O.wc(n=O.gc())&&(e.alphabetAll=n.first))},decls:125,vars:9,consts:[["id","addObserver",1,"bg-white","shadow-lg","popup","p-5","collapse",2,"z-index","3","top","10%",3,"formGroup"],[1,"mb-5"],[1,"mb-3"],["for","email",1,"mb-0"],[1,"text-danger"],["type","email","id","email","formControlName","email",1,"w-100"],["for","name",1,"mb-0"],["type","text","id","name","formControlName","name",1,"w-100"],["for","role",1,"mb-0"],["type","text","id","role","formControlName","role",1,"w-100"],[1,"d-flex","justify-content-between","mt-5"],["type","button","data-toggle","collapse","data-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapseCancel",1,"btn","btn-outline-primary",3,"click"],["type","button","data-toggle","collapse","data-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapseAdd",1,"btn","btn-primary",3,"click"],[1,"container-fluid","px-xl-5"],[1,"form-row","form-group","input-group"],[1,"col-12","col-xl-9","d-flex","justify-content-between","align-items-center"],["for","search-pesquisador",1,"input-group-prepend","d-inline-block"],[1,"fas","fa-search","input-group-text"],["id","search-pesquisador","type","text","placeholder","Pesquisar observadores pelo nome",1,"w-100","ml-2",3,"keyup"],[1,"col-12","col-xl-3"],["type","button",1,"btn","btn-outline-primary","btn-block","mt-3","mt-xl-0"],["aria-label","alphabet",1,"container-flex"],[1,"row","justify-content-center"],["type","button",1,"btn","btn-default","btn-default-active","text-primary","font-weight-bold","px-3",3,"click"],["alphabetAll",""],[1,"col-12","col-md-6","d-flex","justify-content-between","pr-md-2"],["alphabet1",""],["type","button",1,"btn","btn-default","text-primary","font-weight-bold","p-1",3,"click"],[1,"col-12","col-md-6","d-flex","justify-content-between","pl-md-2"],["alphabet2",""],[1,"card","container-fluid"],[1,"row"],[1,"col-12","col-md-2","d-flex","align-items-center","text-center"],[1,"col-12","col-md-10","d-flex","flex-wrap","flex-row","justify-content-center","align-items-center","py-3"],["class","text-center text-primary font-weight-bold w-100",4,"ngIf"],["class","bg-primary rounded-pill text-white my-1 mx-2 px-3 py-1",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"container","border","p-3"],["class","text-primary text-center font-weight-bold w-100",4,"ngIf"],["class","col-3 d-flex align-items-center overflow-hidden text-nowrap",4,"ngFor","ngForOf"],[1,"container-fluid","p-0","mb-3"],[1,"col-12","col-xl-5"],["type","button","data-toggle","collapse","data-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapse",1,"btn","btn-outline-primary","btn-block","py-2"],[1,"col-12","col-xl-3","offset-xl-1"],["type","button",1,"btn","btn-success","btn-block","py-2",3,"routerLink","click"],["type","button",1,"btn","btn-primary","btn-block","py-2",3,"routerLink","click"],[1,"text-center","text-primary","font-weight-bold","w-100"],[1,"bg-primary","rounded-pill","text-white","my-1","mx-2","px-3","py-1"],[1,"text-primary","text-center","font-weight-bold","w-100"],[1,"col-3","d-flex","align-items-center","overflow-hidden","text-nowrap"],[3,"user","checked","disabled","addUser","removeUser"]],template:function(t,e){1&t&&(O.Tb(0,"form",0),O.Tb(1,"h3",1),O.Ic(2,"Adicionar participante"),O.Sb(),O.Tb(3,"div",2),O.Tb(4,"label",3),O.Ic(5,"E-mail "),O.Tb(6,"span",4),O.Ic(7,"*"),O.Sb(),O.Ic(8,":"),O.Sb(),O.Ob(9,"input",5),O.Sb(),O.Tb(10,"div",2),O.Tb(11,"label",6),O.Ic(12,"Nome "),O.Tb(13,"span",4),O.Ic(14,"*"),O.Sb(),O.Ic(15,":"),O.Sb(),O.Ob(16,"input",7),O.Sb(),O.Tb(17,"div",2),O.Tb(18,"label",8),O.Ic(19,"Papel:"),O.Sb(),O.Ob(20,"input",9),O.Sb(),O.Tb(21,"div",10),O.Tb(22,"button",11),O.fc("click",(function(){return e.addObserverForm.reset()})),O.Ic(23,"Cancelar"),O.Sb(),O.Tb(24,"button",12),O.fc("click",(function(){return e.addObserver()})),O.Ic(25,"Adicionar"),O.Sb(),O.Sb(),O.Sb(),O.Tb(26,"div",13),O.Tb(27,"h4"),O.Ic(28,"Adicionar observadores"),O.Sb(),O.Tb(29,"div",14),O.Tb(30,"div",15),O.Tb(31,"label",16),O.Ob(32,"i",17),O.Sb(),O.Tb(33,"input",18),O.fc("keyup",(function(t){return e.search_by(t)})),O.Sb(),O.Sb(),O.Tb(34,"div",19),O.Tb(35,"button",20),O.Ic(36,"PESQUISAR"),O.Sb(),O.Sb(),O.Sb(),O.Tb(37,"div",21),O.Tb(38,"div",22),O.Tb(39,"button",23,24),O.fc("click",(function(t){return e.filter_by("*",t)})),O.Ic(41,"*"),O.Sb(),O.Sb(),O.Tb(42,"div",22),O.Tb(43,"div",25,26),O.Tb(45,"button",27),O.fc("click",(function(t){return e.filter_by("a",t)})),O.Ic(46,"A"),O.Sb(),O.Tb(47,"button",27),O.fc("click",(function(t){return e.filter_by("b",t)})),O.Ic(48,"B"),O.Sb(),O.Tb(49,"button",27),O.fc("click",(function(t){return e.filter_by("c",t)})),O.Ic(50,"C"),O.Sb(),O.Tb(51,"button",27),O.fc("click",(function(t){return e.filter_by("d",t)})),O.Ic(52,"D"),O.Sb(),O.Tb(53,"button",27),O.fc("click",(function(t){return e.filter_by("e",t)})),O.Ic(54,"E"),O.Sb(),O.Tb(55,"button",27),O.fc("click",(function(t){return e.filter_by("f",t)})),O.Ic(56,"F"),O.Sb(),O.Tb(57,"button",27),O.fc("click",(function(t){return e.filter_by("g",t)})),O.Ic(58,"G"),O.Sb(),O.Tb(59,"button",27),O.fc("click",(function(t){return e.filter_by("h",t)})),O.Ic(60,"H"),O.Sb(),O.Tb(61,"button",27),O.fc("click",(function(t){return e.filter_by("i",t)})),O.Ic(62,"I"),O.Sb(),O.Tb(63,"button",27),O.fc("click",(function(t){return e.filter_by("j",t)})),O.Ic(64,"J"),O.Sb(),O.Tb(65,"button",27),O.fc("click",(function(t){return e.filter_by("k",t)})),O.Ic(66,"K"),O.Sb(),O.Tb(67,"button",27),O.fc("click",(function(t){return e.filter_by("l",t)})),O.Ic(68,"L"),O.Sb(),O.Tb(69,"button",27),O.fc("click",(function(t){return e.filter_by("m",t)})),O.Ic(70,"M"),O.Sb(),O.Sb(),O.Tb(71,"div",28,29),O.Tb(73,"button",27),O.fc("click",(function(t){return e.filter_by("n",t)})),O.Ic(74,"N"),O.Sb(),O.Tb(75,"button",27),O.fc("click",(function(t){return e.filter_by("o",t)})),O.Ic(76,"O"),O.Sb(),O.Tb(77,"button",27),O.fc("click",(function(t){return e.filter_by("p",t)})),O.Ic(78,"P"),O.Sb(),O.Tb(79,"button",27),O.fc("click",(function(t){return e.filter_by("q",t)})),O.Ic(80,"Q"),O.Sb(),O.Tb(81,"button",27),O.fc("click",(function(t){return e.filter_by("r",t)})),O.Ic(82,"R"),O.Sb(),O.Tb(83,"button",27),O.fc("click",(function(t){return e.filter_by("s",t)})),O.Ic(84,"S"),O.Sb(),O.Tb(85,"button",27),O.fc("click",(function(t){return e.filter_by("t",t)})),O.Ic(86,"T"),O.Sb(),O.Tb(87,"button",27),O.fc("click",(function(t){return e.filter_by("u",t)})),O.Ic(88,"U"),O.Sb(),O.Tb(89,"button",27),O.fc("click",(function(t){return e.filter_by("v",t)})),O.Ic(90,"V"),O.Sb(),O.Tb(91,"button",27),O.fc("click",(function(t){return e.filter_by("w",t)})),O.Ic(92,"W"),O.Sb(),O.Tb(93,"button",27),O.fc("click",(function(t){return e.filter_by("x",t)})),O.Ic(94,"X"),O.Sb(),O.Tb(95,"button",27),O.fc("click",(function(t){return e.filter_by("y",t)})),O.Ic(96,"Y"),O.Sb(),O.Tb(97,"button",27),O.fc("click",(function(t){return e.filter_by("z",t)})),O.Ic(98,"Z"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(99,"form",30),O.Tb(100,"div",31),O.Tb(101,"div",32),O.Tb(102,"span"),O.Ic(103,"Voc\xea adicionou:"),O.Sb(),O.Sb(),O.Tb(104,"div",33),O.Gc(105,Lt,2,0,"div",34),O.Gc(106,qt,2,1,"div",35),O.Sb(),O.Sb(),O.Sb(),O.Tb(107,"h5",36),O.Ic(108,"Selecionar observadores"),O.Sb(),O.Tb(109,"form",37),O.Tb(110,"div",31),O.Gc(111,Gt,2,0,"div",38),O.Gc(112,Ut,2,3,"div",39),O.Sb(),O.Sb(),O.Ob(113,"hr"),O.Tb(114,"div",40),O.Tb(115,"div",31),O.Tb(116,"div",41),O.Tb(117,"button",42),O.Ic(118,"ADICIONAR OBSERVADORES"),O.Sb(),O.Sb(),O.Tb(119,"div",43),O.Tb(120,"button",44),O.fc("click",(function(){return e.submit()})),O.Ic(121,"VOLTAR"),O.Sb(),O.Sb(),O.Tb(122,"div",19),O.Tb(123,"button",45),O.fc("click",(function(){return e.submit()})),O.Ic(124,"PROSSEGUIR"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.oc("formGroup",e.addObserverForm),O.Ab(105),O.oc("ngIf",!(null!=e.programObservers&&e.programObservers.length)),O.Ab(1),O.oc("ngForOf",e.programObservers),O.Ab(5),O.oc("ngIf",!(null!=e.observers&&e.observers.length)),O.Ab(1),O.oc("ngForOf",e.observers),O.Ab(8),O.oc("routerLink",O.rc(7,Vt)),O.Ab(3),O.oc("routerLink",O.rc(8,Ht)))},directives:[o.w,o.n,o.g,o.b,o.m,o.f,o.o,i.k,i.j,a.c,Ft],encapsulation:2}),t}(),Wt=["alphabet1"],Jt=["alphabet2"],Qt=["alphabetAll"];function Zt(t,e){1&t&&(O.Tb(0,"div",46),O.Ic(1,"No participant selected"),O.Sb())}function Kt(t,e){if(1&t&&(O.Tb(0,"div",47),O.Ic(1),O.Sb()),2&t){var n=e.$implicit;O.Ab(1),O.Jc(n.getName())}}function Yt(t,e){1&t&&(O.Tb(0,"div",48),O.Ic(1,"O filtro selecionado resultou em nada, tente troca-lo."),O.Sb())}function Xt(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",49),O.Tb(1,"esm-user-checkbox",50),O.fc("addUser",(function(t){return O.zc(n),O.jc().addProgramParticipant(t)}))("removeUser",(function(t){return O.zc(n),O.jc().removeProgramObserver(t)})),O.Sb(),O.Sb()}if(2&t){var i=e.$implicit,r=O.jc();O.Ab(1),O.oc("user",i)("checked",r.isChecked(i))}}var te=function(){return["../second/"]},ee=function(){return["../fourth/"]},ne=function(){function t(t,e,n){this.dao=t,this.programAddService=e,this.formBuilder=n,this.hasChanged=!1,this.addParticipantForm=this.formBuilder.group({email:["",o.u.required],name:["",o.u.required],nickname:[""]})}return t.prototype.isChecked=function(t){return!!(this.programParticipants?this.programParticipants.find((function(e){return e.getId()===t.getId()})):void 0)},t.prototype.ngOnInit=function(){var t=this;this.participants=this.programAddService.getParticipants(),this.programParticipants=this.programAddService.getParticipantsInstance(),this.programAddService.getProgramObservable().subscribe((function(e){t.participants=t.programAddService.getParticipants(),t.programParticipants=t.programAddService.getParticipantsInstance()}))},t.prototype.addParticipant=function(){var t=this;this.dao.postObject(u.d,new h(this.addParticipantForm.getRawValue())).subscribe((function(e){var n=new h(e);t.participants.push(n),t.participants.sort((function(t,e){return t.getName().localeCompare(e.getName())})),t.addProgramParticipant(n),new s.a({title:"Participante adicionado aos contatos!",type:"success"}).show(),t.addParticipantForm.reset()}),(function(t){return new s.a({title:"Falha ao adicionar o contato",type:"error"}).show()}))},t.prototype.addProgramParticipant=function(t){t instanceof h||(t=this.participants.find((function(e){return e.getId()===t}))),this.programParticipants.push(t),this.programParticipants.sort((function(t,e){return t.getName().localeCompare(e.getName())})),this.hasChanged=!0},t.prototype.removeProgramObserver=function(t){this.programParticipants.splice(this.programParticipants.findIndex((function(e){return e.getId()===t})),1),this.hasChanged=!0},t.prototype.filter_by=function(t,e){if("*"!==t)this.alphabetAll.nativeElement.classList.contains("btn-default-active")&&(this.alphabetAll.nativeElement.classList.remove("btn-default-active"),this.participants=new Array),e.target.classList.contains("btn-default-active")?(e.target.classList.remove("btn-default-active"),this.participants=this.participants.filter((function(e){return!e.getName().startsWith(t.toLowerCase())&&!e.getName().startsWith(t.toUpperCase())}))):(e.target.classList.add("btn-default-active"),this.participants=this.participants.concat(this.programAddService.getParticipants().filter((function(e){return e.getName().startsWith(t.toLowerCase())||e.getName().startsWith(t.toUpperCase())}))),this.participants.sort((function(t,e){return t.getName().localeCompare(e.getName())})));else{this.participants=this.programAddService.getParticipants(),e.target.classList.add("btn-default-active");for(var n=0,i=this.alphabet1.nativeElement.children;n<i.length;n++)i[n].classList.remove("btn-default-active");for(var r=0,o=this.alphabet2.nativeElement.children;r<o.length;r++)o[r].classList.remove("btn-default-active")}},t.prototype.search_by=function(t){this.participants=this.programAddService.getParticipants().filter((function(e){return e.getName().includes(t.target.value)}))},t.prototype.submit=function(){this.hasChanged&&this.programAddService.saveStep({participants:this.programParticipants.map((function(t){return t.getId()}))})},t.\u0275fac=function(e){return new(e||t)(O.Nb(p.a),O.Nb(k),O.Nb(o.c))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-step3"]],viewQuery:function(t,e){var n;1&t&&(O.Nc(Wt,!0),O.Nc(Jt,!0),O.Nc(Qt,!0)),2&t&&(O.wc(n=O.gc())&&(e.alphabet1=n.first),O.wc(n=O.gc())&&(e.alphabet2=n.first),O.wc(n=O.gc())&&(e.alphabetAll=n.first))},decls:125,vars:9,consts:[["id","addParticipant",1,"bg-white","shadow-lg","popup","p-5","collapse",2,"z-index","3","top","10%",3,"formGroup"],[1,"mb-5"],[1,"mb-3"],["for","email",1,"mb-0"],[1,"text-danger"],["type","email","id","email","formControlName","email",1,"w-100"],["for","name",1,"mb-0"],["type","text","id","name","formControlName","name",1,"w-100"],["for","nickname",1,"mb-0"],["type","text","id","nickname","formControlName","nickname",1,"w-100"],[1,"d-flex","justify-content-between","mt-5"],["type","button","data-toggle","collapse","data-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapseCancel",1,"btn","btn-outline-primary",3,"click"],["type","button","data-toggle","collapse","data-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapseAdd",1,"btn","btn-primary",3,"click"],[1,"container-fluid","px-xl-5"],[1,"form-row","form-group","input-group"],[1,"col-12","col-xl-9","d-flex","justify-content-between","align-items-center"],["for","search-pesquisador",1,"input-group-prepend","d-inline-block"],[1,"fas","fa-search","input-group-text"],["id","search-pesquisador","type","text","placeholder","Pesquisar participantes pelo nome",1,"w-100","ml-2",3,"keyup"],[1,"col-12","col-xl-3"],["type","button",1,"btn","btn-outline-primary","btn-block","mt-3","mt-xl-0"],["aria-label","alphabet",1,"container-flex"],[1,"row","justify-content-center"],["type","button",1,"btn","btn-default","btn-default-active","text-primary","font-weight-bold","px-3",3,"click"],["alphabetAll",""],[1,"col-12","col-md-6","d-flex","justify-content-between","pr-md-2"],["alphabet1",""],["type","button",1,"btn","btn-default","text-primary","font-weight-bold","p-1",3,"click"],[1,"col-12","col-md-6","d-flex","justify-content-between","pl-md-2"],["alphabet2",""],[1,"card","container-fluid"],[1,"row"],[1,"col-12","col-md-2","d-flex","align-items-center","text-center"],[1,"col-12","col-md-10","d-flex","flex-wrap","flex-row","justify-content-center","align-items-center","py-3"],["class","text-center text-primary font-weight-bold w-100",4,"ngIf"],["class","bg-primary rounded-pill text-white my-1 mx-2 px-3 py-1",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"container","border","p-3"],["class","text-primary text-center font-weight-bold w-100",4,"ngIf"],["class","col-3 d-flex align-items-center overflow-hidden text-nowrap",4,"ngFor","ngForOf"],[1,"container-fluid","p-0","mb-3"],[1,"col-12","col-xl-5"],["type","button","data-toggle","collapse","data-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapse",1,"btn","btn-outline-primary","btn-block","py-2"],[1,"col-12","col-xl-3","offset-xl-1"],["type","button",1,"btn","btn-success","btn-block","py-2",3,"routerLink","click"],["type","button",1,"btn","btn-primary","btn-block","py-2",3,"routerLink","click"],[1,"text-center","text-primary","font-weight-bold","w-100"],[1,"bg-primary","rounded-pill","text-white","my-1","mx-2","px-3","py-1"],[1,"text-primary","text-center","font-weight-bold","w-100"],[1,"col-3","d-flex","align-items-center","overflow-hidden","text-nowrap"],[3,"user","checked","addUser","removeUser"]],template:function(t,e){1&t&&(O.Tb(0,"form",0),O.Tb(1,"h3",1),O.Ic(2,"Adicionar participante"),O.Sb(),O.Tb(3,"div",2),O.Tb(4,"label",3),O.Ic(5,"E-mail "),O.Tb(6,"span",4),O.Ic(7,"*"),O.Sb(),O.Ic(8,":"),O.Sb(),O.Ob(9,"input",5),O.Sb(),O.Tb(10,"div",2),O.Tb(11,"label",6),O.Ic(12,"Nome "),O.Tb(13,"span",4),O.Ic(14,"*"),O.Sb(),O.Ic(15,":"),O.Sb(),O.Ob(16,"input",7),O.Sb(),O.Tb(17,"div",2),O.Tb(18,"label",8),O.Ic(19,"Papel:"),O.Sb(),O.Ob(20,"input",9),O.Sb(),O.Tb(21,"div",10),O.Tb(22,"button",11),O.fc("click",(function(){return e.addParticipantForm.reset()})),O.Ic(23,"Cancelar"),O.Sb(),O.Tb(24,"button",12),O.fc("click",(function(){return e.addParticipant()})),O.Ic(25,"Adicionar"),O.Sb(),O.Sb(),O.Sb(),O.Tb(26,"div",13),O.Tb(27,"h4"),O.Ic(28,"Adicionar participantes"),O.Sb(),O.Tb(29,"div",14),O.Tb(30,"div",15),O.Tb(31,"label",16),O.Ob(32,"i",17),O.Sb(),O.Tb(33,"input",18),O.fc("keyup",(function(t){return e.search_by(t)})),O.Sb(),O.Sb(),O.Tb(34,"div",19),O.Tb(35,"button",20),O.Ic(36,"PESQUISAR"),O.Sb(),O.Sb(),O.Sb(),O.Tb(37,"div",21),O.Tb(38,"div",22),O.Tb(39,"button",23,24),O.fc("click",(function(t){return e.filter_by("*",t)})),O.Ic(41,"*"),O.Sb(),O.Sb(),O.Tb(42,"div",22),O.Tb(43,"div",25,26),O.Tb(45,"button",27),O.fc("click",(function(t){return e.filter_by("a",t)})),O.Ic(46,"A"),O.Sb(),O.Tb(47,"button",27),O.fc("click",(function(t){return e.filter_by("b",t)})),O.Ic(48,"B"),O.Sb(),O.Tb(49,"button",27),O.fc("click",(function(t){return e.filter_by("c",t)})),O.Ic(50,"C"),O.Sb(),O.Tb(51,"button",27),O.fc("click",(function(t){return e.filter_by("d",t)})),O.Ic(52,"D"),O.Sb(),O.Tb(53,"button",27),O.fc("click",(function(t){return e.filter_by("e",t)})),O.Ic(54,"E"),O.Sb(),O.Tb(55,"button",27),O.fc("click",(function(t){return e.filter_by("f",t)})),O.Ic(56,"F"),O.Sb(),O.Tb(57,"button",27),O.fc("click",(function(t){return e.filter_by("g",t)})),O.Ic(58,"G"),O.Sb(),O.Tb(59,"button",27),O.fc("click",(function(t){return e.filter_by("h",t)})),O.Ic(60,"H"),O.Sb(),O.Tb(61,"button",27),O.fc("click",(function(t){return e.filter_by("i",t)})),O.Ic(62,"I"),O.Sb(),O.Tb(63,"button",27),O.fc("click",(function(t){return e.filter_by("j",t)})),O.Ic(64,"J"),O.Sb(),O.Tb(65,"button",27),O.fc("click",(function(t){return e.filter_by("k",t)})),O.Ic(66,"K"),O.Sb(),O.Tb(67,"button",27),O.fc("click",(function(t){return e.filter_by("l",t)})),O.Ic(68,"L"),O.Sb(),O.Tb(69,"button",27),O.fc("click",(function(t){return e.filter_by("m",t)})),O.Ic(70,"M"),O.Sb(),O.Sb(),O.Tb(71,"div",28,29),O.Tb(73,"button",27),O.fc("click",(function(t){return e.filter_by("n",t)})),O.Ic(74,"N"),O.Sb(),O.Tb(75,"button",27),O.fc("click",(function(t){return e.filter_by("o",t)})),O.Ic(76,"O"),O.Sb(),O.Tb(77,"button",27),O.fc("click",(function(t){return e.filter_by("p",t)})),O.Ic(78,"P"),O.Sb(),O.Tb(79,"button",27),O.fc("click",(function(t){return e.filter_by("q",t)})),O.Ic(80,"Q"),O.Sb(),O.Tb(81,"button",27),O.fc("click",(function(t){return e.filter_by("r",t)})),O.Ic(82,"R"),O.Sb(),O.Tb(83,"button",27),O.fc("click",(function(t){return e.filter_by("s",t)})),O.Ic(84,"S"),O.Sb(),O.Tb(85,"button",27),O.fc("click",(function(t){return e.filter_by("t",t)})),O.Ic(86,"T"),O.Sb(),O.Tb(87,"button",27),O.fc("click",(function(t){return e.filter_by("u",t)})),O.Ic(88,"U"),O.Sb(),O.Tb(89,"button",27),O.fc("click",(function(t){return e.filter_by("v",t)})),O.Ic(90,"V"),O.Sb(),O.Tb(91,"button",27),O.fc("click",(function(t){return e.filter_by("w",t)})),O.Ic(92,"W"),O.Sb(),O.Tb(93,"button",27),O.fc("click",(function(t){return e.filter_by("x",t)})),O.Ic(94,"X"),O.Sb(),O.Tb(95,"button",27),O.fc("click",(function(t){return e.filter_by("y",t)})),O.Ic(96,"Y"),O.Sb(),O.Tb(97,"button",27),O.fc("click",(function(t){return e.filter_by("z",t)})),O.Ic(98,"Z"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(99,"form",30),O.Tb(100,"div",31),O.Tb(101,"div",32),O.Tb(102,"span"),O.Ic(103,"Voc\xea adicionou:"),O.Sb(),O.Sb(),O.Tb(104,"div",33),O.Gc(105,Zt,2,0,"div",34),O.Gc(106,Kt,2,1,"div",35),O.Sb(),O.Sb(),O.Sb(),O.Tb(107,"h5",36),O.Ic(108,"Selecionar participantes"),O.Sb(),O.Tb(109,"form",37),O.Tb(110,"div",31),O.Gc(111,Yt,2,0,"div",38),O.Gc(112,Xt,2,2,"div",39),O.Sb(),O.Sb(),O.Ob(113,"hr"),O.Tb(114,"div",40),O.Tb(115,"div",31),O.Tb(116,"div",41),O.Tb(117,"button",42),O.Ic(118,"ADICIONAR PARTICIPANTES"),O.Sb(),O.Sb(),O.Tb(119,"div",43),O.Tb(120,"button",44),O.fc("click",(function(){return e.submit()})),O.Ic(121,"VOLTAR"),O.Sb(),O.Sb(),O.Tb(122,"div",19),O.Tb(123,"button",45),O.fc("click",(function(){return e.submit()})),O.Ic(124,"PROSSEGUIR"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.oc("formGroup",e.addParticipantForm),O.Ab(105),O.oc("ngIf",!(null!=e.programParticipants&&e.programParticipants.length)),O.Ab(1),O.oc("ngForOf",e.programParticipants),O.Ab(5),O.oc("ngIf",!(null!=e.participants&&e.participants.length)),O.Ab(1),O.oc("ngForOf",e.participants),O.Ab(8),O.oc("routerLink",O.rc(7,te)),O.Ab(3),O.oc("routerLink",O.rc(8,ee)))},directives:[o.w,o.n,o.g,o.b,o.m,o.f,o.o,i.k,i.j,a.c,Ft],encapsulation:2}),t}(),ie=function(){function t(t,e,n){this.router=t,this.route=e,this.http=n,this.hasMultiplePaths=!1,this.newInterventions$=new d.a,this.removeIntervention$=new d.a,this.redrawGraph$=new d.a,this.firstInterventionChange$=new d.a}return Object.defineProperty(t.prototype,"first",{set:function(t){this.firstIntervention=t,this.redrawGraph$.next(),this.firstInterventionChange$.next(t)},enumerable:!0,configurable:!0}),t.prototype.init=function(t,e,n){var i=this;this.program_id=t,this.event=e,n.sort((function(t,e){return t.orderPosition<e.orderPosition?-1:t.orderPosition>e.orderPosition?1:0}));for(var r={},o=0;o<n.length;o++)r[n[o].orderPosition]=o+1;r[0]=0,this.graphElements=[new re].concat(n.map((function(t){var e=new re(t);return e.onChange$.subscribe((function(t){return i.redrawGraph$.next()})),e}))),this.firstIntervention=this.graphElements.findIndex((function(t){return!0===t.first})),this.interventionElementsGraph=[[]].concat(n.map((function(t){return"question"===t.type&&1===t.questionType?Object.keys(t.conditions).map((function(e){return r[t.conditions[e]]})):[r[t.next]]}))),console.log("Antes",this.graphElements)},t.prototype.finish=function(){var t;if(this.hasMultiplePaths)new s.a({title:"H\xe1 interven\xe7\xf5es desconectadas",text:"Encontramos interven\xe7\xf5es que n\xe3o est\xe3o ligadas \xe0 primeira. Por favor, \xe9 necess\xe1rio deleta-las ou liga-las ao caminho principal"}).show().then();else{for(var e=0;e<this.graphElements.length;e++){var n=null===(t=this.graphElements[e])||void 0===t?void 0:t.intervention;n&&"question"!==n.type&&1!==n.questionType&&(this.graphElements[e].intervention.next=this.interventionElementsGraph[e][0])}this.event.interventionsInstances=this.graphElements.slice(1).map((function(t){return t.intervention})),this.event.interventions=this.event.interventionsInstances.map((function(t){return t.id})),this.router.navigateByUrl("private/programs/add/"+this.program_id+"/fourth").then()}},t.prototype.graphElement=function(t){return this.graphElements[t]},t.prototype.addIntervention=function(t){var e=this;void 0!==this.lastInteractedIntervention?this.graphElements[this.lastInteractedIntervention]instanceof S&&1===this.graphElement[this.lastInteractedIntervention].questionType?this.interventionElementsGraph[this.lastInteractedIntervention].push(this.interventionElementsGraph.length):this.interventionElementsGraph[this.lastInteractedIntervention]=[this.interventionElementsGraph.length]:(t.first=!0,this.firstIntervention=1),this.interventionElementsGraph.push([0]),this.graphElements.push(t),this.newInterventions$.next({graphIndex:this.graphElements.length-1,intervention:t}),this.redrawGraph$.next(),t.onChange$.subscribe((function(t){return e.redrawGraph$.next()})),console.log("graphElements",this.graphElements),console.log("interventionElementsGraph",this.interventionElementsGraph),console.log("firstIntervention",this.firstIntervention)},t.prototype.removeIntervention=function(t){this.graphElements.splice(t,1),this.interventionElementsGraph.splice(t,1);for(var e=0,n=this.interventionElementsGraph;e<n.length;e++)for(var i=n[e],r=0;r<i.length;)i[r]===t?i[r]=0:i[r]>t?(i[r]--,r++):r++;this.removeIntervention$.next(t),this.redrawGraph$.next()},t.prototype.setNextFromTo=function(t,e){this.hasArrow(t,e)||(this.interventionElementsGraph[t].push(e),this.redrawGraph$.next())},t.prototype.hasArrow=function(t,e){for(var n=0,i=this.interventionElementsGraph[t];n<i.length;n++)if(i[n]===e)return!0;return!1},t.prototype.removeEdges=function(t,e){void 0===e&&(e=!0),this.interventionElementsGraph[t]=[],e&&this.redrawGraph$.next()},t.prototype.warnCycle=function(t){},t.prototype.setFirst=function(t){this.firstIntervention=t,this.redrawGraph$.next(),this.firstInterventionChange$.next(t)},t.\u0275fac=function(e){return new(e||t)(O.bc(a.b),O.bc(a.a),O.bc(J.b))},t.\u0275prov=O.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),re=function(){function t(t,e,n,i,r){this.intervention=t,this._x=e,this._y=n,this._width=i,this._height=r,this.onChange$=new d.a}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){t!==this._x&&(this._x=t,this.onChange$.next(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){t!==this._y&&(this._y=t,this.onChange$.next(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){t!==this._width&&(this._width=t,this.onChange$.next(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){t!==this._height&&(this._height=t,this.onChange$.next(this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"questionType",{get:function(){if(this.intervention instanceof S)return this.intervention.questionType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statement",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.statement},set:function(t){this.intervention.statement=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orderPosition",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.orderPosition},set:function(t){this.intervention.orderPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"typeDescription",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.getTypeDescription()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.first},set:function(t){this.intervention.first=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"obligatory",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.obligatory},set:function(t){this.intervention.obligatory=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return{x:this.x,y:this.y-this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return{x:this.x,y:this.y+this.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return{x:this.x-this.width/2,y:this.y}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return{x:this.x+this.width/2,y:this.y}},enumerable:!0,configurable:!0}),t}();function oe(t,e){if(1&t){var n=O.Ub();O.Tb(0,"li",42),O.Tb(1,"button",43),O.fc("click",(function(){O.zc(n);var t=O.jc();return t.isOpen=!t.isOpen})),O.Ic(2),O.Sb(),O.Ob(3,"i",44),O.Sb()}if(2&t){var i=O.jc();O.Ab(2),O.Jc(i.trigger.getDescription())}}function se(t,e){if(1&t){var n=O.Ub();O.Tb(0,"button",45),O.fc("click",(function(){return O.zc(n),O.jc().modifyTrigger()})),O.Ic(1,"Modificar disparo"),O.Sb()}}function ae(t,e){if(1&t){var n=O.Ub();O.Tb(0,"button",45),O.fc("click",(function(){return O.zc(n),O.jc().addTrigger()})),O.Ic(1,"Adicionar disparo"),O.Sb()}}var ce=function(){function t(t){this.daoService=t,this.triggerOutput=new O.n,this.isOpen=!1}return t.prototype.ngOnInit=function(){var t=this;this.trigger?(this.isAddTriggerComponent=!1,this.time=new o.d({hour:this.trigger.getHour(),minute:this.trigger.getMinutes()})):(this.isAddTriggerComponent=!0,this.trigger=new I,this.time=new o.d({hour:null,minute:null})),this.time.valueChanges.subscribe((function(e){return t.updateTriggerTime()}))},t.prototype.updateTriggerTime=function(){"manual"!==this.trigger.getTriggerType()?this.time.value&&(this.trigger.setHour(this.time.value.hour),this.trigger.setMinute(this.time.value.minute)):null==this.time.value.hour&&null==this.time.value.minute||this.time.setValue({hour:null,minute:null})},t.prototype.modifyTrigger=function(){var t,e=this;t=this.trigger.getTriggerCondition()instanceof w?this.trigger.getTriggerCondition().toString():this.trigger.getTriggerCondition(),this.daoService.patchObject(u.g,{id:this.trigger.getId(),triggerType:this.trigger.getTriggerType(),triggerCondition:t,priority:this.trigger.getPriority(),timeOut:this.trigger.getTimeOut()}).subscribe((function(t){return e.triggerOutput.emit(new I(t))}))},t.prototype.addTrigger=function(){var t,e=this;t=this.trigger.getTriggerCondition()instanceof w?this.trigger.getTriggerCondition().toString():this.trigger.getTriggerCondition(),this.daoService.postObject(u.g,{triggerType:this.trigger.getTriggerType(),triggerCondition:t,priority:this.trigger.getPriority(),timeOut:this.trigger.getTimeOut()}).subscribe((function(t){return e.triggerOutput.emit(new I(t))}))},t.\u0275fac=function(e){return new(e||t)(O.Nb(p.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-trigger"]],inputs:{trigger:"trigger"},outputs:{triggerOutput:"triggerOutput"},decls:71,vars:31,consts:[[1,"mt-2"],["class","d-flex justify-content-between align-items-center text-center bg-primary-10 rounded-pill mx-2 px-3 py-1 font-weight-bold",4,"ngIf"],[1,"row","collapse","mx-5",3,"ngbCollapse"],[1,"col-12","d-flex","justify-content-around"],[1,"d-flex","flex-column","p-3"],[1,"font-weight-bold","my-2"],["type","checkbox","id","select-all",3,"checked","disabled","click"],["for","select-all"],["type","checkbox","id","sunday",3,"checked","disabled","click"],["type","checkbox","id","monday",3,"checked","disabled","click"],["for","monday"],["type","checkbox","id","tuesday",3,"checked","disabled","click"],["for","tuesday"],["type","checkbox","id","wednesday",3,"checked","disabled","click"],["for","wednesday"],["type","checkbox","id","thursday",3,"checked","disabled","click"],["for","thursday"],["type","checkbox","id","friday",3,"checked","disabled","click"],["for","friday"],["type","checkbox","id","saturday",3,"checked","disabled","click"],["for","saturday"],[1,"d-flex","flex-column","justify-content-around","w-25"],[1,"d-flex","flex-column","text-center"],[1,"font-weight-bold"],[3,"formControl","minuteStep","readonlyInputs","change"],[1,"d-flex","justify-content-center","flex-wrap","text-center"],[1,"font-weight-bold","w-100"],[1,"input-group-prepend","w-100"],[1,"input-group-text","fas","fa-bell"],[1,"w-100",3,"disabled","change"],["priority",""],["value","","disabled","",3,"selected"],["value","NC",3,"selected"],["value","NL",3,"selected"],["value","AL",3,"selected"],["for","duration",1,"font-weight-bold"],["type","number","placeholder","Dura\xe7\xe3o do disparo","id","duration",3,"value","disabled","change"],["duration",""],[1,"col-12","text-center"],["class","btn btn-primary mb-3",3,"click",4,"ngIf"],["type","checkbox","id","manual",3,"checked","click"],["for","manual"],[1,"d-flex","justify-content-between","align-items-center","text-center","bg-primary-10","rounded-pill","mx-2","px-3","py-1","font-weight-bold"],["type","button",1,"btn","btn-block","text-color-inherit","font-weight-bold","text-left",3,"click"],[1,"fas","fa-times","pointer"],[1,"btn","btn-primary","mb-3",3,"click"]],template:function(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",0),O.Gc(1,oe,4,1,"li",1),O.Tb(2,"li",2),O.Tb(3,"div",3),O.Tb(4,"div",4),O.Tb(5,"span",5),O.Ic(6,"Dias da semana"),O.Sb(),O.Tb(7,"div"),O.Tb(8,"input",6),O.fc("click",(function(){return e.trigger.actOrDeactivateDay()})),O.Sb(),O.Tb(9,"label",7),O.Ic(10,"Selecionar todos"),O.Sb(),O.Sb(),O.Tb(11,"div"),O.Tb(12,"input",8),O.fc("click",(function(){return e.trigger.actOrDeactivateDay("1")})),O.Sb(),O.Tb(13,"label"),O.Ic(14,"Domingo"),O.Sb(),O.Sb(),O.Tb(15,"div"),O.Tb(16,"input",9),O.fc("click",(function(){return e.trigger.actOrDeactivateDay("2")})),O.Sb(),O.Tb(17,"label",10),O.Ic(18,"Segunda"),O.Sb(),O.Sb(),O.Tb(19,"div"),O.Tb(20,"input",11),O.fc("click",(function(){return e.trigger.actOrDeactivateDay("3")})),O.Sb(),O.Tb(21,"label",12),O.Ic(22,"Ter\xe7a"),O.Sb(),O.Sb(),O.Tb(23,"div"),O.Tb(24,"input",13),O.fc("click",(function(){return e.trigger.actOrDeactivateDay("4")})),O.Sb(),O.Tb(25,"label",14),O.Ic(26,"Quarta"),O.Sb(),O.Sb(),O.Tb(27,"div"),O.Tb(28,"input",15),O.fc("click",(function(){return e.trigger.actOrDeactivateDay("5")})),O.Sb(),O.Tb(29,"label",16),O.Ic(30,"Quinta"),O.Sb(),O.Sb(),O.Tb(31,"div"),O.Tb(32,"input",17),O.fc("click",(function(){return e.trigger.actOrDeactivateDay("6")})),O.Sb(),O.Tb(33,"label",18),O.Ic(34,"Sexta"),O.Sb(),O.Sb(),O.Tb(35,"div"),O.Tb(36,"input",19),O.fc("click",(function(){return e.trigger.actOrDeactivateDay("7")})),O.Sb(),O.Tb(37,"label",20),O.Ic(38,"S\xe1bado"),O.Sb(),O.Sb(),O.Sb(),O.Tb(39,"div",21),O.Tb(40,"div",22),O.Tb(41,"label",23),O.Ic(42,"Hor\xe1rio"),O.Sb(),O.Tb(43,"ngb-timepicker",24),O.fc("change",(function(){return e.updateTriggerTime()})),O.Sb(),O.Sb(),O.Tb(44,"div",25),O.Tb(45,"span",26),O.Ic(46,"Tipo de notifica\xe7\xe3o"),O.Sb(),O.Tb(47,"div",27),O.Ob(48,"i",28),O.Tb(49,"select",29,30),O.fc("change",(function(){O.zc(n);var t=O.xc(50);return e.trigger.setPriority(t.value)})),O.Tb(51,"option",31),O.Ic(52,"Selecione"),O.Sb(),O.Tb(53,"option",32),O.Ic(54,"Notifica\xe7\xe3o curta"),O.Sb(),O.Tb(55,"option",33),O.Ic(56,"Notifica\xe7\xe3o longa"),O.Sb(),O.Tb(57,"option",34),O.Ic(58,"Alarme"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(59,"div",22),O.Tb(60,"label",35),O.Ic(61,"Dura\xe7\xe3o do disparo"),O.Sb(),O.Tb(62,"input",36,37),O.fc("change",(function(){O.zc(n);var t=O.xc(63);return e.trigger.setTimeOutInMinutes(t.value)})),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(64,"div",38),O.Gc(65,se,2,0,"button",39),O.Gc(66,ae,2,0,"button",39),O.Tb(67,"div"),O.Tb(68,"input",40),O.fc("click",(function(){return e.trigger.changeType(),e.updateTriggerTime()})),O.Sb(),O.Tb(69,"label",41),O.Ic(70,"Programa deve ser auto-iniciado?"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb()}2&t&&(O.Ab(1),O.oc("ngIf",!e.isAddTriggerComponent),O.Ab(1),O.oc("ngbCollapse",!e.isOpen&&!e.isAddTriggerComponent),O.Ab(6),O.oc("checked",e.trigger.isDayActive())("disabled","manual"===e.trigger.getTriggerType()),O.Ab(4),O.oc("checked",e.trigger.isDayActive("1"))("disabled","manual"===e.trigger.getTriggerType()),O.Ab(4),O.oc("checked",e.trigger.isDayActive("2"))("disabled","manual"===e.trigger.getTriggerType()),O.Ab(4),O.oc("checked",e.trigger.isDayActive("3"))("disabled","manual"===e.trigger.getTriggerType()),O.Ab(4),O.oc("checked",e.trigger.isDayActive("4"))("disabled","manual"===e.trigger.getTriggerType()),O.Ab(4),O.oc("checked",e.trigger.isDayActive("5"))("disabled","manual"===e.trigger.getTriggerType()),O.Ab(4),O.oc("checked",e.trigger.isDayActive("6"))("disabled","manual"===e.trigger.getTriggerType()),O.Ab(4),O.oc("checked",e.trigger.isDayActive("7"))("disabled","manual"===e.trigger.getTriggerType()),O.Ab(7),O.oc("formControl",e.time)("minuteStep",30)("readonlyInputs","manual"===e.trigger.getTriggerType()),O.Ab(6),O.oc("disabled","manual"===e.trigger.getTriggerType()),O.Ab(2),O.oc("selected","NC"!==e.trigger.getPriority()&&"NL"!==e.trigger.getPriority()&&"AL"!==e.trigger.getPriority()),O.Ab(2),O.oc("selected","NC"===e.trigger.getPriority()),O.Ab(2),O.oc("selected","NL"===e.trigger.getPriority()),O.Ab(2),O.oc("selected","AL"===e.trigger.getPriority()),O.Ab(5),O.oc("value",e.trigger.getTimeOutInMinutes())("disabled","manual"===e.trigger.getTriggerType()),O.Ab(3),O.oc("ngIf",!e.isAddTriggerComponent),O.Ab(1),O.oc("ngIf",e.isAddTriggerComponent),O.Ab(2),O.oc("checked","manual"===e.trigger.getTriggerType()))},directives:[i.k,C.a,C.f,o.m,o.e,o.q,o.v],encapsulation:2}),t}();function le(t,e){if(1&t&&(O.Tb(0,"div",42),O.Tb(1,"div",43),O.Tb(2,"span"),O.Tb(3,"strong"),O.Ic(4,"Disparo cadastrados:"),O.Sb(),O.Ic(5),O.Sb(),O.Tb(6,"span"),O.Tb(7,"strong"),O.Ic(8,"Interven\xe7\xf5es cadastradas:"),O.Sb(),O.Ic(9),O.Sb(),O.Sb(),O.Sb()),2&t){var n=O.jc();O.oc("ngbCollapse",n.isOpen),O.Ab(5),O.Kc(" ",n.event.getTriggersId().length,""),O.Ab(4),O.Kc(" ",n.event.getInterventionsId().length,"")}}function pe(t,e){if(1&t&&(O.Tb(0,"li",44),O.Tb(1,"span",45),O.Ic(2),O.Sb(),O.Tb(3,"span",46),O.Ic(4),O.Sb(),O.Sb()),2&t){var n=e.$implicit;O.Ab(2),O.Lc("",n.orderPosition,". ",n.getTypeDescription(),""),O.Ab(2),O.Jc(n.statement)}}function ue(t,e){1&t&&O.Ob(0,"esm-trigger",47),2&t&&O.oc("trigger",e.$implicit)}function de(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",48),O.Tb(1,"button",49),O.fc("click",(function(){return O.zc(n),O.jc().addEvent()})),O.Ic(2,"ADICIONAR EVENTO"),O.Sb(),O.Tb(3,"button",50),O.Ic(4,"IMPORTAR EVENTO"),O.Sb(),O.Sb()}}var be=function(t){return{"background-color":t}},he=function(){function t(t,e,n,i,r){this.programsAddService=t,this.interventionService=e,this.dao=n,this.router=i,this.route=r,this.isOpen=!1,this.isAddEvent=!1}return t.prototype.ngOnInit=function(){this.event||(this.resetEvent(),this.isAddEvent=!0)},t.prototype.resetEvent=function(){this.event=new v,this.event.setType("active"),this.isAddEvent=!0},t.prototype.addEvent=function(){var t=this;!this.isOpen||this.event.getTitle()?this.isOpen?this.dao.postObject(u.a,this.event).subscribe((function(e){var n=new v(e);t.programsAddService.getEventsId().push(n.getId()),t.programsAddService.getEventsInstance().push(n),t.dao.patchObject(u.e,{id:t.programsAddService.program.getId(),events:t.programsAddService.getEventsId()}).subscribe((function(e){t.resetEvent(),t.isOpen=!t.isOpen}))})):this.isOpen=!this.isOpen:new s.a({type:"warning",title:"Adicione um t\xedtulo"}).show()},t.prototype.getEventDetails=function(){this.requestInterventions(),this.requestTriggers()},t.prototype.delete_event=function(){var t=this;if(this.isAddEvent)return this.isOpen=!this.isOpen,void this.resetEvent();new s.a({title:"Deletar evento?",text:"Voc\xea tem certeza que deseja deletar "+this.event.getTitle()+"?",type:"question",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o"}).show().then((function(e){!0===e.value&&t.programsAddService.delete_event(t.event.getId())}))},t.prototype.updateEvent=function(t){t.id=this.event.getId(),this.isAddEvent||this.dao.patchObject(u.a,t).subscribe()},t.prototype.addTrigger=function(t){var e=this;this.event.getTriggersId().push(t.getId()),this.isAddEvent?this.event.getTriggersInstances().push(t):this.dao.patchObject(u.a,{id:this.event.getId(),triggers:this.event.getTriggersId()}).subscribe((function(n){e.event.getTriggersInstances().push(t)}),(function(t){}))},t.prototype.requestInterventions=function(){if(this.event.getInterventionsId().length===this.event.getInterventionsInstances().length)return this.event.getInterventionsInstances();var t=this.programsAddService.requestInterventions(this.event.getInterventionsId());return this.event.setInterventionsInstances(t),t},t.prototype.requestTriggers=function(){if(this.event.getTriggersId().length===this.event.getTriggersInstances().length)return this.event.getTriggersInstances();var t=this.programsAddService.requestTriggers(this.event.getTriggersId());return this.event.setTriggerInstance(t),t},t.prototype.goToInterventions=function(){this.interventionService.init(this.programsAddService.program.id,this.event,this.event.getInterventionsInstances()),this.router.navigate([this.event.getId(),"interventions"],{relativeTo:this.route})},t.\u0275fac=function(e){return new(e||t)(O.Nb(k),O.Nb(ie),O.Nb(p.a),O.Nb(a.b),O.Nb(a.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-active-event"]],inputs:{event:"event"},decls:55,vars:19,consts:[[1,"row","py-2","px-2","mx-1","mx-xl-4",3,"ngbCollapse","ngStyle"],[1,"col-12","d-flex","justify-content-between","align-items-center","text-white"],["data-toggle","collapse",1,"btn","btn-link","text-white","font-weight-bold",3,"click"],[1,"fas","fa-edit","text-white"],[1,"fas","fa-trash-alt","text-white",3,"click"],["class","row border shadow-sm mx-1 mx-xl-4 py-4",3,"ngbCollapse",4,"ngIf"],[3,"ngbCollapse"],[1,"row","border","shadow-sm","mx-1","mx-xl-4","py-2"],[1,"col-12","container-fluid"],[1,"row","mt-4"],[1,"col-md-8"],[3,"for"],["type","text","placeholder","Nome do programa",1,"d-block","form-control","w-100","p-1",3,"value","change","keyup"],["active_event_title",""],[1,"col-md-4","d-flex","align-items-center"],["data-toggle","dropdown",1,"btn","btn-outline-primary","btn-block","dropdown-toggle","d-flex","align-items-center","justify-content-between",3,"value"],[1,"text-black"],[1,"d-inline-block","rounded-tab","filter-blur","mx-2",3,"ngStyle"],[1,"dropdown-menu","w-100","w-xl-auto","bg-white","text-center","px-0"],[1,"dropdown-item","btn","bg-primary","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-danger","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-info","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-success","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-warning","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-dark","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-secondary","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-light","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"col-xl-12"],["name","program-description","rows","1","placeholder","Descri\xe7\xe3o do programa 0/100",1,"w-100","mt-4","p-2",3,"change"],[1,"row","my-4"],[1,"col-xl-12","d-flex","justify-content-center"],[1,"btn","btn-primary","py-2","px-4",3,"click"],[1,"font-medium","font-weight-bold","text-white"],[1,"font-weight-bold"],[1,"col-12","container","list-unstyled","px-5"],["class","row my-3",4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col-12","list-unstyled","px-4","d-flex","flex-column"],[3,"trigger",4,"ngFor","ngForOf"],[1,"mt-3"],[3,"triggerOutput"],["class","d-flex justify-content-around flex-wrap px-3 mx-4 my-3",4,"ngIf"],[1,"row","border","shadow-sm","mx-1","mx-xl-4","py-4",3,"ngbCollapse"],[1,"col-12","d-flex","justify-content-between","flex-wrap","flex-sm-nowrap"],[1,"row","my-3"],[1,"col-12","text-center","text-md-left","font-weight-bold"],[1,"col-12"],[3,"trigger"],[1,"d-flex","justify-content-around","flex-wrap","px-3","mx-4","my-3"],[1,"btn","btn-outline-primary","w-100","w-xl-50","py-3",3,"click"],[1,"btn","btn-outline-primary","w-100","w-xl-50","py-3"]],template:function(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div"),O.Tb(1,"div"),O.Tb(2,"div",0),O.Tb(3,"div",1),O.Tb(4,"button",2),O.fc("click",(function(){return e.getEventDetails(),e.isOpen=!e.isOpen})),O.Ic(5),O.Sb(),O.Tb(6,"div"),O.Ob(7,"i",3),O.Tb(8,"i",4),O.fc("click",(function(){return e.delete_event()})),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Gc(9,le,10,3,"div",5),O.Sb(),O.Tb(10,"div",6),O.Tb(11,"div",7),O.Tb(12,"div",8),O.Tb(13,"div",9),O.Tb(14,"div",10),O.Tb(15,"label",11),O.Ic(16,"Nome do programa"),O.Sb(),O.Tb(17,"input",12,13),O.fc("change",(function(){O.zc(n);var t=O.xc(18);return e.updateEvent({title:t.value})}))("keyup",(function(){O.zc(n);var t=O.xc(18);return e.event.setTitle(t.value)})),O.Sb(),O.Sb(),O.Tb(19,"div",14),O.Tb(20,"button",15),O.Tb(21,"span",16),O.Ic(22,"Cor do evento: "),O.Sb(),O.Ob(23,"span",17),O.Sb(),O.Tb(24,"div",18),O.Tb(25,"button",19),O.fc("click",(function(){return e.event.setColor("#0a467f"),e.updateEvent({color:"#0a467f"})})),O.Sb(),O.Tb(26,"button",20),O.fc("click",(function(){return e.event.setColor("#dc3545"),e.updateEvent({color:"#dc3545"})})),O.Sb(),O.Tb(27,"button",21),O.fc("click",(function(){return e.event.setColor("#17a2b8"),e.updateEvent({color:"#17a2b8"})})),O.Sb(),O.Tb(28,"button",22),O.fc("click",(function(){return e.event.setColor("#28a745"),e.updateEvent({color:"#28a745"})})),O.Sb(),O.Tb(29,"button",23),O.fc("click",(function(){return e.event.setColor("#ffc107"),e.updateEvent({color:"#ffc107"})})),O.Sb(),O.Tb(30,"button",24),O.fc("click",(function(){return e.event.setColor("#343a40"),e.updateEvent({color:"#343a40"})})),O.Sb(),O.Tb(31,"button",25),O.fc("click",(function(){return e.event.setColor("#6c757d"),e.updateEvent({color:"#6c757d"})})),O.Sb(),O.Tb(32,"button",26),O.fc("click",(function(){return e.event.setColor("#f8f9fa"),e.updateEvent({color:"#f8f9fa"})})),O.Sb(),O.Sb(),O.Sb(),O.Tb(33,"div",27),O.Tb(34,"textarea",28),O.fc("change",(function(t){O.zc(n);var i=O.xc(18);return e.updateEvent({description:i.value}),e.event.setDescription(t.target.value)})),O.Ic(35),O.Sb(),O.Sb(),O.Sb(),O.Tb(36,"div",29),O.Tb(37,"div",30),O.Tb(38,"button",31),O.fc("click",(function(){return e.goToInterventions()})),O.Tb(39,"span",32),O.Ic(40,"ADICIONAR INTERVEN\xc7\xd5ES"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(41,"h4",33),O.Ic(42,"Interven\xe7\xf5es cadastradas"),O.Sb(),O.Tb(43,"div",29),O.Tb(44,"ul",34),O.Gc(45,pe,5,3,"li",35),O.Sb(),O.Sb(),O.Tb(46,"h4",33),O.Ic(47,"Disparos cadastrados"),O.Sb(),O.Tb(48,"div",36),O.Tb(49,"ul",37),O.Gc(50,ue,1,1,"esm-trigger",38),O.Tb(51,"h5",39),O.Ic(52,"Adicionar disparo"),O.Sb(),O.Tb(53,"esm-trigger",40),O.fc("triggerOutput",(function(t){return e.addTrigger(t)})),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Gc(54,de,5,0,"div",41)}if(2&t){var i=O.xc(18);O.Ab(2),O.oc("ngbCollapse",e.isAddEvent&&!e.isOpen)("ngStyle",O.sc(15,be,e.event.getColor())),O.Ab(3),O.Jc(e.event.getTitle()),O.Ab(4),O.oc("ngIf",!e.isAddEvent),O.Ab(1),O.oc("ngbCollapse",!e.isOpen),O.Ab(5),O.oc("for",i),O.Ab(2),O.Fb("is-invalid",!e.event.getTitle()),O.oc("value",e.event.getTitle()||""),O.Ab(3),O.oc("value",e.event.getColor()),O.Ab(3),O.oc("ngStyle",O.sc(17,be,e.event.getColor())),O.Ab(12),O.Jc(e.event.getDescription()),O.Ab(10),O.oc("ngForOf",e.event.getInterventionsInstances()),O.Ab(5),O.oc("ngForOf",e.event.getTriggersInstances()),O.Ab(4),O.oc("ngIf",e.isAddEvent)}},directives:[C.a,i.l,i.k,i.j,ce],encapsulation:2}),t}();function ge(t,e){if(1&t&&(O.Tb(0,"div",29),O.Tb(1,"div",30),O.Tb(2,"span"),O.Tb(3,"strong"),O.Ic(4,"Disparo cadastrados:"),O.Sb(),O.Ic(5),O.Sb(),O.Tb(6,"span"),O.Tb(7,"strong"),O.Ic(8,"Sensores cadastradas:"),O.Sb(),O.Ic(9),O.Sb(),O.Sb(),O.Sb()),2&t){var n=O.jc();O.oc("ngbCollapse",n.isOpen),O.Ab(5),O.Kc(" ",n.event.getTriggersId().length||"Nenhum disparo cadastrado",""),O.Ab(4),O.Kc(" ",n.event.getSensorsId().length||"Nenhum sensor cadastrado","")}}function fe(t,e){1&t&&O.Ob(0,"esm-trigger",31),2&t&&O.oc("trigger",e.$implicit)}function ve(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",32),O.Tb(1,"button",33),O.fc("click",(function(){return O.zc(n),O.jc().addEvent()})),O.Ic(2,"ADICIONAR COLETA"),O.Sb(),O.Sb()}}var me=function(t){return{"background-color":t}},ye=function(t,e){return{"bg-primary":t,"text-white":e}},Se=function(){function t(t,e){this.dao=t,this.programsAddService=e,this.isOpen=!1,this.isAddEvent=!1}return t.prototype.ngOnInit=function(){this.event||(this.resetEvent(),this.isAddEvent=!0)},t.prototype.resetEvent=function(){this.event=new f,this.event.setType("passive"),this.isAddEvent=!0},t.prototype.addEvent=function(){var t=this;!this.isOpen||this.event.getTitle()?this.isOpen?this.dao.postObject(u.a,this.event).subscribe((function(e){var n=new f(e);t.programsAddService.getEventsId().push(n.getId()),t.programsAddService.getEventsInstance().push(n),t.dao.patchObject(u.e,{id:t.programsAddService.program.getId(),events:t.programsAddService.getEventsId()}).subscribe((function(e){t.resetEvent(),t.isOpen=!t.isOpen}))})):this.isOpen=!this.isOpen:new s.a({type:"warning",title:"Adicione um t\xedtulo"}).show()},t.prototype.delete_event=function(){var t=this;if(this.isAddEvent)return this.isOpen=!this.isOpen,void this.resetEvent();new s.a({title:"Deletar evento?",text:"Voc\xea tem certeza que deseja deletar "+this.event.getTitle()+"?",type:"question",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o"}).show().then((function(e){!0===e.value&&t.programsAddService.delete_event(t.event.getId())}))},t.prototype.getActivitySensorCollector=function(){var t=this.event.getSensorOfType("activity");if(t)return t.getCollector()},t.prototype.getLocationSensorCollector=function(){var t=this.event.getSensorOfType("location");if(t)return t.getCollector()},t.prototype.getMeasureUseSensorCollector=function(){var t=this.event.getSensorOfType("measure_use");if(t)return t.getCollector()},t.prototype.getEventDetails=function(){this.requestTriggers(),this.requestSensors()},t.prototype.updateEvent=function(t){t.id=this.event.getId(),this.isAddEvent||this.dao.patchObject(u.a,t).subscribe()},t.prototype.updateSensor=function(t,e){var n=this,i=this.event.getSensorOfType(t);i?i.getCollector()===e?this.dao.deleteObject(u.f,i.getId().toString()).subscribe((function(e){return n.event.removeCollectorOfType(t)})):this.dao.patchObject(u.f,{id:i.getId(),collector:e}).subscribe((function(t){return i.setCollector(e)})):this.dao.postObject(u.f,{sensor:t,collector:e,sensorType:0}).subscribe((function(t){n.event.addSensor(new x(t)),n.isAddEvent||n.dao.patchObject(u.a,{id:n.event.getId(),sensors:n.event.getSensorsId()}).subscribe()}))},t.prototype.addTrigger=function(t){var e=this;this.event.getTriggersId().push(t.getId()),this.isAddEvent?this.event.getTriggersInstances().push(t):this.dao.patchObject(u.a,{id:this.event.getId(),triggers:this.event.getTriggersId()}).subscribe((function(n){e.event.getTriggersInstances().push(t)}),(function(t){}))},t.prototype.requestTriggers=function(){if(this.event.getTriggersId().length===this.event.getTriggersInstances().length)return this.event.getTriggersInstances();var t=this.programsAddService.requestTriggers(this.event.getTriggersId());return this.event.setTriggerInstance(t),t},t.prototype.requestSensors=function(){if(this.event.getSensorsId().length===this.event.getSensorsInstance().length)return this.event.getSensorsInstance();var t=this.programsAddService.requestSensors(this.event.getSensorsId());return this.event.setSensorsInstances(t),t},t.\u0275fac=function(e){return new(e||t)(O.Nb(p.a),O.Nb(k))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-event"]],inputs:{event:"event"},decls:68,vars:42,consts:[[1,"row","bg-primary","py-2","px-2","mx-1","mx-xl-4",3,"ngbCollapse","ngStyle"],[1,"col-12","d-flex","justify-content-between","align-items-center","text-white"],["data-toggle","collapse",1,"btn","btn-link","text-white",3,"click"],[1,"fas","fa-edit","text-white"],[1,"fas","fa-trash-alt","text-white",3,"click"],["class","row border shadow-sm mx-1 mx-xl-4 py-4",3,"ngbCollapse",4,"ngIf"],[1,"collapse","multi-collapse-sensor",3,"ngbCollapse"],[1,"row","border","shadow-sm","mx-1","mx-xl-4","py-2"],[1,"col-12","mt-4"],[3,"for"],["type","text","placeholder","Nome do programa",1,"d-block","w-100","w-xl-75","py-2",3,"value","change","keyup"],["event_title",""],["rows","1","placeholder","Descri\xe7\xe3o do programa",1,"d-block","w-100","py-2","mt-3",3,"change","keyup"],[1,"ml-3","mt-3","font-weight-bold"],[1,"col-12","d-flex","justify-content-around","my-3"],[1,"input-group","justify-content-center","align-items-center","mb-3"],[1,"font-weight-bold"],[1,"input-group-prepend","justify-content-center","mr-2","w-100"],["type","button",1,"input-group-text",3,"ngClass","click"],[1,"fas","fa-mobile-alt"],[1,"input-group-text","bg-white",3,"ngbCollapse"],[1,"fas","fa-clock"],[1,"col-12"],[1,"row","mt-3"],[1,"col-12","list-unstyled","px-4","d-flex","flex-column"],[3,"trigger",4,"ngFor","ngForOf"],[1,"mt-3"],[3,"triggerOutput"],["class","d-flex justify-content-around flex-wrap px-3 mx-4 my-3",4,"ngIf"],[1,"row","border","shadow-sm","mx-1","mx-xl-4","py-4",3,"ngbCollapse"],[1,"col-12","d-flex","justify-content-between","flex-wrap","flex-sm-nowrap"],[3,"trigger"],[1,"d-flex","justify-content-around","flex-wrap","px-3","mx-4","my-3"],["data-toggle","collapse","data-target","#add-sensor",1,"btn","btn-outline-primary","w-100","w-xl-25","py-3",3,"click"]],template:function(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div"),O.Tb(1,"div"),O.Tb(2,"div",0),O.Tb(3,"div",1),O.Tb(4,"button",2),O.fc("click",(function(){return e.getEventDetails(),e.isOpen=!e.isOpen})),O.Ic(5),O.Sb(),O.Tb(6,"div"),O.Ob(7,"i",3),O.Tb(8,"i",4),O.fc("click",(function(){return e.delete_event()})),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Gc(9,ge,10,3,"div",5),O.Sb(),O.Tb(10,"div",6),O.Tb(11,"div",7),O.Tb(12,"div",8),O.Tb(13,"label",9),O.Ic(14,"Nome do programa"),O.Sb(),O.Tb(15,"input",10,11),O.fc("change",(function(){O.zc(n);var t=O.xc(16);return e.updateEvent({title:t.value})}))("keyup",(function(){O.zc(n);var t=O.xc(16);return e.event.setTitle(t.value)})),O.Sb(),O.Tb(17,"textarea",12),O.fc("change",(function(){O.zc(n);var t=O.xc(16);return e.updateEvent({description:t.value})}))("keyup",(function(t){return e.event.setDescription(t.target.value)})),O.Ic(18),O.Sb(),O.Sb(),O.Tb(19,"h5",13),O.Ic(20,"Coletar:"),O.Sb(),O.Tb(21,"div",14),O.Tb(22,"div",15),O.Tb(23,"span",16),O.Ic(24,"Atividades:"),O.Sb(),O.Tb(25,"div",17),O.Tb(26,"button",18),O.fc("click",(function(){return e.updateSensor("activity","smartphone")})),O.Ob(27,"i",19),O.Sb(),O.Tb(28,"span",20),O.Ic(29,"Smartphone"),O.Sb(),O.Tb(30,"span",20),O.Ic(31,"Smartwatch"),O.Sb(),O.Tb(32,"button",18),O.fc("click",(function(){return e.updateSensor("activity","smartwatch")})),O.Ob(33,"i",21),O.Sb(),O.Sb(),O.Sb(),O.Tb(34,"div",15),O.Tb(35,"span",16),O.Ic(36,"Localiza\xe7\xe3o:"),O.Sb(),O.Tb(37,"div",17),O.Tb(38,"button",18),O.fc("click",(function(){return e.updateSensor("location","smartphone")})),O.Ob(39,"i",19),O.Sb(),O.Tb(40,"span",20),O.Ic(41,"Smartphone"),O.Sb(),O.Tb(42,"span",20),O.Ic(43,"Smartwatch"),O.Sb(),O.Tb(44,"button",18),O.fc("click",(function(){return e.updateSensor("location","smartwatch")})),O.Ob(45,"i",21),O.Sb(),O.Sb(),O.Sb(),O.Tb(46,"div",15),O.Tb(47,"span",16),O.Ic(48,"Uso:"),O.Sb(),O.Tb(49,"div",17),O.Tb(50,"button",18),O.fc("click",(function(){return e.updateSensor("measure_use","smartphone")})),O.Ob(51,"i",19),O.Sb(),O.Tb(52,"span",20),O.Ic(53,"Smartphone"),O.Sb(),O.Tb(54,"span",20),O.Ic(55,"Smartwatch"),O.Sb(),O.Tb(56,"button",18),O.fc("click",(function(){return e.updateSensor("measure_use","smartwatch")})),O.Ob(57,"i",21),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(58,"div",22),O.Tb(59,"h4",16),O.Ic(60,"Disparos cadastrados"),O.Sb(),O.Tb(61,"div",23),O.Tb(62,"ul",24),O.Gc(63,fe,1,1,"esm-trigger",25),O.Tb(64,"h5",26),O.Ic(65,"Adicionar disparo"),O.Sb(),O.Tb(66,"esm-trigger",27),O.fc("triggerOutput",(function(t){return e.addTrigger(t)})),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Gc(67,ve,3,0,"div",28)}if(2&t){var i=O.xc(16);O.Ab(2),O.oc("ngbCollapse",e.isAddEvent&&!e.isOpen)("ngStyle",O.sc(22,me,e.event.getColor())),O.Ab(3),O.Jc(e.event.getTitle()),O.Ab(4),O.oc("ngIf",!e.isAddEvent),O.Ab(1),O.oc("ngbCollapse",!e.isOpen),O.Ab(3),O.oc("for",i),O.Ab(2),O.oc("value",e.event.getTitle()||""),O.Ab(3),O.Jc(e.event.getDescription()),O.Ab(8),O.oc("ngClass",O.tc(24,ye,"smartphone"===e.getActivitySensorCollector(),"smartphone"===e.getActivitySensorCollector())),O.Ab(2),O.oc("ngbCollapse","smartphone"!==e.getActivitySensorCollector()),O.Ab(2),O.oc("ngbCollapse","smartwatch"!==e.getActivitySensorCollector()),O.Ab(2),O.oc("ngClass",O.tc(27,ye,"smartwatch"===e.getActivitySensorCollector(),"smartwatch"===e.getActivitySensorCollector())),O.Ab(6),O.oc("ngClass",O.tc(30,ye,"smartphone"===e.getLocationSensorCollector(),"smartphone"===e.getLocationSensorCollector())),O.Ab(2),O.oc("ngbCollapse","smartphone"!==e.getLocationSensorCollector()),O.Ab(2),O.oc("ngbCollapse","smartwatch"!==e.getLocationSensorCollector()),O.Ab(2),O.oc("ngClass",O.tc(33,ye,"smartwatch"===e.getLocationSensorCollector(),"smartwatch"===e.getLocationSensorCollector())),O.Ab(6),O.oc("ngClass",O.tc(36,ye,"smartphone"===e.getMeasureUseSensorCollector(),"smartphone"===e.getMeasureUseSensorCollector())),O.Ab(2),O.oc("ngbCollapse","smartphone"!==e.getMeasureUseSensorCollector()),O.Ab(2),O.oc("ngbCollapse","smartwatch"!==e.getMeasureUseSensorCollector()),O.Ab(2),O.oc("ngClass",O.tc(39,ye,"smartwatch"===e.getMeasureUseSensorCollector(),"smartwatch"===e.getMeasureUseSensorCollector())),O.Ab(7),O.oc("ngForOf",e.event.getTriggersInstances()),O.Ab(4),O.oc("ngIf",e.isAddEvent)}},directives:[C.a,i.l,i.k,i.i,i.j,ce],encapsulation:2}),t}();function Te(t,e){if(1&t&&O.Ob(0,"esm-active-event",11),2&t){var n=O.jc().$implicit;O.oc("event",n)}}function we(t,e){if(1&t&&(O.Tb(0,"div",3),O.Gc(1,Te,1,1,"esm-active-event",10),O.Sb()),2&t){var n=e.$implicit;O.Ab(1),O.oc("ngIf","active"===n.getType())}}function Ie(t,e){if(1&t&&O.Ob(0,"esm-event",11),2&t){var n=O.jc().$implicit;O.oc("event",n)}}function xe(t,e){if(1&t&&(O.Tb(0,"div",3),O.Gc(1,Ie,1,1,"esm-event",10),O.Sb()),2&t){var n=e.$implicit;O.Ab(1),O.oc("ngIf","passive"===n.getType())}}var _e=function(){return["../third/"]},Oe=function(){function t(t,e,n,i){this.programsAddService=t,this.formbuilder=e,this.router=n,this.dao=i}return t.prototype.ngOnInit=function(){var t=this;this.events=this.programsAddService.getEventsInstance(),this.programsAddService.getProgramObservable().subscribe((function(e){return t.events=t.programsAddService.getEventsInstance()}))},t.prototype.submit=function(){var t=this;this.programsAddService.getParticipantsInstance()&&this.programsAddService.getParticipantsInstance().length>0?(this.programsAddService.saveStep({editor:null,beingEdited:!1}),new s.a({type:"success"}).show().then((function(e){return t.router.navigate(["/private"])}))):new s.a({title:"Voc\xea n\xe3o adicionou participantes, tem certeza que deseja continuar?!",type:"warning",allowOutsideClick:!1,allowEscapeKey:!1,focusCancel:!0,showCancelButton:!0}).show().then((function(e){!0===e.value&&(t.programsAddService.saveStep({editor:null,beingEdited:!1}),new s.a({type:"success"}).show().then((function(e){return t.router.navigate(["/private"])})))}))},t.\u0275fac=function(e){return new(e||t)(O.Nb(k),O.Nb(o.c),O.Nb(a.b),O.Nb(p.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-step4"]],decls:23,vars:4,consts:[[1,"py-3","px-xl-2","mx-4"],[1,"container-fluid"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"py-3","px-2","mx-1","mx-xl-4"],[1,"container-fluid","mb-3"],[1,"row","justify-content-around","mx-4"],[1,"col-12","col-xl-3"],["type","button",1,"btn","btn-success","btn-block","py-2",3,"routerLink"],[1,"btn","btn","btn-primary","btn-block","py-2",3,"click"],[3,"event",4,"ngIf"],[3,"event"]],template:function(t,e){1&t&&(O.Tb(0,"h4",0),O.Ic(1,"Adicionar eventos"),O.Sb(),O.Tb(2,"div",1),O.Gc(3,we,2,1,"div",2),O.Sb(),O.Tb(4,"div",1),O.Tb(5,"div",3),O.Ob(6,"esm-active-event"),O.Sb(),O.Sb(),O.Tb(7,"h4",4),O.Ic(8,"Adicionar coleta por sensores"),O.Sb(),O.Tb(9,"div",1),O.Gc(10,xe,2,1,"div",2),O.Sb(),O.Tb(11,"div",1),O.Tb(12,"div",3),O.Ob(13,"esm-event"),O.Sb(),O.Sb(),O.Ob(14,"hr"),O.Tb(15,"div",5),O.Tb(16,"div",6),O.Tb(17,"div",7),O.Tb(18,"button",8),O.Ic(19,"VOLTAR"),O.Sb(),O.Sb(),O.Tb(20,"div",7),O.Tb(21,"div",9),O.fc("click",(function(){return e.submit()})),O.Ic(22,"FINALIZAR"),O.Sb(),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.Ab(3),O.oc("ngForOf",e.events),O.Ab(7),O.oc("ngForOf",e.events),O.Ab(8),O.oc("routerLink",O.rc(3,_e)))},directives:[i.j,he,Se,a.c,i.k],encapsulation:2}),t}();function ke(t,e){1&t&&(O.Tb(0,"li",33),O.Tb(1,"span",34),O.Ic(2,"private.programs.list.noObjects"),O.Sb(),O.Ob(3,"br"),O.Sb())}var Ce=function(t){return[t]};function Ae(t,e){if(1&t&&(O.Tb(0,"li",33),O.Tb(1,"a",35),O.Tb(2,"span",22),O.Ic(3),O.Sb(),O.Sb(),O.Sb()),2&t){var n=e.$implicit,i=e.index;O.Ab(1),O.oc("routerLink",O.sc(3,Ce,n.getId())),O.Ab(2),O.Lc("",i+1,". ",n.getTitle(),"")}}var Pe=function(){function t(t){this.dao=t}return t.prototype.ngOnInit=function(){this.getPrograms()},t.prototype.getPrograms=function(t){var e=this;void 0===t&&(t=u.e),this.dao.getObjects(t).subscribe((function(t){e.setPrograms(t)}))},t.prototype.setPrograms=function(t){this.programs=t.results.map((function(t){return new c(t)})),this.pagination=new F(t)},t.prototype.onNext=function(t){this.getPrograms(t.url)},t.\u0275fac=function(e){return new(e||t)(O.Nb(p.a))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-results"]],decls:44,vars:3,consts:[[1,"card","mx-auto","mt-4","w-main","row"],[1,"col-12","mx-auto","bg-white","rounded"],[1,"row","pt-xl-5","pl-xl-5","pr-xl-5","pb-3","pt-4","pl-4","pr-4"],[1,"col-12","mt-4","mt-xl-0","p-0"],[1,"h4","font-weight-bold"],[1,"mt-4"],["action","#",1,"col-12","m-0","mt-3","p-0","row"],[1,"form-group","col-12","col-xl-4","pl-0","mt-3"],["for","busca",1,"sr-only"],[1,"input-with-icon-l"],[1,"fa","fa-search"],["type","text","auto-focus","","placeholder","Buscar programas","id","busca",1,"form-control","border-top-0","border-left-0","border-right-0","rounded-0"],[1,"form-group","col-12","col-xl-3","mt-3","pl-0","pl-xl-3"],["for","por",1,"sr-only"],[1,"input-with-icon-r"],["auto-focus","","id","por",1,"custom-select","border-top-0","border-right-0","border-left-0","rounded-0","select","p-1"],[1,"fas","fa-chevron-down","names"],[1,"col-xl-3","form-check","mt-3","p-0","pl-xl-4"],["type","checkbox","id","Check",1,"form-check-input","mx-auto"],["for","Check",1,"form-check-label","font-weight-bold","ml-2"],[1,"form-group","col-6","col-xl-2","row","p-0","pl-xl-4","pl-0","ml-0","mt-xl-0","mt-3","mx-auto"],["type","submit",1,"btn","btn-success","col-12","p-3","px-xl-0"],[1,"font-weight-bold"],[1,"container-fluid","pl-xl-5","pr-xl-5","pt-3","pl-0","pr-0","mb-xl-5"],[1,"row","navbar","p-3","text-white"],[1,"col-6","p-0"],[1,"h6","m-0","d-inline","ml-1","font-weight-bold"],[1,"row"],[1,"col-12","p-0"],[1,"list-group"],["class","list-group-item p-4 hover-itens",4,"ngIf"],["class","list-group-item p-4 hover-itens",4,"ngFor","ngForOf"],[3,"pagination","next"],[1,"list-group-item","p-4","hover-itens"],["translate","",1,"names"],[1,"links",3,"routerLink"]],template:function(t,e){1&t&&(O.Tb(0,"main",0),O.Tb(1,"section",1),O.Tb(2,"div",2),O.Tb(3,"div",3),O.Tb(4,"h1",4),O.Ic(5,"Resultados - Pesquisa"),O.Sb(),O.Tb(6,"p",5),O.Ic(7,"On the other hand, we denounce with righteous indignation and. In a free hour, when our power of choice is untrammelled and when nothing prevents our being able to do what we like best, every pleasure is to be welcomed and every pain avoided. But in certain circumstances and owing to the claims of duty or the obligations of business it will frequently occur that pleasures have to be repudiated and annoyances accepted. The wise man therefore always holds in these matters to this principle of selection: he rejects pleasures to secure other greater pleasures, or else he endures pains to avoid worse pains."),O.Sb(),O.Sb(),O.Tb(8,"form",6),O.Tb(9,"div",7),O.Tb(10,"label",8),O.Ic(11,"Filtrar"),O.Sb(),O.Tb(12,"div",9),O.Ob(13,"i",10),O.Ob(14,"input",11),O.Sb(),O.Sb(),O.Tb(15,"div",12),O.Tb(16,"label",13),O.Ic(17,"Tipo de busca"),O.Sb(),O.Tb(18,"div",14),O.Tb(19,"select",15),O.Tb(20,"option"),O.Ic(21,"Buscar por: nome"),O.Sb(),O.Tb(22,"option"),O.Ic(23,"Buscar por: descri\xe7\xe3o"),O.Sb(),O.Sb(),O.Ob(24,"i",16),O.Sb(),O.Sb(),O.Tb(25,"div",17),O.Ob(26,"input",18),O.Tb(27,"label",19),O.Ic(28,"Somente ativos"),O.Sb(),O.Sb(),O.Tb(29,"div",20),O.Tb(30,"button",21),O.Tb(31,"span",22),O.Ic(32,"PESQUISAR"),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(33,"div",23),O.Tb(34,"div",24),O.Tb(35,"div",25),O.Tb(36,"h2",26),O.Ic(37,"Programas"),O.Sb(),O.Sb(),O.Sb(),O.Tb(38,"div",27),O.Tb(39,"div",28),O.Tb(40,"ul",29),O.Gc(41,ke,4,0,"li",30),O.Gc(42,Ae,4,5,"li",31),O.Sb(),O.Sb(),O.Sb(),O.Sb(),O.Tb(43,"esm-pagination",32),O.fc("next",(function(t){return e.onNext(t)})),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.Ab(41),O.oc("ngIf",0==(null==e.programs?null:e.programs.length)),O.Ab(1),O.oc("ngForOf",e.programs),O.Ab(1),O.oc("pagination",e.pagination))},directives:[o.w,o.n,o.o,o.q,o.v,C.e,i.k,i.j,X,r.b,a.e],encapsulation:2}),t}();function De(t){return null!=t&&""+t!="false"}function Ee(t){return t instanceof O.l?t.nativeElement:t}var Ne=n("F/XL"),je=n("bne5"),Re=n("p0ib"),Fe=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return g.b(e,t),e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(n("h9Dq").a),Me=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g.b(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}},e}(n("CS9Q").a))(Fe),ze=n("pugT"),Be=n("MGBS"),Le=n("zotm"),qe=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ge(t,this.durationSelector))},t}(),Ge=function(t){function e(e,n){var i=t.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return g.b(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=Object(Le.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(Be.a),Ue=n("gI3B");n("VnD/");var Ve,He=n("ny24"),$e=n("p0Sj");n("60iU"),n("8g8A"),n("uMaO");try{Ve="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(mi){Ve=!1}var We,Je,Qe=function(){function t(t){this._platformId=t,this.isBrowser=this._platformId?Object(i.v)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ve)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}return t.\u0275prov=Object(O.Jb)({factory:function(){return new t(Object(O.bc)(O.B,8))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(O.bc(O.B,8))},t}();function Ze(t){return function(){if(null==We&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return We=!0}}))}finally{We=We||!1}return We}()?t:!!t.capture}var Ke=new O.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(O.T)(i.c)}}),Ye=function(){function t(t){if(this.value="ltr",this.change=new O.n,t){var e=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null);this.value="ltr"===e||"rtl"===e?e:"ltr"}}return t.prototype.ngOnDestroy=function(){this.change.complete()},t.\u0275prov=Object(O.Jb)({factory:function(){return new t(Object(O.bc)(Ke,8))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(O.bc(Ke,8))},t}(),Xe=function(){function t(t,e,n){var i=this;this._platform=t,this._document=n,e.runOutsideAngular((function(){var e=i._getWindow();i._change=t.isBrowser?Object(Re.a)(Object(je.a)(e,"resize"),Object(je.a)(e,"orientationchange")):Object(Ne.a)(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return t.prototype.ngOnDestroy=function(){this._invalidateCache.unsubscribe()},t.prototype.getViewportSize=function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t},t.prototype.getViewportRect=function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}},t.prototype.getViewportScrollPosition=function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}},t.prototype.change=function(t){return void 0===t&&(t=20),t>0?this._change.pipe((e=t,void 0===n&&(n=L.a),i=function(){return Object(Ue.a)(e,n)},function(t){return t.lift(new qe(i))})):this._change;var e,n,i},t.prototype._getDocument=function(){return this._document||document},t.prototype._getWindow=function(){return this._getDocument().defaultView||window},t.prototype._updateViewportSize=function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}},t.\u0275prov=Object(O.Jb)({factory:function(){return new t(Object(O.bc)(Qe),Object(O.bc)(O.z),Object(O.bc)(i.c,8))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(O.bc(Qe),O.bc(O.z),O.bc(i.c,8))},t}(),tn=n("/21U");function en(t){var e=t.subscriber,n=t.counter,i=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}var nn=n("67Y/"),rn=n("t9fZ"),on=n("xMyE");function sn(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function an(t,e){var n=e?"":"none";sn(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function cn(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function ln(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}var pn=Ze({passive:!0}),un=Ze({passive:!1}),dn=function(){function t(t,e,n,i,r,o){var s=this;this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new d.a,this._pointerMoveSubscription=ze.a.EMPTY,this._pointerUpSubscription=ze.a.EMPTY,this._scrollSubscription=ze.a.EMPTY,this._resizeSubscription=ze.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new d.a,this.started=new d.a,this.released=new d.a,this.ended=new d.a,this.entered=new d.a,this.exited=new d.a,this.dropped=new d.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find((function(e){var n=t.target;return!!n&&(n===e||e.contains(n))}));!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){if(t.preventDefault(),s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()));var e=s._getConstrainedPointerPosition(t);if(s._hasMoved=!0,s._updatePointerDirectionDelta(e),s._dropContainer)s._updateActiveDropContainer(e);else{var n=s._activeTransform;n.x=e.x-s._pickupPositionOnPage.x+s._passiveTransform.x,n.y=e.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(n.x,n.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate("+n.x+" "+n.y+")")}s._moveEvents.observers.length&&s._ngZone.run((function(){s._moveEvents.next({source:s,pointerPosition:e,event:t,distance:s._getDragDistance(e),delta:s._pointerDirectionDelta})}))}else{var i=s._getPointerPositionOnPage(t);if(Math.abs(i.x-s._pickupPositionOnPage.x)+Math.abs(i.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){if(!(Date.now()>=s._dragStartTime+s._getDragStartDelay(t)))return void s._endDragSequence(t);s._dropContainer&&s._dropContainer.isDragging()||(s._hasStartedDragging=!0,s._ngZone.run((function(){return s._startDragSequence(t)})))}}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(t),o.registerDragItem(this)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=De(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())},enumerable:!0,configurable:!0}),t.prototype.getPlaceholderElement=function(){return this._placeholder},t.prototype.getRootElement=function(){return this._rootElement},t.prototype.getVisibleElement=function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()},t.prototype.withHandles=function(t){return this._handles=t.map((function(t){return Ee(t)})),this._handles.forEach((function(t){return an(t,!1)})),this._toggleNativeDragInteractions(),this},t.prototype.withPreviewTemplate=function(t){return this._previewTemplate=t,this},t.prototype.withPlaceholderTemplate=function(t){return this._placeholderTemplate=t,this},t.prototype.withRootElement=function(t){var e=Ee(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,un),e.addEventListener("touchstart",this._pointerDown,pn),this._initialTransform=void 0,this._rootElement=e),this},t.prototype.withBoundaryElement=function(t){var e=this;return this._boundaryElement=t?Ee(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this},t.prototype.dispose=function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&fn(this._rootElement),fn(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null},t.prototype.isDragging=function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)},t.prototype.reset=function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}},t.prototype.disableHandle=function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)},t.prototype.enableHandle=function(t){this._disabledHandles.delete(t)},t.prototype.withDirection=function(t){return this._direction=t,this},t.prototype._withDropContainer=function(t){this._dropContainer=t},t.prototype.getFreeDragPosition=function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}},t.prototype.setFreeDragPosition=function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this},t.prototype._sortFromLastPointerPosition=function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)},t.prototype._removeSubscriptions=function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()},t.prototype._destroyPreview=function(){this._preview&&fn(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null},t.prototype._destroyPlaceholder=function(){this._placeholder&&fn(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null},t.prototype._endDragSequence=function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))},t.prototype._startDragSequence=function(t){if(this.started.next({source:this}),vn(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){var e=this._rootElement,n=e.parentNode,i=this._preview=this._createPreviewElement(),r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment("");n.insertBefore(o,e),e.style.display="none",this._document.body.appendChild(n.replaceChild(r,e)),(s=this._document,s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body).appendChild(i),this._dropContainer.start(),this._initialContainer=this._dropContainer,this._initialIndex=this._dropContainer.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var s},t.prototype._initializeDragSequence=function(t,e){var n=this;e.stopPropagation();var i=this.isDragging(),r=vn(e),o=!r&&0!==e.button,s=this._rootElement,a=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(i||o||a)){this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(Object($e.a)(null)).subscribe((function(){n._scrollPosition=n._viewportRuler.getViewportScrollPosition()})),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect());var c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var l=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}},t.prototype._cleanupDragArtifacts=function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var n=e._dropContainer,i=n.getItemIndex(e),r=e._getPointerPositionOnPage(t),o=e._getDragDistance(e._getPointerPositionOnPage(t)),s=n._isOverContainer(r.x,r.y);e.ended.next({source:e,distance:o}),e.dropped.next({item:e,currentIndex:i,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:s,distance:o}),n.drop(e,i,e._initialContainer,s,o,e._initialIndex),e._dropContainer=e._initialContainer}))},t.prototype._updateActiveDropContainer=function(t){var e=this,n=t.x,i=t.y,r=this._initialContainer._getSiblingContainerFromPosition(this,n,i);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,i)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=r,e._dropContainer.enter(e,n,i,r===e._initialContainer&&r.sortingDisabled?e._initialIndex:void 0),e.entered.next({item:e,container:r,currentIndex:r.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,n,i,this._pointerDirectionDelta),this._preview.style.transform=bn(n-this._pickupPositionInElement.x,i-this._pickupPositionInElement.y)},t.prototype._createPreviewElement=function(){var t,e=this._previewTemplate,n=this.previewClass,i=e?e.template:null;if(i){var r=e.viewContainer.createEmbeddedView(i,e.context);r.detectChanges(),t=mn(r,this._document),this._previewRef=r,e.matchSize?yn(t,this._rootElement):t.style.transform=bn(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var o=this._rootElement;yn(t=hn(o),o)}return sn(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),an(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach((function(e){return t.classList.add(e)})):t.classList.add(n)),t},t.prototype._animatePreviewToPlaceholder=function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=bn(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=ln(e,"transition-property"),i=n.find((function(t){return"transform"===t||"all"===t}));if(!i)return 0;var r=n.indexOf(i),o=ln(e,"transition-duration"),s=ln(e,"transition-delay");return cn(o[r])+cn(s[r])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var i=function(n){(!n||n.target===t._preview&&"transform"===n.propertyName)&&(t._preview.removeEventListener("transitionend",i),e(),clearTimeout(r))},r=setTimeout(i,1.5*n);t._preview.addEventListener("transitionend",i)}))}))},t.prototype._createPlaceholderElement=function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=mn(this._placeholderRef,this._document)):t=hn(this._rootElement),t.classList.add("cdk-drag-placeholder"),t},t.prototype._getPointerPositionInElement=function(t,e){var n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,o=vn(e)?e.targetTouches[0]:e;return{x:r.left-n.left+(o.pageX-r.left-this._scrollPosition.left),y:r.top-n.top+(o.pageY-r.top-this._scrollPosition.top)}},t.prototype._getPointerPositionOnPage=function(t){var e=vn(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}},t.prototype._getConstrainedPointerPosition=function(t){var e=this._getPointerPositionOnPage(t),n=this.constrainPosition?this.constrainPosition(e,this):e,i=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===i?n.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==i||(n.x=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,o=r.x,s=r.y,a=this._boundaryRect,c=this._previewRect,l=a.top+s,p=a.bottom-(c.height-s);n.x=gn(n.x,a.left+o,a.right-(c.width-o)),n.y=gn(n.y,l,p)}return n},t.prototype._updatePointerDirectionDelta=function(t){var e=t.x,n=t.y,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),s=Math.abs(n-r.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),s>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i},t.prototype._toggleNativeDragInteractions=function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,an(this._rootElement,t))}},t.prototype._removeRootElementListeners=function(t){t.removeEventListener("mousedown",this._pointerDown,un),t.removeEventListener("touchstart",this._pointerDown,pn)},t.prototype._applyRootElementTransform=function(t,e){var n=bn(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n},t.prototype._getDragDistance=function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}},t.prototype._cleanupCachedDimensions=function(){this._boundaryRect=this._previewRect=void 0},t.prototype._containInsideBoundaryOnResize=function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===r.width&&0===r.height)){var o=i.left-r.left,s=r.right-i.right,a=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>r.height?(a>0&&(n+=a),c>0&&(n-=c)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}},t.prototype._getDragStartDelay=function(t){var e=this.dragStartDelay;return"number"==typeof e?e:vn(t)?e.touch:e?e.mouse:0},t}();function bn(t,e){return"translate3d("+Math.round(t)+"px, "+Math.round(e)+"px, 0)"}function hn(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.querySelectorAll("canvas");e.removeAttribute("id");for(var r=0;r<n.length;r++)n[r].removeAttribute("id");if(i.length){var o=e.querySelectorAll("canvas");for(r=0;r<i.length;r++){var s=o[r].getContext("2d");s&&s.drawImage(i[r],0,0)}}return e}function gn(t,e,n){return Math.max(e,Math.min(n,t))}function fn(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function vn(t){return"t"===t.type[0]}function mn(t,e){var n=t.rootNodes[0];if(n.nodeType!==e.ELEMENT_NODE){var i=e.createElement("div");return i.appendChild(n),i}return n}function yn(t,e){var n=e.getBoundingClientRect();t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.transform=bn(n.left,n.top)}function Sn(t,e){return Math.max(0,Math.min(e,t))}var Tn=function(){function t(t,e,n,i,r){var o=this;this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new d.a,this.entered=new d.a,this.exited=new d.a,this.dropped=new d.a,this.sorted=new d.a,this._isDragging=!1,this._itemPositions=[],this._parentPositions=new Map,this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=ze.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new d.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){var t,e;o._stopScrolling(),(t=0,e=Me,void 0===t&&(t=0),void 0===e&&(e=L.a),(!Object(tn.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=L.a),new M.a((function(n){return n.add(e.schedule(en,t,{subscriber:n,counter:0,period:t})),n}))).pipe(Object(He.a)(o._stopScrollTimers)).subscribe((function(){var t=o._scrollNode;1===o._verticalScrollDirection?kn(t,-2):2===o._verticalScrollDirection&&kn(t,2),1===o._horizontalScrollDirection?Cn(t,-2):2===o._horizontalScrollDirection&&Cn(t,2)}))},this.element=Ee(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this)}return t.prototype.dispose=function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)},t.prototype.isDragging=function(){return this._isDragging},t.prototype.start=function(){var t=this,e=Ee(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()},t.prototype.enter=function(t,e,n,i){var r;this.start(),null==i?-1===(r=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(r=this._getItemIndexFromPointerPosition(t,e,n)):r=i;var o=this._activeDraggables,s=o.indexOf(t),a=t.getPlaceholderElement(),c=o[r];if(c===t&&(c=o[r+1]),s>-1&&o.splice(s,1),c&&!this._dragDropRegistry.isDragging(c)){var l=c.getRootElement();l.parentElement.insertBefore(a,l),o.splice(r,0,t)}else Ee(this.element).appendChild(a),o.push(t);a.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})},t.prototype.exit=function(t){this._reset(),this.exited.next({item:t,container:this})},t.prototype.drop=function(t,e,n,i,r,o){this._reset(),null==o&&(o=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:n,isPointerOverContainer:i,distance:r})},t.prototype.withItems=function(t){var e=this;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&this._cacheItems(),this},t.prototype.withDirection=function(t){return this._direction=t,this},t.prototype.connectedTo=function(t){return this._siblings=t.slice(),this},t.prototype.withOrientation=function(t){return this._orientation=t,this},t.prototype.withScrollableParents=function(t){var e=Ee(this.element);return this._scrollableElements=-1===t.indexOf(e)?Object(g.e)([e],t):t.slice(),this},t.prototype.getItemIndex=function(t){return this._isDragging?xn("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)},t.prototype.isReceiving=function(){return this._activeSiblings.size>0},t.prototype._sortItem=function(t,e,n,i){if(!this.sortingDisabled&&In(this._clientRect,e,n)){var r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,i);if(!(-1===o&&r.length>0)){var s="horizontal"===this._orientation,a=xn(r,(function(e){return e.drag===t})),c=r[o],l=r[a].clientRect,p=c.clientRect,u=a>o?1:-1;this._previousSwap.drag=c.drag,this._previousSwap.delta=s?i.x:i.y;var d=this._getItemOffsetPx(l,p,u),b=this._getSiblingOffsetPx(a,r,u),h=r.slice();!function(t,e,n){var i=Sn(e,t.length-1),r=Sn(n,t.length-1);if(i!==r){for(var o=t[i],s=r<i?-1:1,a=i;a!==r;a+=s)t[a]=t[a+s];t[r]=o}}(r,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:t}),r.forEach((function(e,n){if(h[n]!==e){var i=e.drag===t,r=i?d:b,o=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,s?(o.style.transform="translate3d("+Math.round(e.offset)+"px, 0, 0)",wn(e.clientRect,0,r)):(o.style.transform="translate3d(0, "+Math.round(e.offset)+"px, 0)",wn(e.clientRect,r,0))}}))}}},t.prototype._startScrollingIfNecessary=function(t,e){var n=this;if(!this.autoScrollDisabled){var i,r=0,o=0;if(this._parentPositions.forEach((function(s,a){var c;a!==n._document&&s.clientRect&&!i&&In(s.clientRect,t,e)&&(c=Object(g.d)(function(t,e,n,i){var r=An(e,i),o=Pn(e,n),s=0,a=0;if(r){var c=t.scrollTop;1===r?c>0&&(s=1):t.scrollHeight-c>t.clientHeight&&(s=2)}if(o){var l=t.scrollLeft;1===o?l>0&&(a=1):t.scrollWidth-l>t.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,t,e),2),o=c[1],((r=c[0])||o)&&(i=a))})),!r&&!o){var s=this._viewportRuler.getViewportSize(),a=s.width,c=s.height,l={width:a,height:c,top:0,right:a,bottom:c,left:0};r=An(l,e),o=Pn(l,t),i=window}!i||r===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}},t.prototype._stopScrolling=function(){this._stopScrollTimers.next()},t.prototype._cacheParentPositions=function(){var t=this;this._parentPositions.clear(),this._parentPositions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),this._scrollableElements.forEach((function(e){var n=On(e);e===t.element&&(t._clientRect=n),t._parentPositions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:n})}))},t.prototype._cacheItemPositions=function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:On(e)}})).sort((function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top}))},t.prototype._reset=function(){var t=this;this._isDragging=!1;var e=Ee(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach((function(t){return t.getRootElement().style.transform=""})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()},t.prototype._getSiblingOffsetPx=function(t,e,n){var i="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*n],s=r[i?"width":"height"]*n;if(o){var a=i?"left":"top",c=i?"right":"bottom";-1===n?s-=o.clientRect[a]-r[c]:s+=r[a]-o.clientRect[c]}return s},t.prototype._getItemOffsetPx=function(t,e,n){var i="horizontal"===this._orientation,r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r},t.prototype._getItemIndexFromPointerPosition=function(t,e,n,i){var r=this,o="horizontal"===this._orientation;return xn(this._itemPositions,(function(s,a,c){var l=s.drag,p=s.clientRect;return l===t?c.length<2:(!i||l!==r._previousSwap.drag||(o?i.x:i.y)!==r._previousSwap.delta)&&(o?e>=Math.floor(p.left)&&e<=Math.floor(p.right):n>=Math.floor(p.top)&&n<=Math.floor(p.bottom))}))},t.prototype._cacheItems=function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()},t.prototype._updateAfterScroll=function(t,e,n){var i=this,r=t===this._document?t.documentElement:t,o=this._parentPositions.get(t).scrollPosition,s=o.top-e,a=o.left-n;this._parentPositions.forEach((function(e,n){e.clientRect&&t!==n&&r.contains(n)&&wn(e.clientRect,s,a)})),this._itemPositions.forEach((function(t){wn(t.clientRect,s,a)})),this._itemPositions.forEach((function(t){var e=t.drag;i._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})),o.top=e,o.left=n},t.prototype._isOverContainer=function(t,e){return _n(this._clientRect,t,e)},t.prototype._getSiblingContainerFromPosition=function(t,e,n){return this._siblings.find((function(i){return i._canReceive(t,e,n)}))},t.prototype._canReceive=function(t,e,n){if(!_n(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;var r=Ee(this.element);return i===r||r.contains(i)},t.prototype._startReceiving=function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())},t.prototype._stopReceiving=function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()},t.prototype._listenToScrollEvents=function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(e){if(t.isDragging()){var n=e.target;if(t._parentPositions.get(n)){var i=void 0,r=void 0;if(n===t._document){var o=t._viewportRuler.getViewportScrollPosition();i=o.top,r=o.left}else i=n.scrollTop,r=n.scrollLeft;t._updateAfterScroll(n,i,r)}}else t.isReceiving()&&t._cacheParentPositions()}))},t.prototype._getShadowRoot=function(){if(!this._cachedShadowRoot){var t=function(t){if(function(){if(null==Je){var t="undefined"!=typeof document?document.head:null;Je=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Je}()){var e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(Ee(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot},t}();function wn(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function In(t,e,n){var i=.05*t.width,r=.05*t.height;return n>t.top-r&&n<t.bottom+r&&e>t.left-i&&e<t.right+i}function xn(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function _n(t,e,n){return n>=t.top&&n<=t.bottom&&e>=t.left&&e<=t.right}function On(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function kn(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Cn(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function An(t,e){var n=t.top,i=t.bottom,r=.05*t.height;return e>=n-r&&e<=n+r?1:e>=i-r&&e<=i+r?2:0}function Pn(t,e){var n=t.left,i=t.right,r=.05*t.width;return e>=n-r&&e<=n+r?1:e>=i-r&&e<=i+r?2:0}var Dn=Ze({passive:!1,capture:!0}),En=function(){function t(t,e){var n=this;this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new d.a,this.pointerUp=new d.a,this.scroll=new d.a,this._preventDefaultWhileDragging=function(t){n._activeDragInstances.size&&t.preventDefault()},this._document=e}return t.prototype.registerDropContainer=function(t){this._dropInstances.has(t)||this._dropInstances.add(t)},t.prototype.registerDragItem=function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,Dn)}))},t.prototype.removeDropContainer=function(t){this._dropInstances.delete(t)},t.prototype.removeDragItem=function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Dn)},t.prototype.startDragging=function(t,e){var n=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var i=e.type.startsWith("touch"),r=i?"touchend":"mouseup";this._globalListeners.set(i?"touchmove":"mousemove",{handler:function(t){return n.pointerMove.next(t)},options:Dn}).set(r,{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Dn}),this._ngZone.runOutsideAngular((function(){n._globalListeners.forEach((function(t,e){n._document.addEventListener(e,t.handler,t.options)}))}))}},t.prototype.stopDragging=function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()},t.prototype.isDragging=function(t){return this._activeDragInstances.has(t)},t.prototype.ngOnDestroy=function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()},t.prototype._clearGlobalListeners=function(){var t=this;this._globalListeners.forEach((function(e,n){t._document.removeEventListener(n,e.handler,e.options)})),this._globalListeners.clear()},t.\u0275prov=Object(O.Jb)({factory:function(){return new t(Object(O.bc)(O.z),Object(O.bc)(i.c))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(O.bc(O.z),O.bc(i.c))},t}(),Nn={dragStartThreshold:5,pointerDirectionChangeThreshold:5},jn=function(){function t(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}return t.prototype.createDrag=function(t,e){return void 0===e&&(e=Nn),new dn(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)},t.prototype.createDropList=function(t){return new Tn(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)},t.\u0275prov=Object(O.Jb)({factory:function(){return new t(Object(O.bc)(i.c),Object(O.bc)(O.z),Object(O.bc)(Xe),Object(O.bc)(En))},token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(O.bc(i.c),O.bc(O.z),O.bc(Xe),O.bc(En))},t}(),Rn=new O.q("CDK_DRAG_PARENT"),Fn=function(){function t(t,e){this.element=t,this._stateChanges=new d.a,this._disabled=!1,this._parentDrag=e,an(t.nativeElement,!1)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled=De(t),this._stateChanges.next(this)},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this._stateChanges.complete()},t.\u0275fac=function(e){return new(e||t)(O.Nb(O.l),O.Nb(Rn,8))},t.\u0275dir=O.Ib({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),t}(),Mn=function(){function t(t){this.templateRef=t}return t.\u0275fac=function(e){return new(e||t)(O.Nb(O.K))},t.\u0275dir=O.Ib({type:t,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),t}(),zn=function(){function t(t){this.templateRef=t,this._matchSize=!1}return Object.defineProperty(t.prototype,"matchSize",{get:function(){return this._matchSize},set:function(t){this._matchSize=De(t)},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(O.Nb(O.K))},t.\u0275dir=O.Ib({type:t,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),t}(),Bn=new O.q("CDK_DRAG_CONFIG"),Ln=new O.q("CDK_DROP_LIST"),qn=function(){function t(t,e,n,i,r,o,s,a,c){var l=this;this.element=t,this.dropContainer=e,this._document=n,this._ngZone=i,this._viewContainerRef=r,this._dir=s,this._changeDetectorRef=c,this._destroyed=new d.a,this.started=new O.n,this.released=new O.n,this.ended=new O.n,this.entered=new O.n,this.exited=new O.n,this.dropped=new O.n,this.moved=new M.a((function(t){var e=l._dragRef.moved.pipe(Object(nn.a)((function(t){return{source:l,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=a.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5}),this._dragRef.data=this,o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return Object.defineProperty(t.prototype,"disabled",{get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=De(t),this._dragRef.disabled=this._disabled},enumerable:!0,configurable:!0}),t.prototype.getPlaceholderElement=function(){return this._dragRef.getPlaceholderElement()},t.prototype.getRootElement=function(){return this._dragRef.getRootElement()},t.prototype.reset=function(){this._dragRef.reset()},t.prototype.getFreeDragPosition=function(){return this._dragRef.getFreeDragPosition()},t.prototype.ngAfterViewInit=function(){var t=this;this._ngZone.onStable.asObservable().pipe(Object(rn.a)(1),Object(He.a)(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Object($e.a)(t._handles),Object(on.a)((function(e){var n=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(n)})),Object(z.a)((function(t){return Re.a.apply(void 0,Object(g.e)(t.map((function(t){return t._stateChanges.pipe(Object($e.a)(t))}))))})),Object(He.a)(t._destroyed)).subscribe((function(e){var n=t._dragRef,i=e.element.nativeElement;e.disabled?n.disableHandle(i):n.enableHandle(i)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))},t.prototype.ngOnChanges=function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},t.prototype.ngOnDestroy=function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()},t.prototype._updateRootElement=function(){var t=this.element.nativeElement,e=this.rootElementSelector?Gn(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'+e.nodeName+'".');this._dragRef.withRootElement(e||t)},t.prototype._getBoundaryElement=function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return Gn(this.element.nativeElement,t);var e=Ee(t);if(Object(O.U)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e},t.prototype._syncInputs=function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var n=e._dir,i=e.dragStartDelay,r=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,o=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:(void 0===a&&(a=0),function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(s=i)?Number(s):a),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(r).withPreviewTemplate(o),n&&t.withDirection(n.value)}var s,a}))},t.prototype._handleEvents=function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))},t.prototype._assignDefaults=function(t){var e=t.lockAxis,n=t.dragStartDelay,i=t.constrainPosition,r=t.previewClass,o=t.boundaryElement,s=t.draggingDisabled,a=t.rootElementSelector;this.disabled=null!=s&&s,this.dragStartDelay=n||0,e&&(this.lockAxis=e),i&&(this.constrainPosition=i),r&&(this.previewClass=r),o&&(this.boundaryElement=o),a&&(this.rootElementSelector=a)},t.\u0275fac=function(e){return new(e||t)(O.Nb(O.l),O.Nb(Ln,12),O.Nb(i.c),O.Nb(O.z),O.Nb(O.N),O.Nb(Bn,8),O.Nb(Ye,8),O.Nb(jn),O.Nb(O.h))},t.\u0275dir=O.Ib({type:t,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(O.Gb(n,zn,!0),O.Gb(n,Mn,!0),O.Gb(n,Fn,!0)),2&t&&(O.wc(i=O.gc())&&(e._previewTemplate=i.first),O.wc(i=O.gc())&&(e._placeholderTemplate=i.first),O.wc(i=O.gc())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&O.Fb("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[O.zb([{provide:Rn,useExisting:t}]),O.yb]}),t}();function Gn(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var Un=function(){function t(){}return t.\u0275mod=O.Lb({type:t}),t.\u0275inj=O.Kb({factory:function(e){return new(e||t)},providers:[jn]}),t}();function Vn(t,e){if(1&t&&(O.Tb(0,"option",13),O.Ic(1),O.Sb()),2&t){var n=e.$implicit,i=e.index,r=O.jc(2);O.oc("value",i+1)("disabled",i+1===r.graphIndex),O.Ab(1),O.Lc("",n.orderPosition<0?r.toChar(-1*n.orderPosition):n.orderPosition," - ",n.typeDescription,"")}}function Hn(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",3),O.Tb(1,"div",4),O.Tb(2,"label",5),O.Ic(3),O.Sb(),O.Tb(4,"div",6),O.Tb(5,"textarea",7),O.fc("ngModelChange",(function(t){O.zc(n);var i=e.index,r=e.$implicit;return O.jc().onTextChange(i,r,t)})),O.Sb(),O.Tb(6,"select",8),O.fc("ngModelChange",(function(t){O.zc(n);var i=e.$implicit;return O.jc().onNextChange(i,t)}))("change",(function(){return O.zc(n),O.jc().setNextTo()})),O.Tb(7,"option",9),O.Ic(8,"Pr\xf3xima interven\xe7\xe3o"),O.Sb(),O.Gc(9,Vn,2,4,"option",10),O.Tb(10,"option",11),O.Ic(11,"Finalizar"),O.Sb(),O.Sb(),O.Sb(),O.Tb(12,"i",12),O.fc("click",(function(){O.zc(n);var t=e.index;return O.jc().removeChoice(t)})),O.Sb(),O.Sb(),O.Sb()}if(2&t){var i=e.$implicit,r=e.index,o=O.jc();O.Ab(2),O.oc("for",o.graphIndex+"alternative"+r),O.Ab(1),O.Jc(r+1),O.Ab(2),O.oc("ngModel",i)("id",o.graphIndex+"alternative"+r),O.Ab(1),O.oc("ngModel",o.conditions[i]),O.Ab(3),O.oc("ngForOf",o.nextInterventions.slice(1)),O.Ab(1),O.oc("value",0)}}var $n=function(){function t(t){this.interventionService=t}return Object.defineProperty(t.prototype,"alternatives",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.options},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"conditions",{get:function(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.conditions},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.intervention=this.interventionService.graphElement(this.graphIndex).intervention,this.interventionService.newInterventions$.subscribe((function(e){if(t.interventionService.lastInteractedIntervention===t.graphIndex){for(var n=!1,i=0,r=t.alternatives;i<r.length;i++){var o=r[i];0===t.conditions[o]&&(t.conditions[o]=e.graphIndex,n=!0)}n||t.addChoice(e.graphIndex)}})),this.interventionService.removeIntervention$.subscribe((function(e){for(var n=0,i=t.alternatives;n<i.length;n++){var r=i[n];t.conditions[r]===e&&(t.conditions[r]=0),t.conditions[r]>e&&t.conditions[r]--}t.graphIndex>e&&(t.graphIndex-=1)}))},t.prototype.ngOnChanges=function(t){t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)},t.prototype.toChar=function(t){return String.fromCharCode(t)},t.prototype.addChoice=function(t){void 0===t&&(t=0);var e="Alternativa "+(this.alternatives.length+1);this.alternatives.push(e),this.conditions[e]=t},t.prototype.removeChoice=function(t){this.alternatives.splice(t,1),this.updateEdges()},t.prototype.updateEdges=function(){this.interventionService.removeEdges(this.graphIndex);for(var t=0,e=this.alternatives;t<e.length;t++){var n=e[t];0!==this.conditions[n]&&this.interventionService.setNextFromTo(this.graphIndex,Number.parseInt(this.conditions[n]))}},t.prototype.setNextTo=function(){this.updateEdges()},t.prototype.onTextChange=function(t,e,n){this.conditions[n]=this.conditions[e],this.alternatives[t]=n,delete this.conditions[e]},t.prototype.onNextChange=function(t,e){this.conditions[t]=Number.parseInt(e)},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-unique-choice"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[O.yb],decls:5,vars:1,consts:[[1,"font-weight-bold","text-primary","mb-2"],["class","mb-3",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"mb-3"],[1,"d-flex","justify-content-between"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],[1,"d-flex","flex-column","w-100"],["cols","1","placeholder","Digite o texto",1,"w-100",3,"ngModel","id","ngModelChange"],[1,"w-100","mt-2",3,"ngModel","ngModelChange","change"],["disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"click"],[3,"value","disabled"]],template:function(t,e){1&t&&(O.Tb(0,"span",0),O.Ic(1,"Alternativas"),O.Sb(),O.Gc(2,Hn,13,7,"div",1),O.Tb(3,"button",2),O.fc("click",(function(){return e.addChoice()})),O.Ic(4,"Adicionar alternativa"),O.Sb()),2&t&&(O.Ab(2),O.oc("ngForOf",e.alternatives))},directives:[i.j,o.b,o.m,o.p,o.t,o.q,o.v],encapsulation:2}),t}();function Wn(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",3),O.Tb(1,"label",4),O.Ic(2),O.Sb(),O.Tb(3,"textarea",5),O.fc("ngModelChange",(function(t){O.zc(n);var i=e.index;return O.jc().alternatives[i]=t})),O.Sb(),O.Tb(4,"i",6),O.fc("click",(function(){O.zc(n);var t=e.index;return O.jc().removeChoice(t)})),O.Sb(),O.Sb()}if(2&t){var i=e.index,r=O.jc();O.Ab(1),O.oc("for",r.graphIndex+"alternative"+i),O.Ab(1),O.Jc(i+1),O.Ab(1),O.oc("ngModel",r.alternatives[i])("id",r.graphIndex+"alternative"+i)}}var Jn=function(){function t(t){this.interventionService=t}return Object.defineProperty(t.prototype,"alternatives",{get:function(){return this.intervention.options},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention,this.alternatives.push("Alternativa 1"),this.alternatives.push("Alternativa 2")},t.prototype.ngOnChanges=function(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)},t.prototype.addChoice=function(){this.alternatives.push("Alternative "+(this.alternatives.length+1))},t.prototype.removeChoice=function(t){this.alternatives.splice(t,1)},t.prototype.debug=function(){console.log(this.intervention)},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-multiple-choice"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[O.yb],decls:5,vars:1,consts:[[1,"font-weight-bold","text-primary","mb-2",3,"click"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["cols","1","placeholder","Digite o texto",1,"w-100",3,"ngModel","id","ngModelChange"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"click"]],template:function(t,e){1&t&&(O.Tb(0,"span",0),O.fc("click",(function(){return e.debug()})),O.Ic(1,"Alternativas"),O.Sb(),O.Gc(2,Wn,5,4,"div",1),O.Tb(3,"button",2),O.fc("click",(function(){return e.addChoice()})),O.Ic(4,"Adicionar alternativa"),O.Sb()),2&t&&(O.Ab(2),O.oc("ngForOf",e.alternatives))},directives:[i.j,o.b,o.m,o.p],encapsulation:2}),t}();function Qn(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",11),O.Tb(1,"label",12),O.Ic(2),O.Sb(),O.Tb(3,"textarea",13),O.fc("ngModelChange",(function(t){O.zc(n);var i=e.index;return O.jc().affirmatives[i]=t})),O.Sb(),O.Tb(4,"i",14),O.fc("click",(function(){O.zc(n);var t=e.index;return O.jc().removeChoice(t)})),O.Sb(),O.Sb()}if(2&t){var i=e.index,r=O.jc();O.Ab(1),O.oc("for",r.graphIndex+"alternative"+i),O.Ab(1),O.Jc(i+1),O.Ab(1),O.oc("ngModel",r.affirmatives[i])("id",r.graphIndex+"alternative"+i)}}var Zn=function(){function t(t){this.interventionService=t}return Object.defineProperty(t.prototype,"scale",{get:function(){return this.intervention.scales[0]},set:function(t){this.intervention.scales[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"affirmatives",{get:function(){return this.intervention.options},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention,this.scale="5 AGREEMENT"},t.prototype.ngOnChanges=function(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)},t.prototype.addChoice=function(){this.affirmatives.push("Afirmativa"+(this.affirmatives.length+1))},t.prototype.removeChoice=function(t){this.affirmatives.splice(t,1)},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-likert"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[O.yb],decls:20,vars:4,consts:[[1,"font-weight-bold","text-primary","mb-2",3,"for"],[1,"mb-2",3,"ngModel","id","ngModelChange"],["value","5 AGREEMENT"],["value","7 AGREEMENT"],["value","5 FREQUENCY"],["value","7 FREQUENCY"],["value","5 SATISFACTION"],["value","7 SATISFACTION"],[1,"font-weight-bold","text-primary","mb-2"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["cols","1","placeholder","Afirmativa",1,"w-100",3,"ngModel","id","ngModelChange"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"click"]],template:function(t,e){1&t&&(O.Tb(0,"label",0),O.Ic(1,"Escola o tipo de escala Likert"),O.Sb(),O.Tb(2,"select",1),O.fc("ngModelChange",(function(t){return e.scale=t})),O.Tb(3,"option",2),O.Ic(4,"Concord\xe2ncia (5 pontos)"),O.Sb(),O.Tb(5,"option",3),O.Ic(6,"Concord\xe2ncia (7 pontos)"),O.Sb(),O.Tb(7,"option",4),O.Ic(8,"Frequ\xeancia (5 pontos)"),O.Sb(),O.Tb(9,"option",5),O.Ic(10,"Frequ\xeancia (7 pontos)"),O.Sb(),O.Tb(11,"option",6),O.Ic(12,"Satisfa\xe7\xe3o (5 pontos)"),O.Sb(),O.Tb(13,"option",7),O.Ic(14,"Satisfa\xe7\xe3o (7 pontos)"),O.Sb(),O.Sb(),O.Tb(15,"span",8),O.Ic(16,"Afirmativas"),O.Sb(),O.Gc(17,Qn,5,4,"div",9),O.Tb(18,"button",10),O.fc("click",(function(){return e.addChoice()})),O.Ic(19,"Adicionar alternativa"),O.Sb()),2&t&&(O.oc("for",e.graphIndex+"scale"),O.Ab(2),O.oc("ngModel",e.scale)("id",e.graphIndex+"scale"),O.Ab(15),O.oc("ngForOf",e.affirmatives))},directives:[o.t,o.m,o.p,o.q,o.v,i.j,o.b],encapsulation:2}),t}();function Kn(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div",3),O.Tb(1,"label",4),O.Ic(2),O.Sb(),O.Tb(3,"textarea",5),O.fc("ngModelChange",(function(t){O.zc(n);var i=e.index;return O.jc().scales[i]=t})),O.Sb(),O.Tb(4,"i",6),O.fc("click",(function(){O.zc(n);var t=e.index;return O.jc().removeChoice(t)})),O.Sb(),O.Sb()}if(2&t){var i=e.index,r=O.jc();O.Ab(1),O.oc("for",r.graphIndex+"alternative"+i),O.Ab(1),O.Jc(i+1),O.Ab(1),O.oc("ngModel",r.scales[i])("id",r.graphIndex+"alternative"+i)}}var Yn=function(){function t(t){this.interventionService=t}return Object.defineProperty(t.prototype,"scales",{get:function(){return this.intervention.scales},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention},t.prototype.ngOnChanges=function(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)},t.prototype.addChoice=function(){this.scales.push("Valor"+(this.scales.length+1))},t.prototype.removeChoice=function(t){this.scales.splice(t,1)},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-likert-custom"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[O.yb],decls:5,vars:1,consts:[[1,"font-weight-bold","text-primary","mb-2"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["cols","1","placeholder","Valor",1,"w-100",3,"ngModel","id","ngModelChange"],[1,"fas","fa-minus-circle","text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"click"]],template:function(t,e){1&t&&(O.Tb(0,"span",0),O.Ic(1,"Valores da escala"),O.Sb(),O.Gc(2,Kn,5,4,"div",1),O.Tb(3,"button",2),O.fc("click",(function(){return e.addChoice()})),O.Ic(4,"Aumentar a escala"),O.Sb()),2&t&&(O.Ab(2),O.oc("ngForOf",e.scales))},directives:[i.j,o.b,o.m,o.p],encapsulation:2}),t}();function Xn(t,e){if(1&t&&O.Ob(0,"esm-unique-choice",1),2&t){var n=O.jc();O.oc("graphIndex",n.graphIndex)("nextInterventions",n.nextInterventions)}}function ti(t,e){if(1&t&&O.Ob(0,"esm-multiple-choice",1),2&t){var n=O.jc();O.oc("graphIndex",n.graphIndex)("nextInterventions",n.nextInterventions)}}function ei(t,e){if(1&t&&O.Ob(0,"esm-likert",1),2&t){var n=O.jc();O.oc("graphIndex",n.graphIndex)("nextInterventions",n.nextInterventions)}}function ni(t,e){if(1&t&&O.Ob(0,"esm-likert-custom",1),2&t){var n=O.jc();O.oc("graphIndex",n.graphIndex)("nextInterventions",n.nextInterventions)}}var ii=function(){function t(t){this.interventionService=t}return t.prototype.ngOnInit=function(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention},t.prototype.ngOnChanges=function(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-question"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[O.yb],decls:4,vars:4,consts:[["class","d-flex flex-column justify-content-center",3,"graphIndex","nextInterventions",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center",3,"graphIndex","nextInterventions"]],template:function(t,e){1&t&&(O.Gc(0,Xn,1,2,"esm-unique-choice",0),O.Gc(1,ti,1,2,"esm-multiple-choice",0),O.Gc(2,ei,1,2,"esm-likert",0),O.Gc(3,ni,1,2,"esm-likert-custom",0)),2&t&&(O.oc("ngIf",1===e.intervention.questionType),O.Ab(1),O.oc("ngIf",2===e.intervention.questionType),O.Ab(1),O.oc("ngIf",3===e.intervention.questionType),O.Ab(1),O.oc("ngIf",31===e.intervention.questionType))},directives:[i.k,$n,Jn,Zn,Yn],encapsulation:2}),t}(),ri=["interventionDiv"];function oi(t,e){if(1&t&&O.Ob(0,"esm-question",17),2&t){var n=O.jc();O.oc("graphIndex",n.graphIndex)("nextInterventions",n.nextInterventions)}}function si(t,e){if(1&t&&(O.Tb(0,"option",23),O.Ic(1),O.Sb()),2&t){var n=e.$implicit,i=e.index,r=O.jc(2);O.oc("value",i+1)("disabled",i+1===r.graphIndex),O.Ab(1),O.Lc("",n.orderPosition<0?r.toChar(-1*n.orderPosition):n.orderPosition," - ",n.typeDescription,"")}}function ai(t,e){if(1&t){var n=O.Ub();O.Tb(0,"div"),O.Ob(1,"hr",18),O.Tb(2,"select",19),O.fc("ngModelChange",(function(t){return O.zc(n),O.jc().nextInterventionSelect=t}))("change",(function(){return O.zc(n),O.jc().setNextTo()})),O.Tb(3,"option",20),O.Ic(4,"Pr\xf3xima interven\xe7\xe3o"),O.Sb(),O.Gc(5,si,2,4,"option",21),O.Tb(6,"option",22),O.Ic(7,"Finalizar"),O.Sb(),O.Sb(),O.Sb()}if(2&t){var i=O.jc();O.Ab(2),O.oc("ngModel",i.nextInterventionSelect),O.Ab(3),O.oc("ngForOf",i.nextInterventions.slice(1)),O.Ab(1),O.oc("value",0)}}var ci=function(){function t(t){this.interventionService=t,this.offset={x:0,y:0},this.nextInterventions=[],this.interventionMoved=new O.n}return t.prototype.ngOnInit=function(){var t=this;this.nextInterventionSelect="0",this.interventionService.firstInterventionChange$.subscribe((function(e){t.graphIndex!==e&&(t.interventionCoordinate.first=!1)})),this.interventionService.removeIntervention$.subscribe((function(e){t.graphIndex>e&&(t.graphIndex-=1)}))},t.prototype.ngAfterViewInit=function(){this.interventionCoordinate.width=this.interventionDiv.nativeElement.clientWidth,this.interventionCoordinate.height=this.interventionDiv.nativeElement.clientHeight,this.interventionCoordinate.x=this.offset.x+this.interventionCoordinate.width/2,this.interventionCoordinate.y=this.offset.y+this.interventionCoordinate.height/2},t.prototype.ngAfterContentInit=function(){var t=this;this.updateNextInterventions(),this.redrawGraphSubscription=this.interventionService.redrawGraph$.subscribe((function(e){return t.updateNextInterventions()}))},t.prototype.ngOnDestroy=function(){this.redrawGraphSubscription.unsubscribe()},t.prototype.toChar=function(t){return String.fromCharCode(t)},t.prototype.updateNextInterventions=function(){var t;this.nextInterventions=this.interventionService.graphElements,this.nextInterventionSelect=(null===(t=this.interventionService.interventionElementsGraph[this.graphIndex][0])||void 0===t?void 0:t.toString())||"0"},t.prototype.interventionCurrentCoordinate=function(){var t=this.interventionDiv.nativeElement.style.transform.match(/\d+px/g).map((function(t){return Number.parseInt(t.substring(0,t.length-2))}));return{x:t[0],y:t[1]}},t.prototype.onDragStart=function(){this.previousPosition=this.interventionCurrentCoordinate()},t.prototype.moving=function(){var t=this.interventionCurrentCoordinate(),e=t.y-this.previousPosition.y;this.interventionCoordinate.x=this.interventionCoordinate.x+(t.x-this.previousPosition.x),this.interventionCoordinate.y=this.interventionCoordinate.y+e,this.interventionMoved.emit(this.interventionCoordinate),this.previousPosition=t},t.prototype.setNextTo=function(){var t=this.graphIndex;if("0"!==this.nextInterventionSelect){var e=Number.parseInt(this.nextInterventionSelect);this.interventionService.removeEdges(t,!1),this.interventionService.setNextFromTo(t,e)}else this.interventionService.removeEdges(t)},t.prototype.setFirst=function(){this.interventionCoordinate.first||(this.interventionCoordinate.first=!0,this.interventionService.setFirst(this.graphIndex))},t.prototype.remove=function(){this.interventionService.removeIntervention(this.graphIndex)},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-intervention"]],viewQuery:function(t,e){var n;1&t&&O.Nc(ri,!0),2&t&&O.wc(n=O.gc())&&(e.interventionDiv=n.first)},outputs:{interventionMoved:"interventionMoved"},decls:25,vars:14,consts:[["cdkDrag","","cdkDragBoundary",".interventionBoundary",1,"card","position-absolute",2,"top","0","width","300px",3,"cdkDragFreeDragPosition","cdkDragStarted","cdkDragMoved"],["interventionDiv",""],["cdkDragHandle","",1,"d-flex","align-items-center","justify-content-between","bg-primary","text-white","w-100","p-2"],[1,"font-weight-bold"],[1,"fas","fa-times","pointer",3,"click"],[1,"w-100","p-3"],[1,"w-100","mb-3"],["type","radio","name","first",3,"checked","id","click"],[3,"for"],["type","checkbox",3,"ngModel","id","ngModelChange"],[1,"d-flex","flex-column"],[3,"id","ngModel","ngModelChange"],[1,"d-flex","w-100"],[1,"btn","btn-outline-primary","my-4","mx-auto"],[1,"fas","fa-paperclip"],[3,"graphIndex","nextInterventions",4,"ngIf"],[4,"ngIf"],[3,"graphIndex","nextInterventions"],[2,"border-top","2px dashed #E8E8E8"],[1,"w-100",3,"ngModel","ngModelChange","change"],["disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value"],[3,"value","disabled"]],template:function(t,e){1&t&&(O.Tb(0,"div",0,1),O.fc("cdkDragStarted",(function(){return e.onDragStart()}))("cdkDragMoved",(function(){return e.moving()})),O.Tb(2,"div",2),O.Tb(3,"span",3),O.Ic(4),O.Sb(),O.Tb(5,"i",4),O.fc("click",(function(){return e.remove()})),O.Sb(),O.Sb(),O.Tb(6,"div",5),O.Tb(7,"div",6),O.Tb(8,"input",7),O.fc("click",(function(){return e.setFirst()})),O.Sb(),O.Tb(9,"label",8),O.Ic(10,"1\xaa Interven\xe7\xe3o"),O.Sb(),O.Sb(),O.Tb(11,"div",6),O.Tb(12,"input",9),O.fc("ngModelChange",(function(t){return e.interventionCoordinate.obligatory=t})),O.Sb(),O.Tb(13,"label",8),O.Ic(14,"Obrigat\xf3ria"),O.Sb(),O.Sb(),O.Tb(15,"div",10),O.Tb(16,"label",8),O.Ic(17,"Digite a mensagem"),O.Sb(),O.Tb(18,"textarea",11),O.fc("ngModelChange",(function(t){return e.interventionCoordinate.statement=t})),O.Sb(),O.Sb(),O.Tb(19,"div",12),O.Tb(20,"button",13),O.Ic(21,"Anexar m\xeddia "),O.Ob(22,"i",14),O.Sb(),O.Sb(),O.Gc(23,oi,1,2,"esm-question",15),O.Gc(24,ai,8,3,"div",16),O.Sb(),O.Sb()),2&t&&(O.oc("cdkDragFreeDragPosition",e.offset),O.Ab(4),O.Lc("",e.interventionCoordinate.orderPosition<0?e.toChar(-1*e.interventionCoordinate.orderPosition):e.interventionCoordinate.orderPosition," - ",e.interventionCoordinate.typeDescription,""),O.Ab(4),O.oc("checked",e.interventionCoordinate.first)("id",e.graphIndex+"-first"),O.Ab(1),O.oc("for",e.graphIndex+"-first"),O.Ab(3),O.oc("ngModel",e.interventionCoordinate.obligatory)("id",e.graphIndex+"-obligatory"),O.Ab(1),O.oc("for",e.graphIndex+"-obligatory"),O.Ab(3),O.oc("for",e.graphIndex+"-statement"),O.Ab(2),O.oc("id",e.graphIndex+"-statement")("ngModel",e.interventionCoordinate.statement),O.Ab(5),O.oc("ngIf","question"===e.interventionCoordinate.type),O.Ab(1),O.oc("ngIf","question"!==e.interventionCoordinate.type||1!==e.interventionCoordinate.questionType))},directives:[qn,Fn,o.a,o.m,o.p,o.b,i.k,ii,o.t,o.q,o.v,i.j],encapsulation:2}),t}();function li(t,e){if(1&t){var n=O.Ub();O.Tb(0,"ul",14),O.Tb(1,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("empty")})),O.Ob(2,"i",16),O.Tb(3,"span"),O.Ic(4,"Mensagem"),O.Sb(),O.Sb(),O.Tb(5,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("question",0)})),O.Ob(6,"i",17),O.Tb(7,"span"),O.Ic(8,"Quest\xe3o aberta"),O.Sb(),O.Sb(),O.Tb(9,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("question",1)})),O.Ob(10,"i",18),O.Tb(11,"span"),O.Ic(12,"Escolha \xdanica"),O.Sb(),O.Sb(),O.Tb(13,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("question",2)})),O.Ob(14,"i",19),O.Tb(15,"span"),O.Ic(16,"Escolha M\xfaltipla"),O.Sb(),O.Sb(),O.Tb(17,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("question",3)})),O.Ob(18,"i",20),O.Tb(19,"span"),O.Ic(20,"Likert"),O.Sb(),O.Sb(),O.Tb(21,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("question",31)})),O.Ob(22,"i",21),O.Tb(23,"span"),O.Ic(24,"Likert Personalizada"),O.Sb(),O.Sb(),O.Tb(25,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("question",4)})),O.Ob(26,"i",22),O.Tb(27,"span"),O.Ic(28,"Diferencial Sem\xe2ntico"),O.Sb(),O.Sb(),O.Tb(29,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("media")})),O.Ob(30,"i",23),O.Tb(31,"span"),O.Ic(32,"Solicitar M\xeddia"),O.Sb(),O.Sb(),O.Tb(33,"li",15),O.fc("click",(function(){return O.zc(n),O.jc().addIntervention("task")})),O.Ob(34,"i",24),O.Tb(35,"span"),O.Ic(36,"Aplica\xe7\xe3o externa"),O.Sb(),O.Sb(),O.Sb()}if(2&t){var i=O.jc();O.Ec("top: "+i.navbar_height+"px;")}}var pi=function(){function t(t){this.interventionService=t,this.addInterventionPopUp=!1}return Object.defineProperty(t.prototype,"navbar_height",{get:function(){return 60},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.over1200px=window.innerWidth>950,this.over1200px&&(this.mobileToggleActivated=!1)},t.prototype.addIntervention=function(t,e){var n;"empty"===t?n=new m:"media"===t?n=new y:"question"===t?n=new S({questionType:e}):"task"===t&&(n=new T),this.interventionService.addIntervention(new re(n))},t.prototype.onResize=function(){this.over1200px=window.innerWidth>950,this.over1200px&&(this.mobileToggleActivated=!1)},t.prototype.zoomPopUp=function(){new s.a({title:"Zoom",text:'Utilize o zoom do navegador para controlar o zoom.\nNormalmente isso pode ser feito segurando a tecla "CTRL" e pressionando as teclas "+" ou "-"'}).show().then()},t.prototype.finish=function(){this.interventionService.finish()},t.prototype.debug=function(){console.log("interventionElementsGraph",this.interventionService.interventionElementsGraph)},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-navbar"]],hostBindings:function(t,e){1&t&&O.fc("resize",(function(t){return e.onResize(t)}),!1,O.yc)},decls:34,vars:3,consts:[[1,"d-flex","align-items-stretch","justify-content-around","bg-primary","w-100","position-fixed","px-2","text-white"],[1,"d-flex","align-items-center","justify-content-center",3,"click"],["src","assets/images/logo-espim-web.svg","alt","Logo do Espim",1,"pr-1"],[1,"text-large"],[1,"d-flex","align-items-center","text-center","btn","btn-primary",3,"click"],[1,"fas","fa-plus-circle","pr-1"],["class","position-fixed list-unstyled card",3,"style",4,"ngIf"],[1,"d-flex","align-items-center","text-center","btn","btn-primary"],[1,"fas","fa-undo-alt","pr-1"],[1,"fas","fa-redo-alt","pr-1"],[1,"fas","fa-search-plus","pr-1"],[1,"fas","fa-download","pr-1"],[1,"fas","fa-upload","pr-1"],[1,"fas","fa-check-circle","pr-1"],[1,"position-fixed","list-unstyled","card"],[1,"btn","btn-light","text-left",3,"click"],[1,"fa","fa-comment","pr-1"],[1,"fa","fa-align-left","pr-1"],[1,"fas","fa-dot-circle","pr-1"],[1,"fas","fa-check-square","pr-1"],[1,"fa","fa-ruler-combined","pr-1"],[1,"fa","fa-pencil-ruler","pr-1"],[1,"fas","fa-balance-scale","pr-1"],[1,"fas","fa-video","pr-1"],[1,"fas","fa-mobile","pr-1"]],template:function(t,e){1&t&&(O.Tb(0,"nav",0),O.Tb(1,"div",1),O.fc("click",(function(){return e.debug()})),O.Ob(2,"img",2),O.Tb(3,"span",3),O.Ic(4,"ESPIM"),O.Sb(),O.Sb(),O.Tb(5,"div",4),O.fc("click",(function(){return e.addInterventionPopUp=!e.addInterventionPopUp})),O.Ob(6,"i",5),O.Tb(7,"span"),O.Ic(8,"Adicionar"),O.Sb(),O.Gc(9,li,37,2,"ul",6),O.Sb(),O.Tb(10,"div",7),O.Ob(11,"i",8),O.Tb(12,"span"),O.Ic(13,"Desfazer"),O.Sb(),O.Sb(),O.Tb(14,"div",7),O.Ob(15,"i",9),O.Tb(16,"span"),O.Ic(17,"Refazer"),O.Sb(),O.Sb(),O.Tb(18,"div",4),O.fc("click",(function(){return e.zoomPopUp()})),O.Ob(19,"i",10),O.Tb(20,"span"),O.Ic(21,"Zoom"),O.Sb(),O.Sb(),O.Tb(22,"div",7),O.Ob(23,"i",11),O.Tb(24,"span"),O.Ic(25,"Importar"),O.Sb(),O.Sb(),O.Tb(26,"div",7),O.Ob(27,"i",12),O.Tb(28,"span"),O.Ic(29,"Exportar"),O.Sb(),O.Sb(),O.Tb(30,"div",4),O.fc("click",(function(){return e.finish()})),O.Ob(31,"i",13),O.Tb(32,"span"),O.Ic(33,"Concluir"),O.Sb(),O.Sb(),O.Sb()),2&t&&(O.Ec("height: "+e.navbar_height+"px; z-index: 10;"),O.Ab(9),O.oc("ngIf",e.addInterventionPopUp))},directives:[i.k],encapsulation:2}),t}(),ui=["canvas"],di=function(){function t(t){this.interventionService=t}return t.prototype.ngOnInit=function(){var t=this;this.interventionService.redrawGraph$.subscribe((function(e){return t.drawAllArrows()}))},t.prototype.ngAfterViewInit=function(){this.canvas=this.canvasRef.nativeElement,this.resizeCanvas()},t.prototype.resizeCanvas=function(){this.canvasRef.nativeElement.width=document.documentElement.scrollWidth,this.canvasRef.nativeElement.height=document.documentElement.scrollHeight-60-20},t.prototype.clearCanvas=function(){var t=this.canvas.getContext("2d");t.beginPath(),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.stroke()},t.prototype.drawAllArrows=function(){this.resizeCanvas();var t=new Array(this.interventionService.graphElements.length),e=[];for(e.push({intervention:this.interventionService.firstIntervention,orderPosition:1});e.length>0;){var n=e[0],i=n.intervention,r=n.orderPosition;if(e.splice(0,1),void 0!==i&&0!==i&&-1!==i)if(t[i])this.interventionService.warnCycle(i);else{this.interventionService.graphElement(i).orderPosition=r,t[i]=!0;for(var o=0,s=this.interventionService.interventionElementsGraph[i];o<s.length;o++)e.push({intervention:u=s[o],orderPosition:r+1}),this.drawArrow(this.interventionService.graphElement(i),this.interventionService.graphElement(u),!0);this.interventionService.lastInteractedIntervention=i}}this.interventionService.hasMultiplePaths=!1;for(var a="a".charCodeAt(0),c=1;c<t.length;c++)if(!t[c]){this.interventionService.hasMultiplePaths=!0,this.interventionService.graphElement(c).orderPosition=-1*a;for(var l=0,p=this.interventionService.interventionElementsGraph[c];l<p.length;l++){var u=p[l];this.drawArrow(this.interventionService.graphElement(c),this.interventionService.graphElement(u),!1)}a++}},t.prototype.drawArrow=function(t,e,n){if(void 0===n&&(n=!0),t&&e){var i,r,o=e.x-t.x,s=e.y-t.y;if(Math.abs(o)>Math.abs(s))i=o>=0?t.right:t.left,r=o>=0?e.left:e.right;else{if(!(Math.abs(o)<Math.abs(s)))return;i=s>=0?t.bottom:t.top,r=s>=0?e.top:e.bottom}var a=this.canvas.getContext("2d"),c=Math.atan2(s,o);a.beginPath(),n?(a.strokeStyle="#0a467f",a.lineWidth=2):(a.strokeStyle="#000000",a.lineWidth=1),a.moveTo(i.x,i.y),a.lineTo(r.x,r.y),a.lineTo(r.x-10*Math.cos(c-Math.PI/6),r.y-10*Math.sin(c-Math.PI/6)),a.moveTo(r.x,r.y),a.lineTo(r.x-10*Math.cos(c+Math.PI/6),r.y-10*Math.sin(c+Math.PI/6)),a.stroke()}},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-canvas"]],viewQuery:function(t,e){var n;1&t&&O.Nc(ui,!0),2&t&&O.wc(n=O.gc())&&(e.canvasRef=n.first)},decls:2,vars:0,consts:[["canvas",""]],template:function(t,e){1&t&&O.Ob(0,"canvas",null,0)},encapsulation:2}),t}(),bi=["container"],hi=["main_div"],gi=[{path:"",component:N,children:[{path:"",component:j},{path:"participants/list",component:ot},{path:"participants/add",component:pt},{path:"participants/add/:id",component:pt},{path:"programs/list",component:wt},{path:"programs/add/:id",component:Pt,children:[{path:"first",component:Rt},{path:"second",component:$t},{path:"third",component:ne},{path:"fourth",component:Oe}]},{path:"observers/add",component:jt},{path:"results/list",component:Pe}]},{path:"programs/add/:id/fourth/:event/interventions",component:function(){function t(t,e,n){this.interventionService=t,this.renderer=e,this.componentFactoryResolver=n,this.interventionComponents=[],this.previousPosition={},this.offset={x:0,y:0}}return Object.defineProperty(t.prototype,"navbar_height",{get:function(){return 60},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){window.scrollTo(0,0)},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(e){for(var n=1;n<t.interventionService.graphElements.length;n++)t.createIntervention(t.interventionService.graphElements[n],n);t.interventionService.redrawGraph$.next()}),0),this.interventionService.newInterventions$.subscribe((function(e){return t.createIntervention(e.intervention,e.graphIndex)})),this.interventionService.removeIntervention$.subscribe((function(e){t.interventionComponents[e-1].destroy(),t.interventionComponents.splice(e-1,1)}))},t.prototype.resizeScreen=function(){this.renderer.setStyle(this.mainDiv.nativeElement,"width",document.documentElement.scrollWidth+"px"),this.renderer.setStyle(this.mainDiv.nativeElement,"height",document.documentElement.scrollHeight-60-20+"px")},t.prototype.createIntervention=function(t,e){var n=this,i=this.interventionsContainer.createComponent(this.componentFactoryResolver.resolveComponentFactory(ci));i.instance.offset={x:340.5*this.interventionComponents.length+50,y:50},i.instance.interventionCoordinate=t,i.instance.graphIndex=e,i.instance.interventionMoved.subscribe((function(t){return n.resizeScreen()})),this.interventionComponents.push(i),setTimeout((function(t){n.resizeScreen(),n.interventionService.redrawGraph$.next(),window.scrollTo({top:50,left:340.5*n.interventionComponents.length+50,behavior:"smooth"})}),250)},t.prototype.onMiddleClickDown=function(t){4===t.buttons&&(this.previousPosition={x:t.clientX,y:t.clientY})},t.prototype.onMiddleClickUp=function(t){4===t.buttons&&(this.previousPosition={})},t.prototype.MiddleClickScroll=function(t){if(void 0!==this.previousPosition.x&&void 0!==this.previousPosition.y&&4===t.buttons){var e={x:t.clientX,y:t.clientY},n={x:e.x-this.previousPosition.x,y:e.y-this.previousPosition.y};this.offset.x+=n.x,this.offset.y+=n.y,window.scrollBy({left:-1*n.x,top:-1*n.y}),this.previousPosition=e}},t.\u0275fac=function(e){return new(e||t)(O.Nb(ie),O.Nb(O.D),O.Nb(O.j))},t.\u0275cmp=O.Hb({type:t,selectors:[["esm-interventions"]],viewQuery:function(t,e){var n;1&t&&(O.Nc(bi,!0,O.N),O.Nc(hi,!0)),2&t&&(O.wc(n=O.gc())&&(e.interventionsContainer=n.first),O.wc(n=O.gc())&&(e.mainDiv=n.first))},decls:6,vars:2,consts:[[1,"position-absolute"],["main_div",""],[1,"tiled-background","w-100","h-100",3,"mousedown","mouseup","mousemove"],["container",""]],template:function(t,e){1&t&&(O.Ob(0,"esm-navbar"),O.Tb(1,"div",0,1),O.Tb(3,"div",2),O.fc("mousedown",(function(t){return e.onMiddleClickDown(t)}))("mouseup",(function(t){return e.onMiddleClickUp(t)}))("mousemove",(function(t){return e.MiddleClickScroll(t)})),O.Ob(4,"esm-canvas",null,3),O.Sb(),O.Sb()),2&t&&(O.Ab(1),O.Ec("top: 60px; width: 100vw; height: calc(100vh - "+e.navbar_height+"px);"))},directives:[pi,di],styles:[".tiled-background[_ngcontent-%COMP%]{background-size:40px 40px;background-image:linear-gradient(90deg,#eee 1px,transparent 0),linear-gradient(180deg,#eee 1px,transparent 0)}"]}),t}()}],fi=function(){function t(){}return t.\u0275mod=O.Lb({type:t}),t.\u0275inj=O.Kb({factory:function(e){return new(e||t)},imports:[[a.f.forChild(gi)],a.f]}),t}(),vi=function(){function t(){}return t.\u0275mod=O.Lb({type:t}),t.\u0275inj=O.Kb({factory:function(e){return new(e||t)},providers:[p.a,Q,Dt.a,Et.a,k],imports:[[i.b,fi,r.d.forChild(),o.r,o.i,s.c,C.d,Un]]}),t}()}}]);