"use strict";(self.webpackChunkespim_front_col=self.webpackChunkespim_front_col||[]).push([[358],{5358:(xc,It,_)=>{_.r(It),_.d(It,{PrivateModule:()=>bc});var h=_(9808),E=_(1786),c=_(3075),he=_(160),w=_(9444),e=_(5e3);let je;try{je="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){je=!1}let me,ze,ne=(()=>{class r{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,h.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!je)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.Lbi))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function oe(r){return function $i(){if(null==me&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>me=!0}))}finally{me=me||!1}return me}()?r:!!r.capture}function Qe(r){if(function Wi(){if(null==ze){const r="undefined"!=typeof document?document.head:null;ze=!(!r||!r.createShadowRoot&&!r.attachShadow)}return ze}()){const n=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function q(r){return r.composedPath?r.composedPath()[0]:r.target}var f=_(7579),F=_(727),Zt=_(1135),V=_(9646);function Dt(r,...n){return n.length?n.some(t=>r[t]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}var ge=_(8505),He=_(4986),Pt=_(4482),Ye=_(5403),Mt=_(9300),j=_(4004),Cn=_(5684),Ot=_(1884),R=_(2722);function L(r){return null!=r&&"false"!=`${r}`}function Nt(r,n=0){return function xn(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):n}function A(r){return r instanceof e.SBq?r.nativeElement:r}class Sn extends class wn{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new f.x,this._typeaheadSubscription=F.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new f.x,this.change=new f.x,n instanceof e.n_E&&n.changes.subscribe(t=>{if(this._activeItem){const o=t.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ge.b)(t=>this._pressedLetters.push(t)),function bn(r,n=He.z){return(0,Pt.e)((t,i)=>{let o=null,s=null,a=null;const l=()=>{if(o){o.unsubscribe(),o=null;const d=s;s=null,i.next(d)}};function u(){const d=a+r,g=n.now();if(g<d)return o=this.schedule(void 0,d-g),void i.add(o);l()}t.subscribe((0,Ye.x)(i,d=>{s=d,a=n.now(),o||(o=n.schedule(u,r),i.add(o))},()=>{l(),i.complete()},void 0,()=>{s=o=null}))})}(n),(0,Mt.h)(()=>this._pressedLetters.length>0),(0,j.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let o=1;o<i.length+1;o++){const s=(this._activeItemIndex+o)%i.length,a=i[s];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const t=this._activeItem;this.updateActiveItem(n),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(n){const t=n.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||Dt(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const t=this._getItemsArray(),i="number"==typeof n?n:t.indexOf(n),o=t[i];this._activeItem=null==o?null:o,this._activeItemIndex=i}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const o=(this._activeItemIndex+n*i+t.length)%t.length;if(!this._skipPredicateFn(t[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,t){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=t])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof e.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}function Ve(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}function Ge(r){const n=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const Dn=new e.OlP("cdk-input-modality-detector-options"),Pn={ignoreKeys:[18,17,224,91,16]},se=oe({passive:!0,capture:!0});let Mn=(()=>{class r{constructor(t,i,o,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Zt.X(null),this._lastTouchMs=0,this._onKeydown=a=>{var l,u;(null===(u=null===(l=this._options)||void 0===l?void 0:l.ignoreKeys)||void 0===u?void 0:u.some(d=>d===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=q(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ve(a)?"keyboard":"mouse"),this._mostRecentTarget=q(a))},this._onTouchstart=a=>{Ge(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=q(a))},this._options=Object.assign(Object.assign({},Pn),s),this.modalityDetected=this._modality.pipe((0,Cn.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ot.x)()),t.isBrowser&&i.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,se),o.addEventListener("mousedown",this._onMousedown,se),o.addEventListener("touchstart",this._onTouchstart,se)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,se),document.removeEventListener("mousedown",this._onMousedown,se),document.removeEventListener("touchstart",this._onTouchstart,se))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ne),e.LFG(e.R0b),e.LFG(h.K0),e.LFG(Dn,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Nn=new e.OlP("cdk-focus-monitor-default-options"),ke=oe({passive:!0,capture:!0});let Fn=(()=>{class r{constructor(t,i,o,s,a){this._ngZone=t,this._platform=i,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new f.x,this._rootNodeFocusAndBlurListener=l=>{const u=q(l),d="focus"===l.type?this._onFocus:this._onBlur;for(let g=u;g;g=g.parentElement)d.call(this,l,g)},this._document=s,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(t,i=!1){const o=A(t);if(!this._platform.isBrowser||1!==o.nodeType)return(0,V.of)(null);const s=Qe(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return i&&(a.checkChildren=!0),a.subject;const l={checkChildren:i,subject:new f.x,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const i=A(t),o=this._elementInfo.get(i);o&&(o.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(o))}focusVia(t,i,o){const s=A(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,u])=>this._originChanged(l,i,u)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const o=this._elementInfo.get(i),s=q(t);!o||!o.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),o)}_onBlur(t,i){const o=this._elementInfo.get(i);!o||o.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(o.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,o=this._rootNodeFocusListenerCount.get(i)||0;o||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ke),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ke)}),this._rootNodeFocusListenerCount.set(i,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,R.R)(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const o=this._rootNodeFocusListenerCount.get(i);o>1?this._rootNodeFocusListenerCount.set(i,o-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ke),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ke),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,o){this._setClasses(t,i),this._emitOrigin(o.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((o,s)=>{(s===t||o.checkChildren&&s.contains(t))&&i.push([s,o])}),i}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.R0b),e.LFG(ne),e.LFG(Mn),e.LFG(h.K0,8),e.LFG(Nn,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Lt="cdk-high-contrast-black-on-white",Jt="cdk-high-contrast-white-on-black",$e="cdk-high-contrast-active";let Rn=(()=>{class r{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove($e),t.remove(Lt),t.remove(Jt),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add($e),t.add(Lt)):2===i&&(t.add($e),t.add(Jt))}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ne),e.LFG(h.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var ae=_(8675);const Un=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function qn(){return(0,e.f3M)(h.K0)}}),Ln=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let We=(()=>{class r{constructor(t){if(this.value="ltr",this.change=new e.vpe,t){const o=t.documentElement?t.documentElement.dir:null;this.value=function Jn(r){const n=(null==r?void 0:r.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ln.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((t.body?t.body.dir:null)||o||"ltr")}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Un,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ke=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function Bn(r,n){1&r&&e.Hsn(0)}const jn=["*"];let Bt=(()=>{class r{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),r})(),jt=(()=>{class r{constructor(t){this.template=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkStepLabel",""]]}),r})(),zn=0;const zt=new e.OlP("STEPPER_GLOBAL_OPTIONS");let Xe=(()=>{class r{constructor(t,i){this._stepper=t,this.interacted=!1,this.interactedStream=new e.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(t){this._editable=L(t)}get optional(){return this._optional}set optional(t){this._optional=L(t)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=L(t)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=L(t)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){var t;return null!==(t=this._stepperOptions.showError)&&void 0!==t?t:null!=this._customError}}return r.\u0275fac=function(t){return new(t||r)(e.Y36((0,e.Gpc)(()=>le)),e.Y36(zt,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cdk-step"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,jt,5),2&t){let s;e.iGM(s=e.CRH())&&(i.stepLabel=s.first)}},viewQuery:function(t,i){if(1&t&&e.Gf(e.Rgc,7),2&t){let o;e.iGM(o=e.CRH())&&(i.content=o.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[e.TTD],ngContentSelectors:jn,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.YNc(0,Bn,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),r})(),le=(()=>{class r{constructor(t,i,o,s){this._dir=t,this._changeDetectorRef=i,this._elementRef=o,this._destroyed=new f.x,this.steps=new e.n_E,this._sortedHeaders=new e.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new e.vpe,this._orientation="horizontal",this._groupId=zn++}get linear(){return this._linear}set linear(t){this._linear=L(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){var i;const o=Nt(t);this.steps&&this._steps?(this._isValidIndex(o),null===(i=this.selected)||void 0===i||i._markAsInteracted(),this._selectedIndex!==o&&!this._anyControlsInvalidOrPending(o)&&(o>=this._selectedIndex||this.steps.toArray()[o].editable)&&this._updateSelectedItemIndex(o)):this._selectedIndex=o}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}ngAfterContentInit(){this._steps.changes.pipe((0,ae.O)(this._steps),(0,R.R)(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,ae.O)(this._stepHeader),(0,R.R)(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((i,o)=>i._elementRef.nativeElement.compareDocumentPosition(o._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Sn(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,V.of)()).pipe((0,ae.O)(this._layoutDirection()),(0,R.R)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const i=t-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,i="number"){const o=this.steps.toArray()[t],s=this._isCurrentStep(t);return o._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(o,s):this._getGuidelineLogic(o,s,i)}_getDefaultIndicatorLogic(t,i){return t._showError()&&t.hasError&&!i?"error":!t.completed||i?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,i,o="number"){return t._showError()&&t.hasError&&!i?"error":t.completed&&!i?"done":t.completed&&i?o:t.editable&&i?"edit":o}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:i[t],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this._stateChanged()}_onKeydown(t){const i=Dt(t),o=t.keyCode,s=this._keyManager;null==s.activeItemIndex||i||32!==o&&13!==o?s.onKeydown(t):(this.selectedIndex=s.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this._linear&&t>=0)&&this.steps.toArray().slice(0,t).some(i=>{const o=i.stepControl;return(o?o.invalid||o.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,i=function Ki(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const n=r.shadowRoot.activeElement;if(n===r)break;r=n}return r}();return t===i||t.contains(i)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(We,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(h.K0))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkStepper",""]],contentQueries:function(t,i,o){if(1&t&&(e.Suo(o,Xe,5),e.Suo(o,Bt,5)),2&t){let s;e.iGM(s=e.CRH())&&(i._steps=s),e.iGM(s=e.CRH())&&(i._stepHeader=s)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),r})(),Qn=(()=>{class r{constructor(t){this._stepper=t,this.type="submit"}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(le))},r.\u0275dir=e.lG2({type:r,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i._stepper.next()}),2&t&&e.Ikx("type",i.type)},inputs:{type:"type"}}),r})(),Hn=(()=>{class r{constructor(t){this._stepper=t,this.type="button"}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(le))},r.\u0275dir=e.lG2({type:r,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i._stepper.previous()}),2&t&&e.Ikx("type",i.type)},inputs:{type:"type"}}),r})(),Qt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[Ke]]}),r})();class et{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Yn extends et{constructor(n,t,i,o){super(),this.component=n,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=o}}class Ht extends et{constructor(n,t,i){super(),this.templateRef=n,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class Vn extends et{constructor(n){super(),this.element=n instanceof e.SBq?n.nativeElement:n}}let $n=(()=>{class r extends class Gn{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof Yn?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Ht?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof Vn?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,i,o){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new e.vpe,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e._Vd),e.Y36(e.s_b),e.Y36(h.K0))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[e.qOj]}),r})(),Wn=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var Kn=_(6360);const er=new e.OlP("mat-sanity-checks",{providedIn:"root",factory:function Xn(){return!0}});let z=(()=>{class r{constructor(t,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function Xi(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Rn),e.LFG(er,8),e.LFG(h.K0))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[Ke],Ke]}),r})();function Gt(r,n){return class extends r{constructor(...t){super(...t),this.defaultColor=n,this.color=n}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}const tr=new e.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function ir(){return(0,e.f3M)(e.soG)}});class $t{constructor(){this._localeChanges=new f.x,this.localeChanges=this._localeChanges}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return null==n||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,t){return this.getYear(n)-this.getYear(t)||this.getMonth(n)-this.getMonth(t)||this.getDate(n)-this.getDate(t)}sameDate(n,t){if(n&&t){let i=this.isValid(n),o=this.isValid(t);return i&&o?!this.compareDate(n,t):i==o}return n==t}clampDate(n,t,i){return t&&this.compareDate(n,t)<0?t:i&&this.compareDate(n,i)>0?i:n}}const nr=new e.OlP("mat-date-formats"),rr=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function tt(r,n){const t=Array(r);for(let i=0;i<r;i++)t[i]=n(i);return t}let or=(()=>{class r extends $t{constructor(t,i){super(),this.useUtcForDisplay=!1,super.setLocale(t)}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){const i=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return tt(12,o=>this._format(i,new Date(2017,o,1)))}getDateNames(){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return tt(31,i=>this._format(t,new Date(2017,0,i+1)))}getDayOfWeekNames(t){const i=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return tt(7,o=>this._format(i,new Date(2017,0,o+1)))}getYearName(t){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,t)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,i,o){let s=this._createDateWithOverflow(t,i,o);return s.getMonth(),s}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,i){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");const o=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(o,t)}addCalendarYears(t,i){return this.addCalendarMonths(t,12*i)}addCalendarMonths(t,i){let o=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+i,this.getDate(t));return this.getMonth(o)!=((this.getMonth(t)+i)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(t,i){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+i)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(rr.test(t)){let i=new Date(t);if(this.isValid(i))return i}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,i,o){const s=new Date;return s.setFullYear(t,i,o),s.setHours(0,0,0,0),s}_2digit(t){return("00"+t).slice(-2)}_format(t,i){const o=new Date;return o.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),o.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t.format(o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(tr,8),e.LFG(ne))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const sr={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ar=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:$t,useClass:or}]}),r})(),lr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:nr,useValue:sr}],imports:[[ar]]}),r})(),it=(()=>{class r{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class cr{constructor(n,t,i){this._renderer=n,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Wt={enterDuration:225,exitDuration:150},nt=oe({passive:!0}),Kt=["mousedown","touchstart"],Xt=["mouseup","mouseleave","touchend","touchcancel"];class ur{constructor(n,t,i,o){this._target=n,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=A(i))}fadeInRipple(n,t,i={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},Wt),i.animation);i.centered&&(n=o.left+o.width/2,t=o.top+o.height/2);const a=i.radius||function hr(r,n,t){const i=Math.max(Math.abs(r-t.left),Math.abs(r-t.right)),o=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(i*i+o*o)}(n,t,o),l=n-o.left,u=t-o.top,d=s.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=l-a+"px",g.style.top=u-a+"px",g.style.height=2*a+"px",g.style.width=2*a+"px",null!=i.color&&(g.style.backgroundColor=i.color),g.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(g),function pr(r){window.getComputedStyle(r).getPropertyValue("opacity")}(g),g.style.transform="scale(1)";const v=new cr(this,g,i);return v.state=0,this._activeRipples.add(v),i.persistent||(this._mostRecentTransientRipple=v),this._runTimeoutOutsideZone(()=>{const y=v===this._mostRecentTransientRipple;v.state=1,!i.persistent&&(!y||!this._isPointerDown)&&v.fadeOut()},d),v}fadeOutRipple(n){const t=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=n.element,o=Object.assign(Object.assign({},Wt),n.config.animation);i.style.transitionDuration=`${o.exitDuration}ms`,i.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,i.remove()},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const t=A(n);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(Kt))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Xt),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const t=Ve(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!Ge(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=n.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,t))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(t=>{this._triggerElement.addEventListener(t,this,nt)})})}_removeTriggerEvents(){this._triggerElement&&(Kt.forEach(n=>{this._triggerElement.removeEventListener(n,this,nt)}),this._pointerUpEventsRegistered&&Xt.forEach(n=>{this._triggerElement.removeEventListener(n,this,nt)}))}}const mr=new e.OlP("mat-ripple-global-options");let gr=(()=>{class r{constructor(t,i,o,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new ur(this,i,t,o)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,o){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ne),e.Y36(mr,8),e.Y36(Kn.Qb,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&e.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),ei=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[z],z]}),r})(),_r=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[ei,z],z]}),r})();var fe=_(8306),fr=_(576),rt=_(4128),br=_(262),Cr=_(8746),xr=_(3099),ot=_(5698),Ie=_(520),st=_(2313);const yr=["*"];let Ee;function ve(r){var n;return(null===(n=function Tr(){if(void 0===Ee&&(Ee=null,"undefined"!=typeof window)){const r=window;void 0!==r.trustedTypes&&(Ee=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return Ee}())||void 0===n?void 0:n.createHTML(r))||r}function ti(r){return Error(`Unable to find icon with the name "${r}"`)}function ii(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function ni(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class G{constructor(n,t,i){this.url=n,this.svgText=t,this.options=i}}let Ze=(()=>{class r{constructor(t,i,o,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(t,i,o){return this.addSvgIconInNamespace("",t,i,o)}addSvgIconLiteral(t,i,o){return this.addSvgIconLiteralInNamespace("",t,i,o)}addSvgIconInNamespace(t,i,o,s){return this._addSvgIconConfig(t,i,new G(o,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,o,s){const a=this._sanitizer.sanitize(e.q3G.HTML,o);if(!a)throw ni(o);const l=ve(a);return this._addSvgIconConfig(t,i,new G("",l,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,o){return this._addSvgIconSetConfig(t,new G(i,null,o))}addSvgIconSetLiteralInNamespace(t,i,o){const s=this._sanitizer.sanitize(e.q3G.HTML,i);if(!s)throw ni(i);const a=ve(s);return this._addSvgIconSetConfig(t,new G("",a,o))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(e.q3G.RESOURCE_URL,t);if(!i)throw ii(t);const o=this._cachedIconsByUrl.get(i);return o?(0,V.of)(De(o)):this._loadSvgIconFromConfig(new G(t,null)).pipe((0,ge.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,j.U)(s=>De(s)))}getNamedSvgIcon(t,i=""){const o=ri(i,t);let s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(t,a):function vr(r,n){const t=(0,fr.m)(r)?r:()=>r,i=o=>o.error(t());return new fe.y(n?o=>n.schedule(i,0,o):i)}(ti(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,V.of)(De(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,j.U)(i=>De(i)))}_getSvgFromIconSetConfigs(t,i){const o=this._extractIconWithNameFromAnySet(t,i);if(o)return(0,V.of)(o);const s=i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe((0,br.K)(l=>{const d=`Loading icon set URL: ${this._sanitizer.sanitize(e.q3G.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(d)),(0,V.of)(null)})));return(0,rt.D)(s).pipe((0,j.U)(()=>{const a=this._extractIconWithNameFromAnySet(t,i);if(!a)throw ti(t);return a}))}_extractIconWithNameFromAnySet(t,i){for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,t,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ge.b)(i=>t.svgText=i),(0,j.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,V.of)(null):this._fetchIcon(t).pipe((0,ge.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,o){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const a=s.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,o);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),o);const l=this._svgElementFromString(ve("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const o=i.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){const i=this._svgElementFromString(ve("<svg></svg>")),o=t.attributes;for(let s=0;s<o.length;s++){const{name:a,value:l}=o[s];"id"!==a&&i.setAttribute(a,l)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:o,options:s}=t,a=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function wr(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const l=this._sanitizer.sanitize(e.q3G.RESOURCE_URL,o);if(!l)throw ii(o);const u=this._inProgressUrlFetches.get(l);if(u)return u;const d=this._httpClient.get(l,{responseType:"text",withCredentials:a}).pipe((0,j.U)(g=>ve(g)),(0,Cr.x)(()=>this._inProgressUrlFetches.delete(l)),(0,xr.B)());return this._inProgressUrlFetches.set(l,d),d}_addSvgIconConfig(t,i,o){return this._svgIconConfigs.set(ri(t,i),o),this}_addSvgIconSetConfig(t,i){const o=this._iconSetConfigs.get(t);return o?o.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let o=0;o<this._resolvers.length;o++){const s=this._resolvers[o](i,t);if(s)return Ar(s)?new G(s.url,null,s.options):new G(s,null)}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ie.eN,8),e.LFG(st.H7),e.LFG(h.K0,8),e.LFG(e.qLn))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function De(r){return r.cloneNode(!0)}function ri(r,n){return r+":"+n}function Ar(r){return!(!r.url||!r.options)}const kr=Gt(class{constructor(r){this._elementRef=r}}),Ir=new e.OlP("mat-icon-location",{providedIn:"root",factory:function Er(){const r=(0,e.f3M)(h.K0),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),oi=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Zr=oi.map(r=>`[${r}]`).join(", "),Dr=/^url\(['"]?#(.*?)['"]?\)$/;let Pr=(()=>{class r extends kr{constructor(t,i,o,s,a){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=a,this._inline=!1,this._currentIconFetch=F.w0.EMPTY,o||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=L(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=t.querySelectorAll("style");for(let s=0;s<i.length;s++)i[s].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const o=t.childNodes[i];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Zr),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)oi.forEach(a=>{const l=i[s],u=l.getAttribute(a),d=u?u.match(Dr):null;if(d){let g=o.get(l);g||(g=[],o.set(l,g)),g.push({name:a,value:d[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,o]=this._splitIconName(t);i&&(this._svgNamespace=i),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,i).pipe((0,ot.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${o}! ${s.message}`))})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(Ze),e.$8M("aria-hidden"),e.Y36(Ir),e.Y36(e.qLn))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(e.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),e.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[e.qOj],ngContentSelectors:yr,decls:1,vars:0,template:function(t,i){1&t&&(e.F$t(),e.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),Mr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[z],z]}),r})();var si=_(3900),C=_(1777);function Or(r,n){if(1&r&&e.GkF(0,8),2&r){const t=e.oxw();e.Q6J("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function Nr(r,n){if(1&r&&(e.TgZ(0,"span",13),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t._getDefaultTextForState(t.state))}}function Fr(r,n){if(1&r&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t._intl.completedLabel)}}function Rr(r,n){if(1&r&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t._intl.editableLabel)}}function Ur(r,n){if(1&r&&(e.TgZ(0,"mat-icon",13),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(t._getDefaultTextForState(t.state))}}function qr(r,n){if(1&r&&(e.ynx(0,9),e.YNc(1,Nr,2,1,"span",10),e.YNc(2,Fr,2,1,"span",11),e.YNc(3,Rr,2,1,"span",11),e.YNc(4,Ur,2,1,"mat-icon",12),e.BQk()),2&r){const t=e.oxw();e.Q6J("ngSwitch",t.state),e.xp6(1),e.Q6J("ngSwitchCase","number"),e.xp6(1),e.Q6J("ngIf","done"===t.state),e.xp6(1),e.Q6J("ngIf","edit"===t.state)}}function Lr(r,n){if(1&r&&(e.TgZ(0,"div",15),e.GkF(1,16),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t._templateLabel().template)}}function Jr(r,n){if(1&r&&(e.TgZ(0,"div",15),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.label)}}function Br(r,n){if(1&r&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t._intl.optionalLabel)}}function jr(r,n){if(1&r&&(e.TgZ(0,"div",18),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}function zr(r,n){}function Qr(r,n){if(1&r&&(e.Hsn(0),e.YNc(1,zr,0,0,"ng-template",0)),2&r){const t=e.oxw();e.xp6(1),e.Q6J("cdkPortalOutlet",t._portal)}}const Hr=["*"];function Yr(r,n){1&r&&e._UZ(0,"div",9)}const ai=function(r,n){return{step:r,i:n}};function Vr(r,n){if(1&r&&(e.ynx(0),e.GkF(1,7),e.YNc(2,Yr,1,0,"div",8),e.BQk()),2&r){const t=n.$implicit,i=n.index,o=n.last;e.oxw(2);const s=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",e.WLB(3,ai,t,i)),e.xp6(1),e.Q6J("ngIf",!o)}}function Gr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",10),e.NdJ("@horizontalStepTransition.done",function(o){return e.CHM(t),e.oxw(2)._animationDone.next(o)}),e.GkF(1,11),e.qZA()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw(2);e.Q6J("@horizontalStepTransition",o._getAnimationDirection(i))("id",o._getStepContentId(i)),e.uIk("aria-labelledby",o._getStepLabelId(i))("aria-expanded",o.selectedIndex===i),e.xp6(1),e.Q6J("ngTemplateOutlet",t.content)}}function $r(r,n){if(1&r&&(e.ynx(0),e.TgZ(1,"div",3),e.YNc(2,Vr,3,6,"ng-container",4),e.qZA(),e.TgZ(3,"div",5),e.YNc(4,Gr,2,5,"div",6),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.steps),e.xp6(2),e.Q6J("ngForOf",t.steps)}}function Wr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",13),e.GkF(1,7),e.TgZ(2,"div",14)(3,"div",15),e.NdJ("@verticalStepTransition.done",function(o){return e.CHM(t),e.oxw(2)._animationDone.next(o)}),e.TgZ(4,"div",16),e.GkF(5,11),e.qZA()()()()}if(2&r){const t=n.$implicit,i=n.index,o=n.last,s=e.oxw(2),a=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",e.WLB(9,ai,t,i)),e.xp6(1),e.ekj("mat-stepper-vertical-line",!o),e.xp6(1),e.Q6J("@verticalStepTransition",s._getAnimationDirection(i))("id",s._getStepContentId(i)),e.uIk("aria-labelledby",s._getStepLabelId(i))("aria-expanded",s.selectedIndex===i),e.xp6(2),e.Q6J("ngTemplateOutlet",t.content)}}function Kr(r,n){if(1&r&&(e.ynx(0),e.YNc(1,Wr,6,12,"div",12),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.steps)}}function Xr(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-step-header",17),e.NdJ("click",function(){return e.CHM(t).step.select()})("keydown",function(o){return e.CHM(t),e.oxw()._onKeydown(o)}),e.qZA()}if(2&r){const t=n.step,i=n.i,o=e.oxw();e.ekj("mat-horizontal-stepper-header","horizontal"===o.orientation)("mat-vertical-stepper-header","vertical"===o.orientation),e.Q6J("tabIndex",o._getFocusIndex()===i?0:-1)("id",o._getStepLabelId(i))("index",i)("state",o._getIndicatorType(i,t.state))("label",t.stepLabel||t.label)("selected",o.selectedIndex===i)("active",o._stepIsNavigable(i,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",o._iconOverrides)("disableRipple",o.disableRipple||!o._stepIsNavigable(i,t))("color",t.color||o.color),e.uIk("aria-posinset",i+1)("aria-setsize",o.steps.length)("aria-controls",o._getStepContentId(i))("aria-selected",o.selectedIndex==i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",!o._stepIsNavigable(i,t)||null)}}let be=(()=>{class r extends jt{}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["","matStepLabel",""]],features:[e.qOj]}),r})(),Pe=(()=>{class r{constructor(){this.changes=new f.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const to={provide:Pe,deps:[[new e.FiY,new e.tp0,Pe]],useFactory:function eo(r){return r||new Pe}},io=Gt(class extends Bt{constructor(n){super(n)}},"primary");let li=(()=>{class r extends io{constructor(t,i,o,s){super(o),this._intl=t,this._focusMonitor=i,this._intlSubscription=t.changes.subscribe(()=>s.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._elementRef,t,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof be?null:this.label}_templateLabel(){return this.label instanceof be?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Pe),e.Y36(Fn),e.Y36(e.SBq),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[e.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(t,i){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"div")(2,"div",1),e.YNc(3,Or,1,2,"ng-container",2),e.YNc(4,qr,5,4,"ng-container",3),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,Lr,2,1,"div",5),e.YNc(7,Jr,2,1,"div",5),e.YNc(8,Br,2,1,"div",6),e.YNc(9,jr,2,1,"div",7),e.qZA()),2&t&&(e.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),e.xp6(1),e.Gre("mat-step-icon-state-",i.state," mat-step-icon"),e.ekj("mat-step-icon-selected",i.selected),e.xp6(1),e.Q6J("ngSwitch",!(!i.iconOverrides||!i.iconOverrides[i.state])),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(2),e.ekj("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error","error"==i.state),e.xp6(1),e.Q6J("ngIf",i._templateLabel()),e.xp6(1),e.Q6J("ngIf",i._stringLabel()),e.xp6(1),e.Q6J("ngIf",i.optional&&"error"!=i.state),e.xp6(1),e.Q6J("ngIf","error"==i.state))},directives:[Pr,gr,h.RF,h.n9,h.tP,h.ED,h.O5],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header.cdk-keyboard-focused,.cdk-high-contrast-active .mat-step-header.cdk-program-focused{outline:solid 3px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),r})();const ci={horizontalStepTransition:(0,C.X$)("horizontalStepTransition",[(0,C.SB)("previous",(0,C.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,C.SB)("current",(0,C.oB)({transform:"none",visibility:"inherit"})),(0,C.SB)("next",(0,C.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,C.eR)("* => *",(0,C.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:(0,C.X$)("verticalStepTransition",[(0,C.SB)("previous",(0,C.oB)({height:"0px",visibility:"hidden"})),(0,C.SB)("next",(0,C.oB)({height:"0px",visibility:"hidden"})),(0,C.SB)("current",(0,C.oB)({height:"*",visibility:"inherit"})),(0,C.eR)("* <=> current",(0,C.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let no=(()=>{class r{constructor(t){this.templateRef=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),r})(),ro=(()=>{class r{constructor(t){this._template=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["ng-template","matStepContent",""]]}),r})(),at=(()=>{class r extends Xe{constructor(t,i,o,s){super(t,s),this._errorStateMatcher=i,this._viewContainerRef=o,this._isSelected=F.w0.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,si.w)(()=>this._stepper.selectionChange.pipe((0,j.U)(t=>t.selectedStep===this),(0,ae.O)(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new Ht(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,i){return this._errorStateMatcher.isErrorState(t,i)||!!(t&&t.invalid&&this.interacted)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36((0,e.Gpc)(()=>lt)),e.Y36(it,4),e.Y36(e.s_b),e.Y36(zt,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mat-step"]],contentQueries:function(t,i,o){if(1&t&&(e.Suo(o,be,5),e.Suo(o,ro,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.stepLabel=s.first),e.iGM(s=e.CRH())&&(i._lazyContent=s.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[e._Bn([{provide:it,useExisting:r},{provide:Xe,useExisting:r}]),e.qOj],ngContentSelectors:Hr,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,Qr,2,1,"ng-template"))},directives:[$n],encapsulation:2,changeDetection:0}),r})(),di=(()=>{class r extends le{}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})(),oo=(()=>{class r extends di{}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["mat-horizontal-stepper"]],features:[e.qOj]}),r})(),so=(()=>{class r extends di{}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["mat-vertical-stepper"]],features:[e.qOj]}),r})(),lt=(()=>{class r extends le{constructor(t,i,o,s){super(t,i,o,s),this.steps=new e.n_E,this.animationDone=new e.vpe,this.labelPosition="end",this._iconOverrides={},this._animationDone=new f.x;const a=o.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===a?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:i})=>this._iconOverrides[t]=i),this.steps.changes.pipe((0,R.R)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,Ot.x)((t,i)=>t.fromState===i.fromState&&t.toState===i.toState),(0,R.R)(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}_stepIsNavigable(t,i){return i.completed||this.selectedIndex===t||!this.linear}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(We,8),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(h.K0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(t,i,o){if(1&t&&(e.Suo(o,at,5),e.Suo(o,no,5)),2&t){let s;e.iGM(s=e.CRH())&&(i._steps=s),e.iGM(s=e.CRH())&&(i._icons=s)}},viewQuery:function(t,i){if(1&t&&e.Gf(li,5),2&t){let o;e.iGM(o=e.CRH())&&(i._stepHeader=o)}},hostAttrs:["role","tablist"],hostVars:9,hostBindings:function(t,i){2&t&&(e.uIk("aria-orientation",i.orientation),e.ekj("mat-stepper-horizontal","horizontal"===i.orientation)("mat-stepper-vertical","vertical"===i.orientation)("mat-stepper-label-position-end","horizontal"===i.orientation&&"end"==i.labelPosition)("mat-stepper-label-position-bottom","horizontal"===i.orientation&&"bottom"==i.labelPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[e._Bn([{provide:le,useExisting:r},{provide:oo,useExisting:r},{provide:so,useExisting:r}]),e.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(t,i){1&t&&(e.ynx(0,0),e.YNc(1,$r,5,2,"ng-container",1),e.YNc(2,Kr,2,1,"ng-container",1),e.BQk(),e.YNc(3,Xr,1,23,"ng-template",null,2,e.W1O)),2&t&&(e.Q6J("ngSwitch",i.orientation),e.xp6(1),e.Q6J("ngSwitchCase","horizontal"),e.xp6(1),e.Q6J("ngSwitchCase","vertical"))},directives:[li,h.RF,h.n9,h.sg,h.tP,h.O5],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[ci.horizontalStepTransition,ci.verticalStepTransition]},changeDetection:0}),r})(),ui=(()=>{class r extends Qn{}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(t,i){2&t&&e.Ikx("type",i.type)},inputs:{type:"type"},features:[e.qOj]}),r})(),pi=(()=>{class r extends Hn{}return r.\u0275fac=function(){let n;return function(i){return(n||(n=e.n5z(r)))(i||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(t,i){2&t&&e.Ikx("type",i.type)},inputs:{type:"type"},features:[e.qOj]}),r})(),ao=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[to,it],imports:[[z,h.ez,Wn,_r,Qt,Mr,ei],z]}),r})();const lo=["overlay"];function co(r,n){1&r&&e._UZ(0,"div")}function uo(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,co,1,0,"div",6),e.qZA()),2&r){const t=e.oxw(2);e.Tol(t.spinner.class),e.Udp("color",t.spinner.color),e.xp6(1),e.Q6J("ngForOf",t.spinner.divArray)}}function po(r,n){if(1&r&&(e._UZ(0,"div",7),e.ALo(1,"safeHtml")),2&r){const t=e.oxw(2);e.Q6J("innerHTML",e.lcZ(1,1,t.template),e.oJD)}}function ho(r,n){if(1&r&&(e.TgZ(0,"div",1,2),e.YNc(2,uo,2,5,"div",3),e.YNc(3,po,2,3,"div",4),e.TgZ(4,"div",5),e.Hsn(5),e.qZA()()),2&r){const t=e.oxw();e.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),e.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),e.xp6(2),e.Q6J("ngIf",!t.template),e.xp6(1),e.Q6J("ngIf",t.template),e.xp6(1),e.Udp("z-index",t.spinner.zIndex)}}const mo=["*"],go={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},dt="primary";class ${constructor(n){Object.assign(this,n)}static create(n){return(null==(null==n?void 0:n.type)||0===n.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new $(n)}}let Me=(()=>{class r{constructor(){this.spinnerObservable=new Zt.X(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe((0,Mt.h)(i=>i&&i.name===t))}show(t=dt,i){return new Promise((o,s)=>{setTimeout(()=>{i&&Object.keys(i).length?(i.name=t,this.spinnerObservable.next(new $(Object.assign(Object.assign({},i),{show:!0}))),o(!0)):(this.spinnerObservable.next(new $({name:t,show:!0})),o(!0))},10)})}hide(t=dt,i=10){return new Promise((o,s)=>{setTimeout(()=>{this.spinnerObservable.next(new $({name:t,show:!1})),o(!0)},i)})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),_o=(()=>{class r{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(st.H7,16))},r.\u0275pipe=e.Yjl({name:"safeHtml",type:r,pure:!0}),r})(),ut=(()=>{class r{constructor(t,i,o){this.spinnerService=t,this.changeDetector=i,this.elementRef=o,this.disableAnimation=!1,this.spinner=new $,this.ngUnsubscribe=new f.x,this.setDefaultOptions=()=>{this.spinner=$.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=dt,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe((0,R.R)(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const i in t)if(i){const o=t[i];if(o.isFirstChange())return;void 0!==o.currentValue&&o.currentValue!==o.previousValue&&""!==o.currentValue&&(this.spinner[i]=o.currentValue,"showSpinner"===i&&(o.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===i&&this.initObservable())}}getClass(t,i){this.spinner.divCount=go[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,a)=>a);let o="";switch(i.toLowerCase()){case"small":o="la-sm";break;case"medium":o="la-2x";break;case"large":o="la-3x"}return"la-"+t+" "+o}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Me),e.Y36(e.sBO),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-spinner"]],viewQuery:function(t,i){if(1&t&&e.Gf(lo,5),2&t){let o;e.iGM(o=e.CRH())&&(i.spinnerDOM=o.first)}},hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(s){return i.handleKeyboardEvent(s)},!1,e.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[e.TTD],ngContentSelectors:mo,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,i){1&t&&(e.F$t(),e.YNc(0,ho,6,12,"div",0)),2&t&&e.Q6J("ngIf",i.spinner.show)},directives:[h.O5,h.sg],pipes:[_o],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[(0,C.X$)("fadeIn",[(0,C.SB)("in",(0,C.oB)({opacity:1})),(0,C.eR)(":enter",[(0,C.oB)({opacity:0}),(0,C.jt)(300)]),(0,C.eR)(":leave",(0,C.jt)(200,(0,C.oB)({opacity:0})))])]},changeDetection:0}),r})(),fo=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[h.ez]]}),r})();var k=_(1083);class S{constructor(n={}){this.id=n.id||-1,this.name=n.name,this.email=n.email,this.phoneNumber=n.phoneNumber,this.profilePhotoUrl=n.profilePhotoUrl,this.role=n.role,this.about=n.about,this.birthDate=n.birthDate,this.schooling=n.schooling,this.institution=n.institution,this.address=n.address}getId(){return this.id}getName(){return this.name}getEmail(){return this.email}getPhoneNumber(){return this.phoneNumber}getProfilePhotoUrl(){return this.profilePhotoUrl}getRole(){return this.role}getAbout(){return this.about}getBirthDate(){return this.birthDate}getSchooling(){return this.schooling}getInstitution(){return this.institution}getAddress(){return this.address}}class D{constructor(n){n?(this.id=n.id?n.id:null,this.name=n.name?n.name:"",this.email=n.email?n.email:"",this.phoneNumber=n.phoneNumber?n.phoneNumber:"",this.profilePhotoUrl=n.profilePhotoUrl?n.profilePhotoUrl:"",this.alias=n.alias?n.alias:"",this.circle=n.circle?n.circle:[]):(this.id=-1,this.name="",this.email="",this.phoneNumber="",this.profilePhotoUrl="",this.alias="",this.circle=[])}getId(){return this.id}getName(){return this.name}getEmail(){return this.email}getPhoneNumber(){return this.phoneNumber}getProfilePhotoUrl(){return this.profilePhotoUrl}getAlias(){return this.alias}}class P{constructor(n={}){this.orderPosition=0,this.next={next:[]},this._x=0,this._y=0,this._width=0,this._height=0,this.id=n.id,this.statement=n.statement,this.orderPosition=n.orderPosition,this.first=void 0!==n.first&&n.first,this.next=n.next,this.obligatory=void 0!==n.obligatory&&n.obligatory,this._x=n._x,this._y=n._y,this._height=n._height,this._width=n._width,this.medias=n.medias,this.complexConditions=n.complexConditions,this.type="empty"}getTypeDescription(){return this.type}static factory(n){let t=[];for(let i=0;i<n.length;i++)t.push("empty"===n[i].type?new P(n[i]):"media"===n[i].type?new hi(n[i]):"question"===n[i].type||"question"===n[i].type?new Q(n[i]):"analyzed"===n[i].type?new gi(n[i]):new mi(n[i]));return t.sort((i,o)=>i.orderPosition-o.orderPosition),t}}class hi extends P{constructor(n={}){super(n),this.mediaType=n.mediaType,this.type="media"}}class Q extends P{constructor(n={}){super(n),this.questionType=n.questionType,this.conditions=n.conditions||{},this.options=n.options||[],this.scales=(null==n?void 0:n.scales)||[],this.type="question"}getTypeDescription(){return 0===this.questionType?"Quest\xe3o aberta":1===this.questionType?"Escolha \xfanica":2===this.questionType?"M\xfaltipla escolha":3===this.questionType?"Likert":4===this.questionType?"Diferencial sem\xe2ntico":31===this.questionType?"Likert personalizado":"Mensagem"}}class mi extends P{constructor(n={}){super(n),this.appPackage=n.appPackage,this.parameters=n.parameters,this.startFromNotification=n.startFromNotification,this.type="task"}}class gi extends P{constructor(n={}){super(n),this.functionAnalyze=n.functionAnalyze,this.type="analyzed"}}class N{constructor(n="0 0 0 ? *  *"){"string"!=typeof n&&(n="0 0 0 ? *  *");const t=n.split(" ");this.seconds=t[0],this.minutes=t[1],this.hours=t[2],this.dom=t[3],this.month=t[4],this.dow=t[5].split(","),""===this.dow[0]&&(this.dow=[]),this.year=t[6]}getMinute(){return this.minutes}setMinute(n){this.minutes=n}getHours(){return this.hours}setHour(n){this.hours=n}getDow(){return this.dow}isDayActive(n){return n?!!this.dow.find(t=>t===n):7===this.dow.length}actOrDeactivateDay(n){if(n){const t=this.dow.findIndex(i=>i===n);-1===t?(this.dow.push(n),this.dow.sort()):this.dow.splice(t,1)}else{const t=this.isDayActive();if(this.dow.splice(0,this.dow.length),!t)for(let i=1;i<=7;i++)this.dow.push(i.toString())}}toString(){return`${this.seconds} ${this.minutes} ${this.hours} ${this.dom} ${this.month} ${this.dow} ${this.year}`}}class W{constructor(n={}){this.id=n.id||-1,this.triggerType=n.triggerType||"time",this.triggerCondition="time"===this.triggerType?new N(n.triggerCondition):n.triggerCondition,this.priority=n.priority,this.timeOut=n.timeOut}getDescription(){const n=["","domingos","segundas","ter\xe7as","quartas","quintas","sextas","s\xe1bados"];let t;if(this.triggerCondition instanceof N){const i=this.triggerCondition.getDow();if(0===i.length)return"Nenhum dia selecionado. Antes de modificar selecione ao menos algum dia.";if(i.length<7){t="1"===i[0]||"7"===i[0]?"Todos os ":"Todas as ";for(const o of i){if(t+=n[Number.parseInt(o)],i[i.length-1]===o){t+=" ";break}t+=i.length>=3?o===i[i.length-2]?" e ":", ":2===i.length?" e ":" "}}else t="Todos os dias ";"NC"===this.priority?t+="uma notifica\xe7\xe3o curta ":"NL"===this.priority?t+="uma notifica\xe7\xe3o longa ":"AL"===this.priority&&(t+="um alarme "),this.getHour()&&this.getMinutes()&&(t+="\xe0s "+this.triggerCondition.getHours()+":"+this.triggerCondition.getMinute())}else t="Manual";return t}getId(){return this.id}getTriggerType(){return this.triggerType}getTriggerCondition(){return this.triggerCondition instanceof N?(console.log(this.triggerCondition.toString()),this.triggerCondition.toString()):this.triggerCondition}getPriority(){return this.priority}setPriority(n){this.priority=n}getTimeOut(){return this.timeOut}getTimeOutInMinutes(){return this.timeOut/6e4}setTimeOutInMinutes(n){"string"==typeof n&&(n=Number.parseInt(n)),this.timeOut=6e4*n}isDayActive(n){return this.triggerCondition instanceof N?this.triggerCondition.isDayActive(n):-1}actOrDeactivateDay(n){this.triggerCondition instanceof N&&this.triggerCondition.actOrDeactivateDay(n)}getMinutes(){return this.triggerCondition instanceof N?Number.parseInt(this.triggerCondition.getMinute()):-1}setMinute(n){this.triggerCondition instanceof N&&this.triggerCondition.setMinute(n.toString())}getHour(){return this.triggerCondition instanceof N?Number.parseInt(this.triggerCondition.getHours()):-1}setHour(n){this.triggerCondition instanceof N&&this.triggerCondition.setHour(n.toString())}changeType(){console.log("Begin changeType"),"time"===this.triggerType?(this.triggerType="manual",this.triggerCondition="manual",this.priority="manual",this.timeOut=0):(this.triggerType="time",this.triggerCondition=new N,this.priority=""),console.log("End changeType")}}class Ce{constructor(n={}){this.id=n.id,this.sensor=n.sensor,this.collector=n.collector,this.sensorType=n.sensorType}getId(){return this.id}getSensor(){return this.sensor}getCollector(){return this.collector}setCollector(n){this.collector=n}}class ce{constructor(n={}){this.id=n.id||-1,this.title=n.title,this.description=n.description,this.type=n.type,this.color=n.color||"#0a467f",n.sensors?this.criaSensors(n.sensors):this.sensors=[],this.complexConditions=n.complexConditions,n.triggers?this.criaTriggers(n.triggers):this.triggers=[]}criaTriggers(n){this.triggers=[];for(let t=0;t<n.length;t++)this.triggers.push(n[t].triggerCondition instanceof N?n[t]:new W(n[t]))}criaSensors(n){this.sensors=[];for(let t=0;t<n.length;t++)this.sensors.push(new Ce(n[t]))}getId(){return this.id}getTitle(){return this.title}getDescription(){return this.description}getColor(){return this.color}getType(){return this.type}getTriggersId(){return this.triggers.map(n=>n.getId())}getTriggersInstances(){return this.triggers}getSensorsId(){return this.sensors.map(n=>n.getId())}hasSensorsInstance(){return null!=this.sensors}getSensorsInstance(){return this.sensors}getCollector(){if(this.hasSensorsInstance()&&this.sensors.length>0){if(this.sensors.every(n=>"smartphone"===n.getCollector()))return"smartphone";if(this.sensors.every(n=>"smartwatch"===n.getCollector()))return"smartwatch"}return"none"}getSensorOfType(n){let t=new Ce;if(this.sensors&&this.sensors.length>0)for(let i=0;i<this.sensors.length;i++)if(this.sensors[i].getSensor()==n){t=this.sensors[i];break}return t}removeCollectorOfType(n){const t=this.sensors.findIndex(i=>i.getSensor()===n);this.sensors.splice(t,1)}addSensor(n){this.sensors.push(n),this.sensors.sort((t,i)=>t.getId()-i.getId())}setTitle(n){this.title=n}setColor(n){this.color=n}setDescription(n){this.description=n}setType(n){this.type=n}setTriggerInstance(n){this.triggers=n}setSensorsInstances(n){this.sensors=n}}class U extends ce{constructor(n={}){super(n),n.interventions?this.criaInterventions(n.interventions):this.interventions=[]}criaInterventions(n){this.interventions=P.factory(n)}getInterventionsInstances(){return this.interventions}setInterventionsInstances(n){this.interventions=n}}class vo{constructor(n){n?(this.id=n.id?n.id:null,this.program=n.program,this.day_message=n.day_message,this.user_message=n.user_message,this.message=n.message):(this.id=-1,this.program=-1,this.day_message="",this.user_message="",this.message="")}}class K{constructor(n={}){this.programAdditionalResource=[],this.versions=[],this.phaseCollections=[],this.phaseCollections=[],this.id=n.id||-1,this.title=n.title,this.description=n.description,this.starts=n.starts,this.ends=n.ends,this.updateDate=n.updateDate,this.hasPhases=n.hasPhases,this.isPublic=n.isPublic,this.beingEdited=n.beingEdited,this.beingDuplicated=n.beingDuplicated,this.editor=n.editor?new S(n.editor):new S,n.observers?this.criaObservers(n.observers):this.observers=[],n.participants?this.criaParticipants(n.participants):this.participants=[],n.events?this.criaEvents(n.events):this.events=[],n.chat_program?this.criaChatMessage(n.chat_program):this.chat_program=[],this.messageAndGroups=n.messageAndGroups?n.messageAndGroups:{id:-1,discussionGroupTargets:"",messageParticipantObserver:!1,messageTargetCircle:!1,messageCircleType:[],discussionGroupTargetCircle:!1,discussionCircleType:[],groupCircleType:!1},this.programAdditionalResource=n.programAdditionalResource?n.programAdditionalResource:[],this.versions=n.versions?n.versions:[]}criaObservers(n){this.observers=[];for(let t=0;t<n.length;t++)this.observers.push(new S(n[t]))}criaParticipants(n){this.participants=[];for(let t=0;t<n.length;t++)this.participants.push(new D(n[t]))}criaEvents(n){this.events=[];for(let t=0;t<n.length;t++)this.events.push("active"==n[t].type?new U(n[t]):new ce(n[t]))}criaChatMessage(n){this.chat_program=[];for(let t=0;t<n.length;t++)this.chat_program.push(new vo(n[t]))}}var p=_(970),bo=_(5226),b=_.n(bo),T=_(1186),H=_(825),Co=_(930),pt=_(4707);const xo={url:"",deserializer:r=>JSON.parse(r.data),serializer:r=>JSON.stringify(r)};class ht extends f.u{constructor(n,t){if(super(),this._socket=null,n instanceof fe.y)this.destination=t,this.source=n;else{const i=this._config=Object.assign({},xo);if(this._output=new f.x,"string"==typeof n)i.url=n;else for(const o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new pt.t}}lift(n){const t=new ht(this._config,this.destination);return t.operator=n,t.source=this,t}_resetState(){this._socket=null,this.source||(this.destination=new pt.t),this._output=new f.x}multiplex(n,t,i){const o=this;return new fe.y(s=>{try{o.next(n())}catch(l){s.error(l)}const a=o.subscribe({next:l=>{try{i(l)&&s.next(l)}catch(u){s.error(u)}},error:l=>s.error(l),complete:()=>s.complete()});return()=>{try{o.next(t())}catch(l){s.error(l)}a.unsubscribe()}})}_connectSocket(){const{WebSocketCtor:n,protocol:t,url:i,binaryType:o}=this._config,s=this._output;let a=null;try{a=t?new n(i,t):new n(i),this._socket=a,o&&(this._socket.binaryType=o)}catch(u){return void s.error(u)}const l=new F.w0(()=>{this._socket=null,a&&1===a.readyState&&a.close()});a.onopen=u=>{const{_socket:d}=this;if(!d)return a.close(),void this._resetState();const{openObserver:g}=this._config;g&&g.next(u);const v=this.destination;this.destination=Co.Lv.create(y=>{if(1===a.readyState)try{const{serializer:M}=this._config;a.send(M(y))}catch(M){this.destination.error(M)}},y=>{const{closingObserver:M}=this._config;M&&M.next(void 0),y&&y.code?a.close(y.code,y.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),this._resetState()},()=>{const{closingObserver:y}=this._config;y&&y.next(void 0),a.close(),this._resetState()}),v&&v instanceof pt.t&&l.add(v.subscribe(this.destination))},a.onerror=u=>{this._resetState(),s.error(u)},a.onclose=u=>{a===this._socket&&this._resetState();const{closeObserver:d}=this._config;d&&d.next(u),u.wasClean?s.complete():s.error(u)},a.onmessage=u=>{try{const{deserializer:d}=this._config;s.next(d(u))}catch(d){s.error(d)}}}_subscribe(n){const{source:t}=this;return t?t.subscribe(n):(this._socket||this._connectSocket(),this._output.subscribe(n),n.add(()=>{const{_socket:i}=this;0===this._output.observers.length&&(i&&(1===i.readyState||0===i.readyState)&&i.close(),this._resetState())}),n)}unsubscribe(){const{_socket:n}=this;n&&(1===n.readyState||0===n.readyState)&&n.close(),this._resetState(),super.unsubscribe()}}let B=(()=>{class r{constructor(){this.getData$=new f.x}init(t="espim"){this.subject=function To(r){return new ht(r)}(`${p.O3}${t}/`),this.subject.subscribe(i=>this.receber(i),i=>console.log(i),()=>console.log("complete"))}receber(t){this.getData$.next(t)}sendMessage(t={}){this.subject.next({message:t,event:"MOVE"})}closeConnection(){this.subject.close(1e3,"disconnect"),this.subject=void 0}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),I=(()=>{class r{constructor(t,i,o){this.daoService=t,this.loginService=i,this.canal=o,this.program=new K,this.additionalResource=[],this.started=!1,this.sala="espim",this.participantBigger=0,this.observerBigger=0,this.observers=new Array,this.participants=new Array,this.programObservable$=new f.x,this.codigoMensagem=0,this.ultima=0,this.daoService.getNewObject(p.sN,{id:0}).subscribe(s=>{this.additionalResource=s})}getProgramObservable(){return this.programObservable$}setProgram(t){if(this.canal.getData$.subscribe(i=>this.updateProgram(i)),this.canal.init(this.sala),-1!==t)this.daoService.getObject(p.Z8,t.toString()).subscribe(i=>{console.log(i),this.program=new K(i),this.programObservable$.next(this.program)});else{this.program=new K({id:-1,title:"Sem nome",description:"Sem nome",starts:"",ends:"",updateDate:"",hasPhases:!1,isPublic:!1,beingEdited:!1,beingDuplicated:!1,editor:void 0,observers:[],participants:[],events:[],chat_program:[]});const i=Number.parseInt(this.loginService.getUser().id);this.daoService.getObject(p.hL,i.toString()).subscribe(o=>{this.editor=new S(o),this.program.observers.push(this.editor),this.program.editor=this.editor,this.daoService.postObject(p.Z8,this.program).subscribe(s=>{this.program=new K(s),this.programObservable$.next(this.program)})})}this.started||(this.daoService.getNewObject(p.Vt,{}).subscribe(i=>{this.participants=i;for(let o=0;o<this.participants.length;o++)this.participants[o].id>this.participantBigger&&(this.participantBigger=this.participants[o].id)}),this.daoService.getNewObject(p.hL,{}).subscribe(i=>{this.observers=i;for(let o=0;o<this.observers.length;o++)this.observers[o].id>this.observerBigger&&(this.observerBigger=this.observers[o].id)}),this.started=!0)}saveStep(t={}){console.log(this.program),t.id=this.program.id,this.daoService.patchObject(p.Z8,t).subscribe(i=>{t.model="program",this.codigoMensagem=Math.random(),t.codigoMensagem=this.codigoMensagem,this.canal.sendMessage(t)})}updateProgram(t){let i=t.payload.message;if(i.codigoMensagem!=this.ultima&&(this.ultima=i.codigoMensagem,"program"==i.model&&i.id==this.program.id)){for(let o in i)if("model"!=o&&"id"!=o)if("addObserver"==o){let s=new S(i.addObserver);this.program.observers.push(s),s.getId()>this.observerBigger&&(this.observers.push(s),this.observerBigger=s.getId())}else if("delObserver"==o){let s=i.delObserver;this.program.observers.splice(this.program.observers.findIndex(a=>a.id===s),1)}else if("addParticipant"==o){let s=new D(i.addParticipant);this.program.participants.push(s),s.getId()>this.participantBigger&&(this.participants.push(s),this.participantBigger=s.getId())}else if("delParticipant"==o){let s=i.delParticipant;this.program.participants.splice(this.program.participants.findIndex(a=>a.id===s),1)}else if("addEvent"==o){let s;s="active"==i.addEvent.type?new U(i.addEvent):new ce(i.addEvent),this.program.events.push(s)}else if("delEvent"==o){let s=i.delEvent;this.program.events.splice(this.program.events.findIndex(a=>a.id===s),1)}else if("updateEvent"==o){const s=this.program.events.findIndex(a=>a.id===i[o].id);this.program.events[s]=new U(i[o]),console.log(this.program)}else"title"==o&&(this.program.title=i[o]),"description"==o&&(this.program.description=i[o]),"starts"==o&&(this.program.starts=i[o]),"ends"==o&&(this.program.ends=i[o]),"updateDate"==o&&(this.program.updateDate=i[o]),"hasPhases"==o&&(this.program.hasPhases=i[o]),"isPublic"==o&&(this.program.isPublic=i[o]),"beingEdited"==o&&(this.program.beingEdited=i[o]),"beingDuplicated"==o&&(this.program.beingDuplicated=i[o]);this.programObservable$.next(this.program),console.log(this.program)}}getObservers(){return console.log(this.program),this.observers}getObserversInstance(){var t;return(null===(t=this.program)||void 0===t?void 0:t.observers)||[]}getParticipants(){return this.participants}getParticipantsInstance(){var t;return(null===(t=this.program)||void 0===t?void 0:t.participants)||[]}getEventsId(){var t;return(null===(t=this.program)||void 0===t?void 0:t.events.map(i=>i.getId()))||[]}getEventsInstance(){var t;return(null===(t=this.program)||void 0===t?void 0:t.events)||[]}delete_event(t){this.daoService.deleteObject(p.e6,t.toString()).subscribe(i=>{const o=this.program.events.findIndex(s=>s.id===t);this.program.events.splice(o,1),b().fire({title:"Deletado com sucesso!",icon:"success"})})}requestTriggers(t){const i=new Array,o=new Array;for(let s=0;s<t.length;s++)o.push(this.daoService.getObject(p.yQ,t[s].toString())),o[s].subscribe(a=>{i.push(new W(a))});return(0,rt.D)(o).subscribe(s=>i.sort((a,l)=>a.getId()-l.getId())),i}requestSensors(t){const i=new Array,o=new Array;for(let s=0;s<t.length;s++)o.push(this.daoService.getObject(p.CR,t[s].toString())),o[s].subscribe(a=>i.push(new Ce(a)));return(0,rt.D)(o).subscribe(s=>i.sort((a,l)=>a.getId()-l.getId())),i}updateEvent(t){const i=this.program.events.findIndex(o=>o.id===t.id);this.program.events[i]=t,this.programObservable$.next(this.program)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(T.j),e.LFG(H.r),e.LFG(B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var m=_(801);class Oe{constructor(n={}){this.id=n.id||-1,this.title=n.title,this.description=n.description,this.starts=n.starts,this.ends=n.ends,this.is_active=n.is_active,this.is_finished=n.is_finished,this.created_at=n.created_at,this.modified_at=n.modified_at,this.beingDuplicated=!1,this.owner=n.editor?new S(n.editor):new S,this.expertsPublicade=n.expertsPublicade?n.expertsPublicade:[],n.participants?this.criaParticipants(n.participants):this.participants=[],this.phasesPublicade=n.phasesPublicade?n.phasesPublicade:[]}criaParticipants(n){this.participants=[];for(let t=0;t<n.length;t++)this.participants.push(new D(n[t]))}}let X=(()=>{class r{constructor(t,i,o){this.daoService=t,this.loginService=i,this.canal=o,this.program=new Oe,this.additionalResource=[],this.started=!1,this.sala="espim",this.programObservable$=new f.x,this.codigoMensagem=0,this.ultima=0,this.daoService.getNewObject(p.sN,{id:0}).subscribe(s=>{this.additionalResource=s})}getProgramObservable(){return this.programObservable$}setProgram(t){if(this.canal.getData$.subscribe(i=>this.updateProgram(i)),this.canal.init(this.sala),-1!==t)this.daoService.getObject(p.Z8,t.toString()).subscribe(i=>{console.log(i),this.program=new Oe(i),this.programObservable$.next(this.program)});else{this.program=new Oe({id:-1,title:"Sem nome",description:"Sem nome",starts:"",ends:"",updateDate:"",is_active:!1,is_finished:!1,owner:void 0,expertsPublicade:[],participants:[],phasesPublicade:[]});const i=Number.parseInt(this.loginService.getUser().id);this.daoService.getObject(p.hL,i.toString()).subscribe(o=>{this.owner=new S(o),this.daoService.postObject(p.HU,{observer:this.owner.id,isObserver:!0,isEvaluator:!1,isMonitor:!1}).subscribe(s=>{let a=s;console.log(s),a.observer=new S(a.observer),this.program.expertsPublicade.push(a),this.program.owner=this.owner,this.daoService.postObject(p.Ld,this.program).subscribe(l=>{this.program.id=l.id,this.programObservable$.next(this.program)})})})}}saveStep(t={}){t.id=this.program.id,this.listaObserver("antes de salvar no banco de dados"),this.daoService.patchObject(p.Ld,t).subscribe(i=>{console.log(i),t.model="programPublicade",this.codigoMensagem=Math.random(),t.codigoMensagem=this.codigoMensagem,this.canal.sendMessage(t)})}listaObserver(t){console.log(t);for(let i=0;i<this.program.expertsPublicade.length;i++)console.log(this.program.expertsPublicade[i].observer.id)}updateProgram(t){let i=t.payload.message;if(i.codigoMensagem!=this.ultima&&(this.ultima=i.codigoMensagem,"programPublicade"==i.model&&i.id==this.program.id)){for(let o in i)if("model"!=o&&"id"!=o)switch(o){case"addExpertPublicade":{let s=i.addExpertPublicade;s.observer=new S(s.observer),this.program.expertsPublicade.push(s);break}case"delExpertPublicade":{let s=i.delExpertPublicade;this.program.expertsPublicade.splice(this.program.expertsPublicade.findIndex(a=>a.id===s),1),this.listaObserver("depois de apagar o observador do vetor");break}case"addParticipant":{let s=new D(i.addParticipant);this.program.participants.push(s);break}case"delParticipant":{let s=i.delParticipant;this.program.participants.splice(this.program.participants.findIndex(a=>a.id===s),1);break}case"updateExpertPublicade":{const s=this.program.expertsPublicade.findIndex(a=>a.id===i[o].id);this.program.expertsPublicade[s]=i[o],this.program.expertsPublicade[s].observer=new S(this.program.expertsPublicade[s].observer);break}case"title":this.program.title=i[o];break;case"description":this.program.description=i[o];break;case"starts":case"ends":this.program.starts=i[o]}this.programObservable$.next(this.program),console.log(this.program)}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(T.j),e.LFG(H.r),e.LFG(B))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var x=_(496);const wo=function(){return["results/list"]};let So=(()=>{class r{constructor(t,i,o,s,a,l){this._loginService=t,this.translate=i,this.router=o,this.programService=s,this.spinner=a,this.publishService=l,this.facog=m.b7W,this.fasingout=m.HEx,i.addLangs(["en","pt"]),i.setDefaultLang("pt")}ngOnInit(){this.user=this._loginService.getUser()}logout(){this._loginService.logout()}chooseLanguage(t){this.translate.use(t)}goProgram(t=-1){this.spinner.show(),this.programService.getProgramObservable().subscribe(i=>{this.spinner.hide(),this.router.navigateByUrl("private/programs/add").then()}),this.programService.setProgram(t)}goPublish(t=-1){this.spinner.show(),this.publishService.getProgramObservable().subscribe(i=>{this.spinner.hide(),this.router.navigateByUrl("private/publish/add").then()}),this.publishService.setProgram(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(H.r),e.Y36(E.sK),e.Y36(k.F0),e.Y36(I),e.Y36(Me),e.Y36(X))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-private-header"]],decls:131,vars:9,consts:[[1,"navbar","navbar-expand-xl","h-xl-px-72","bg-primary"],[1,"navbar","align-items-center","justify-content-xl-start"],["xmlns","http://www.w3.Descri\xe7\xe3o do programa:org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","45","height","45","viewBox","0 0 45 46"],["id","a","d","M43.835 41.515c.065-.065.056-.11.022-.131-3.551-2.321-5.375-5.124-5.47-8.41-.057-1.997-.087-5.961-.089-11.891-.002-6.993-4.935-12.826-11.492-14.174a3.174 3.174 0 0 0-3.153-3.475 3.174 3.174 0 0 0-3.148 3.522c-6.49 1.442-11.323 7.285-11.272 14.237.042 5.843.063 9.677.063 11.503 0 3.06-1.85 5.985-5.553 8.779 7.093 1.745 12.766 2.802 17.019 3.17a3.166 3.166 0 0 0 2.89 1.884 3.166 3.166 0 0 0 2.875-1.846c4.269-.328 10.038-1.384 17.308-3.168z"],["id","c","d","M40.186 47.242c.065-.065.055-.11.022-.131-3.552-2.321-5.375-5.124-5.47-8.41-.057-1.997-.087-5.961-.09-11.891-.001-6.993-4.935-12.826-11.492-14.174a3.174 3.174 0 0 0-3.153-3.475 3.174 3.174 0 0 0-3.148 3.522c-6.49 1.442-11.322 7.285-11.272 14.237.043 5.843.064 9.677.064 11.503 0 3.06-1.851 5.985-5.554 8.779 7.093 1.745 12.766 2.803 17.019 3.171a3.166 3.166 0 0 0 2.891 1.883 3.166 3.166 0 0 0 2.875-1.846c4.268-.328 10.037-1.384 17.308-3.168z"],["fill","none","fill-rule","evenodd","transform","translate(3 -2)"],["id","b","fill","#fff"],[0,"xlink","href","#a"],["transform","rotate(11 23.813 24.981)"],["fill","#FFF",0,"xlink","href","#a"],["stroke","#1E70B2","stroke-width","1.44","d","M26.978 45.369a3.882 3.882 0 0 1-3.325 1.88 3.882 3.882 0 0 1-3.35-1.922c-4.248-.401-9.823-1.453-16.732-3.153l-1.47-.362 1.208-.912c3.538-2.67 5.267-5.403 5.267-8.204 0-1.824-.02-5.657-.063-11.498-.05-7 4.652-13.062 11.26-14.805a3.893 3.893 0 0 1 3.88-3.68 3.893 3.893 0 0 1 3.876 3.621c6.679 1.65 11.487 7.703 11.49 14.749.001 5.923.031 9.882.088 11.87.088 3.03 1.777 5.628 5.144 7.828.482.315.44.9.091 1.245l-.142.14-.193.048c-7.085 1.738-12.758 2.79-17.03 3.155z"],["mask","url(#b)"],["transform","rotate(11 55.93 46.75)"],["fill","#FFF",0,"xlink","href","#c"],["stroke","#1E70B2","stroke-width","1.44","d","M23.328 51.096a3.882 3.882 0 0 1-3.325 1.88 3.882 3.882 0 0 1-3.349-1.922c-4.248-.401-9.824-1.453-16.733-3.153l-1.47-.362 1.209-.912c3.538-2.67 5.267-5.403 5.267-8.204 0-1.824-.021-5.657-.064-11.498-.05-7 4.652-13.062 11.26-14.805a3.893 3.893 0 0 1 3.88-3.68 3.893 3.893 0 0 1 3.876 3.621c6.68 1.65 11.488 7.703 11.49 14.749.002 5.923.032 9.882.089 11.87.087 3.03 1.777 5.628 5.144 7.828.481.315.44.9.09 1.245l-.141.14-.194.048c-7.084 1.738-12.758 2.79-17.029 3.155z"],["stroke","#1E70B2","stroke-linecap","square","stroke-width","1.28","d","M12.841 50.557c2.696.41 5.047.597 7.053.562 2.006-.036 4.019-.113 6.038-.233"],["fill","#1E70B2","d","M5.583 28.67c4.958 1.451 9.823 2.184 14.595 2.196 4.772.013 9.6-.693 14.487-2.12l.318 8.495c-4.634 1.13-9.57 1.752-14.808 1.867-5.238.114-10.185-.357-14.842-1.414l.25-9.025z"],["cx","8.37","cy","31.979","fill","#FFF","rx","1.359","ry","1.367"],["cx","8.213","cy","35.869","fill","#FFF","rx","1.359","ry","1.367"],["fill","#FFF","d","M12.372 31.659c2.524.35 5.422.463 8.693.341 3.416-.127 7.038-.5 10.865-1.118a.886.886 0 0 1 1.027.874c0 .598-.444 1.103-1.038 1.179-5.175.66-8.84 1.036-10.992 1.13-2.095.09-4.938-.033-8.53-.371a1.152 1.152 0 0 1-1.044-1.148.896.896 0 0 1 1.019-.887zM12.372 35.357c2.524.35 5.422.464 8.693.342 3.416-.128 7.038-.5 10.865-1.119a.886.886 0 0 1 1.027.874c0 .599-.444 1.103-1.038 1.18-5.175.659-8.84 1.036-10.992 1.129-2.095.09-4.938-.033-8.53-.37a1.152 1.152 0 0 1-1.044-1.148.896.896 0 0 1 1.019-.888z"],["fill","#1E70B2","fill-opacity",".181","d","M19.196 7.944l37.39 6.65 8.413 36.443c.522 2.263.967 3.01.84 3.636-.165.808-.485 1.787-.884 2.8a8.568 8.568 0 0 1-2.062 3.095L21.054 53.51 19.196 7.944z"],[1,"px-3"],["routerLink","/private",1,"navbar-brand","text-white"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"sr-only"],[1,"bg-white","d-block","my-1","text-white",2,"width","25px","height","3px"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"collapse","navbar-collapse","navbar-nav","justify-content-xl-start","align-items-center"],[1,"nav-item","dropdown","py-3","w-100","w-xl-px-200"],["id","menuParticipants","role","button","data-bs-toggle","dropdown","aria-expanded","false","translate","",1,"nav-link","dropdown-toggle","text-white","text-center"],["aria-labelledby","menuParticipants",1,"dropdown-menu","w-xl-px-200","text-center","py-0","py-xl-2"],["routerLink","participants/add","translate","",1,"dropdown-item"],["routerLink","participants/list","translate","",1,"dropdown-item"],["id","menuPrograms","role","button","data-bs-toggle","dropdown","aria-expanded","false","translate","",1,"nav-link","dropdown-toggle","text-white","text-center"],["aria-labelledby","menuPrograms",1,"dropdown-menu","w-xl-px-200","text-center","py-0","py-xl-2"],["translate","",1,"dropdown-item",3,"click"],["routerLink","programs/list","translate","",1,"dropdown-item"],["routerLink","publish/list","translate","",1,"dropdown-item"],["routerLink","follow-up/list","translate","",1,"dropdown-item"],["id","menuResults","role","button","data-bs-toggle","dropdown","aria-expanded","false","translate","",1,"nav-link","dropdown-toggle","text-white","text-center"],["aria-labelledby","menuResults",1,"dropdown-menu","w-xl-px-200","text-center","py-0","py-xl-2"],["translate","",1,"dropdown-item",3,"routerLink"],["id","navbarUser",1,"collapse","navbar-collapse"],[1,"collapse","navbar-collapse","navbar-nav","justify-content-xl-end","align-items-center"],[1,"nav-item","dropdown","py-2","w-100","w-xl-px-200"],["id","userProfile","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle","text-white","text-center"],["width","40","height","40",1,"rounded-circle",3,"src"],["aria-labelledby","userProfile",1,"dropdown-menu","w-xl-px-200","text-center"],["routerLink","observers/add",1,"dropdown-item"],["width","102","height","102",1,"rounded-circle","mx-4",3,"src"],["routerLink","observers/add",1,"dropdown-item","text-center"],[1,"fw-bold"],[1,"dropdown-divider","d-none","d-xl-block"],[3,"icon"],["translate",""],[1,"dropdown-item","text-center"],[1,"fas","fa-play"],[1,"dropdown-item","text-center",3,"click"],[1,"row"],[1,"col-12","d-flex","justify-content-center","pb-2"],["width","73","height","30","src","assets/images/landing-page/outros/Flag_of_Brazil.svg",3,"click"],["width","73","height","30","src","assets/images/landing-page/outros/Flag_of_the_United_Kingdom_(3-5).svg",3,"click"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","white","type","ball-clip-rotate-pulse",3,"fullScreen"],[2,"color","white"]],template:function(t,i){1&t&&(e.TgZ(0,"header")(1,"nav",0)(2,"div",1),e.O4$(),e.TgZ(3,"svg",2)(4,"defs"),e._UZ(5,"path",3)(6,"path",4),e.qZA(),e.TgZ(7,"g",5)(8,"mask",6),e._UZ(9,"use",7),e.qZA(),e.TgZ(10,"g",8),e._UZ(11,"use",9)(12,"path",10),e.qZA(),e.TgZ(13,"g",11)(14,"g",12),e._UZ(15,"use",13)(16,"path",14)(17,"path",15)(18,"path",16)(19,"ellipse",17)(20,"ellipse",18)(21,"path",19)(22,"path",20),e.qZA()()()(),e.kcU(),e.TgZ(23,"span",21)(24,"a",22),e._uU(25,"ESPIM"),e.qZA()()(),e.TgZ(26,"button",23)(27,"span",24),e._uU(28,"Toggle menu"),e.qZA(),e._UZ(29,"span",25)(30,"span",25)(31,"span",25),e.qZA(),e.TgZ(32,"div",26)(33,"ul",27)(34,"li",28)(35,"a",29),e._uU(36,"private.header.participants.participants"),e.qZA(),e.TgZ(37,"ul",30)(38,"li")(39,"a",31),e._uU(40,"private.header.participants.add"),e.qZA()(),e.TgZ(41,"li")(42,"a",32),e._uU(43,"private.header.participants.list"),e.qZA()()()(),e.TgZ(44,"li",28)(45,"a",29),e._uU(46,"private.header.experts.experts"),e.qZA(),e.TgZ(47,"ul",30)(48,"li")(49,"a",31),e._uU(50,"private.header.experts.add"),e.qZA()(),e.TgZ(51,"li")(52,"a",32),e._uU(53,"private.header.experts.list"),e.qZA()()()(),e.TgZ(54,"li",28)(55,"a",33),e._uU(56,"private.header.programs.programs"),e.qZA(),e.TgZ(57,"ul",34)(58,"li")(59,"a",35),e.NdJ("click",function(){return i.goProgram(-1)}),e._uU(60,"private.header.programs.add"),e.qZA()(),e.TgZ(61,"li")(62,"a",36),e._uU(63,"private.header.programs.list"),e.qZA()()()(),e.TgZ(64,"li",28)(65,"a",33),e._uU(66,"private.header.data-collecting.data-collecting"),e.qZA(),e.TgZ(67,"ul",34)(68,"li")(69,"a",35),e.NdJ("click",function(){return i.goPublish(-1)}),e._uU(70,"private.header.data-collecting.add"),e.qZA()(),e.TgZ(71,"li")(72,"a",37),e._uU(73,"private.header.data-collecting.list"),e.qZA()()()(),e.TgZ(74,"li",28)(75,"a",33),e._uU(76,"private.header.follow-ups.follow-ups"),e.qZA(),e.TgZ(77,"ul",34)(78,"li")(79,"a",38),e._uU(80,"private.header.follow-ups.list"),e.qZA()()()(),e.TgZ(81,"li",28)(82,"a",39),e._uU(83,"private.header.results.results"),e.qZA(),e.TgZ(84,"ul",40)(85,"li")(86,"a",41),e._uU(87,"private.header.results.list"),e.qZA()()()()()(),e.TgZ(88,"div",42)(89,"ul",43)(90,"li",44)(91,"a",45),e._UZ(92,"img",46),e.qZA(),e.TgZ(93,"ul",47)(94,"li")(95,"a",48),e._UZ(96,"img",49),e.qZA()(),e.TgZ(97,"li")(98,"a",50)(99,"small",51),e._uU(100),e.qZA()()(),e.TgZ(101,"li")(102,"a",50)(103,"small"),e._uU(104),e.qZA()()(),e._UZ(105,"li",52),e.TgZ(106,"li")(107,"a",50),e._UZ(108,"fa-icon",53),e.TgZ(109,"small",54),e._uU(110,"private.header.profile.settings"),e.qZA()()(),e._UZ(111,"li",52),e.TgZ(112,"li")(113,"a",55),e._UZ(114,"i",56),e.TgZ(115,"small",54),e._uU(116,"private.header.profile.externalApplication"),e.qZA()()(),e._UZ(117,"li",52),e.TgZ(118,"li")(119,"a",57),e.NdJ("click",function(){return i.logout()}),e._UZ(120,"fa-icon",53),e.TgZ(121,"small",54),e._uU(122,"private.header.profile.exit"),e.qZA()()()()(),e.TgZ(123,"li")(124,"div",58)(125,"div",59)(126,"img",60),e.NdJ("click",function(){return i.chooseLanguage("pt")}),e.qZA(),e.TgZ(127,"img",61),e.NdJ("click",function(){return i.chooseLanguage("en")}),e.qZA()()()()()()()(),e.TgZ(128,"ngx-spinner",62)(129,"p",63),e._uU(130," Inicializando componentes... "),e.qZA()()),2&t&&(e.xp6(86),e.Q6J("routerLink",e.DdM(8,wo)),e.xp6(6),e.s9C("src",i.user.profileImg,e.LSH),e.xp6(4),e.s9C("src",i.user.profileImg,e.LSH),e.xp6(4),e.Oqu(i.user.name),e.xp6(4),e.Oqu(i.user.email),e.xp6(4),e.Q6J("icon",i.facog),e.xp6(12),e.Q6J("icon",i.fasingout),e.xp6(8),e.Q6J("fullScreen",!0))},directives:[x.M2,k.yS,E.Pi,w.BN,ut],encapsulation:2}),r})(),Ao=(()=>{class r{constructor(t){this.pas=t}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-private"]],decls:3,vars:0,consts:[[2,"overflow","hidden"]],template:function(t,i){1&t&&(e._UZ(0,"esm-private-header"),e.TgZ(1,"div",0),e._UZ(2,"router-outlet"),e.qZA())},directives:[So,k.lC],encapsulation:2}),r})(),ko=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-private-dashboard"]],decls:27,vars:0,consts:[[1,"card","mx-auto","mt-4","w-main"],[1,"mx-auto","my-4"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","125","height","125","viewBox","0 0 47.5 47.5"],["id","a2","d","M43.835 41.515c.065-.065.056-.11.022-.131-3.551-2.321-5.375-5.124-5.47-8.41-.057-1.997-.087-5.961-.089-11.891-.002-6.993-4.935-12.826-11.492-14.174a3.174 3.174 0 0 0-3.153-3.475 3.174 3.174 0 0 0-3.148 3.522c-6.49 1.442-11.323 7.285-11.272 14.237.042 5.843.063 9.677.063 11.503 0 3.06-1.85 5.985-5.553 8.779 7.093 1.745 12.766 2.802 17.019 3.17a3.166 3.166 0 0 0 2.89 1.884 3.166 3.166 0 0 0 2.875-1.846c4.269-.328 10.038-1.384 17.308-3.168z"],["id","c2","d","M40.186 47.242c.065-.065.055-.11.022-.131-3.552-2.321-5.375-5.124-5.47-8.41-.057-1.997-.087-5.961-.09-11.891-.001-6.993-4.935-12.826-11.492-14.174a3.174 3.174 0 0 0-3.153-3.475 3.174 3.174 0 0 0-3.148 3.522c-6.49 1.442-11.322 7.285-11.272 14.237.043 5.843.064 9.677.064 11.503 0 3.06-1.851 5.985-5.554 8.779 7.093 1.745 12.766 2.803 17.019 3.171a3.166 3.166 0 0 0 2.891 1.883 3.166 3.166 0 0 0 2.875-1.846c4.268-.328 10.037-1.384 17.308-3.168z"],["fill","none","fill-rule","evenodd","transform","translate(3 -2)"],["id","b2","fill","#fff"],[0,"xlink","href","#a"],["transform","rotate(11 23.813 24.981)"],["fill","#FFF",0,"xlink","href","#a"],["stroke","#1E70B2","stroke-width","1.44","d","M26.978 45.369a3.882 3.882 0 0 1-3.325 1.88 3.882 3.882 0 0 1-3.35-1.922c-4.248-.401-9.823-1.453-16.732-3.153l-1.47-.362 1.208-.912c3.538-2.67 5.267-5.403 5.267-8.204 0-1.824-.02-5.657-.063-11.498-.05-7 4.652-13.062 11.26-14.805a3.893 3.893 0 0 1 3.88-3.68 3.893 3.893 0 0 1 3.876 3.621c6.679 1.65 11.487 7.703 11.49 14.749.001 5.923.031 9.882.088 11.87.088 3.03 1.777 5.628 5.144 7.828.482.315.44.9.091 1.245l-.142.14-.193.048c-7.085 1.738-12.758 2.79-17.03 3.155z"],["mask","url(#b)"],["transform","rotate(11 55.93 46.75)"],["fill","#FFF",0,"xlink","href","#c"],["stroke","#1E70B2","stroke-width","1.44","d","M23.328 51.096a3.882 3.882 0 0 1-3.325 1.88 3.882 3.882 0 0 1-3.349-1.922c-4.248-.401-9.824-1.453-16.733-3.153l-1.47-.362 1.209-.912c3.538-2.67 5.267-5.403 5.267-8.204 0-1.824-.021-5.657-.064-11.498-.05-7 4.652-13.062 11.26-14.805a3.893 3.893 0 0 1 3.88-3.68 3.893 3.893 0 0 1 3.876 3.621c6.68 1.65 11.488 7.703 11.49 14.749.002 5.923.032 9.882.089 11.87.087 3.03 1.777 5.628 5.144 7.828.481.315.44.9.09 1.245l-.141.14-.194.048c-7.084 1.738-12.758 2.79-17.029 3.155z"],["stroke","#1E70B2","stroke-linecap","square","stroke-width","1.28","d","M12.841 50.557c2.696.41 5.047.597 7.053.562 2.006-.036 4.019-.113 6.038-.233"],["fill","#1E70B2","d","M5.583 28.67c4.958 1.451 9.823 2.184 14.595 2.196 4.772.013 9.6-.693 14.487-2.12l.318 8.495c-4.634 1.13-9.57 1.752-14.808 1.867-5.238.114-10.185-.357-14.842-1.414l.25-9.025z"],["cx","8.37","cy","31.979","fill","#FFF","rx","1.359","ry","1.367"],["cx","8.213","cy","35.869","fill","#FFF","rx","1.359","ry","1.367"],["fill","#FFF","d","M12.372 31.659c2.524.35 5.422.463 8.693.341 3.416-.127 7.038-.5 10.865-1.118a.886.886 0 0 1 1.027.874c0 .598-.444 1.103-1.038 1.179-5.175.66-8.84 1.036-10.992 1.13-2.095.09-4.938-.033-8.53-.371a1.152 1.152 0 0 1-1.044-1.148.896.896 0 0 1 1.019-.887zM12.372 35.357c2.524.35 5.422.464 8.693.342 3.416-.128 7.038-.5 10.865-1.119a.886.886 0 0 1 1.027.874c0 .599-.444 1.103-1.038 1.18-5.175.659-8.84 1.036-10.992 1.129-2.095.09-4.938-.033-8.53-.37a1.152 1.152 0 0 1-1.044-1.148.896.896 0 0 1 1.019-.888z"],["fill","#1E70B2","fill-opacity",".181","d","M19.196 7.944l37.39 6.65 8.413 36.443c.522 2.263.967 3.01.84 3.636-.165.808-.485 1.787-.884 2.8a8.568 8.568 0 0 1-2.062 3.095L21.054 53.51 19.196 7.944z"],["translate","",1,"text-justify","mx-3"]],template:function(t,i){1&t&&(e.TgZ(0,"main",0)(1,"div",1)(2,"div"),e.O4$(),e.TgZ(3,"svg",2)(4,"defs"),e._UZ(5,"path",3)(6,"path",4),e.qZA(),e.TgZ(7,"g",5)(8,"mask",6),e._UZ(9,"use",7),e.qZA(),e.TgZ(10,"g",8),e._UZ(11,"use",9)(12,"path",10),e.qZA(),e.TgZ(13,"g",11)(14,"g",12),e._UZ(15,"use",13)(16,"path",14)(17,"path",15)(18,"path",16)(19,"ellipse",17)(20,"ellipse",18)(21,"path",19)(22,"path",20),e.qZA()()()()(),e.kcU(),e.TgZ(23,"h1"),e._uU(24,"ESPIM"),e.qZA()(),e.TgZ(25,"p",21),e._uU(26,"private.dashboard.welcomeText"),e.qZA()())},directives:[E.Pi],encapsulation:2}),r})();class mt{getUrlParams(n){var t={};try{for(var o=n.split("?")[1].split("&"),s=0;s<o.length;s++){var a=o[s].split("=");t[a[0]]=decodeURIComponent(a[1])}}catch(l){t.page=1}return t}}class Ne{constructor(n){this.pageSize=p.IV,this.count=n.count?n.count:0,this.next=n.next,this.previous=n.previous,this.actualPage=this.next?String(Number((new mt).getUrlParams(this.next).page)-1):this.previous?(new mt).getUrlParams(this.previous).page?String(Number((new mt).getUrlParams(this.previous).page)+1):"2":"1"}}let _i=(()=>{class r{constructor(t){this.http=t}objectsSearch(t,i,o="1"){return i?this.http.get(t,{params:(new Ie.LE).append("search",i).append("page",o)}):this.http.get(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ie.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),gt=(()=>{class r{constructor(t){this._searchService=t,this.searchResults=new e.vpe}ngOnInit(){}search(){this.searchTerm?this._searchService.objectsSearch(this.urlObject,this.searchTerm).subscribe(t=>{this.searchResults.emit({response:t})}):this._searchService.objectsSearch(this.urlObject).subscribe(t=>{this.searchResults.emit({response:t})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_i))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-search"]],inputs:{urlObject:"urlObject"},outputs:{searchResults:"searchResults"},decls:10,vars:4,consts:[[1,"d-flex","justify-content-around","align-items-center","flex-wrap","px-0","my-3"],[1,"form-group","w-100","w-md-75","pr-4"],[1,"input-with-icon-l"],[1,"fa","fa-search"],["type","text","name","searchTerm",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[1,"form-group","w-px-200","w-md-25"],["type","submit",1,"btn","btn-success","btn-block","py-3",3,"click"],["translate","",1,"fw-bold"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e.TgZ(4,"input",4),e.NdJ("ngModelChange",function(s){return i.searchTerm=s}),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return i.search()}),e.TgZ(8,"span",7),e._uU(9,"private.search.searchButton"),e.qZA()()()()),2&t&&(e.xp6(4),e.s9C("placeholder",e.lcZ(5,2,"private.search.searchPlaceholder")),e.Q6J("ngModel",i.searchTerm))},directives:[c._Y,c.JL,c.F,c.Fj,c.JJ,c.On,E.Pi],pipes:[E.X$],encapsulation:2}),r})();function Io(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.getByPaginationURL(o.pagination.previous)}),e._uU(2," <<"),e.qZA()()}}function Eo(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"span")(1,"a",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.getByPaginationURL(o.pagination.next)}),e._uU(2,">>"),e.qZA()()}}let Fe=(()=>{class r{constructor(){this.next=new e.vpe}ngOnInit(){}ngOnChanges(t){this.pagination=t.pagination.currentValue}getByPaginationURL(t){this.next.emit({url:t})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-pagination"]],inputs:{pagination:"pagination"},outputs:{next:"next"},features:[e.TTD],decls:6,vars:3,consts:[[1,"col-12","p-3","text-right"],[4,"ngIf"],[1,"h4","mr-4","text-success","fw-bold","links"],[1,"h4","mr-4","text-success","fw-bold","links",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Io,3,0,"span",1),e.TgZ(2,"span")(3,"a",2),e._uU(4),e.qZA()(),e.YNc(5,Eo,3,0,"span",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",null==i.pagination?null:i.pagination.previous),e.xp6(3),e.Oqu(null==i.pagination?null:i.pagination.actualPage),e.xp6(1),e.Q6J("ngIf",null==i.pagination?null:i.pagination.next))},directives:[h.O5],encapsulation:2}),r})();const _t=function(r){return["/private/participants/add",r]};function Zo(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul",12)(1,"li",13)(2,"div")(3,"a",14)(4,"span",15),e._uU(5),e.qZA()(),e._UZ(6,"br"),e.TgZ(7,"a",16),e._uU(8),e.qZA()(),e.TgZ(9,"div",17)(10,"a",14),e._UZ(11,"i",18),e.qZA(),e.TgZ(12,"i",19),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteParticipant(s)}),e.qZA()()()()}if(2&r){const t=n.$implicit,i=n.index;e.xp6(3),e.Q6J("routerLink",e.VKq(8,_t,t.id)),e.xp6(2),e.lnq("",i+1,". ",null==t?null:t.name," \u2022 ",null==t?null:t.alias,""),e.xp6(2),e.Q6J("routerLink",e.VKq(10,_t,t.id)),e.xp6(1),e.AsE("",null==t?null:t.name," - ",null==t?null:t.email,""),e.xp6(2),e.Q6J("routerLink",e.VKq(12,_t,t.id))}}function Do(r,n){1&r&&(e.TgZ(0,"div",4)(1,"ul",20)(2,"li",21)(3,"span",22),e._uU(4,"private.participants.list.noObjects"),e.qZA(),e._UZ(5,"br"),e.qZA()()())}let Po=(()=>{class r{constructor(t){this.daoService=t,this.urlParticipants=p.Vt,this.participants=[],this.totalParticipants="",this.tempParticipant=new D}ngOnInit(){this.getParticipants()}getParticipants(t=this.urlParticipants){this.daoService.getObjects(t).subscribe(i=>{this.setParticipants(i)})}onNext(t){this.getParticipants(t.url)}onNextSearch(t){this.setParticipants(t.response)}setParticipants(t){this.totalParticipants=t.count,this.participants=t.results.map(i=>new D(i)),this.pagination=new Ne(t)}deleteParticipant(t){this.tempParticipant=t,b().fire({title:"Deletar Participante?",text:"O participante ser\xe1 excluido de forma definitiva",icon:"warning",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o"}).then(i=>{i.value&&this.onConfirmDeleteParticipant()})}onConfirmDeleteParticipant(){this.daoService.deleteObject(this.urlParticipants,this.tempParticipant.getId().toString()).subscribe(t=>{b().fire("Participante Excluido","O participante foi exclu\xeddo com sucesso","success"),this.getParticipants()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-particpants-list"]],decls:16,vars:5,consts:[[1,"card","mx-auto","mt-4","w-main","px-5","mb-5"],["translate","",1,"h4","fw-bold","mt-5"],[3,"urlObject","searchResults"],[1,"container-fluid","mx-auto"],[1,"row"],[1,"col-12","bg-primary","d-flex","justify-content-between","align-items-center","p-3","text-white"],["translate","",1,"h6","m-0","d-inline","ml-1","fw-bold"],[1,"fw-bold"],["translate",""],["class","row pl-0 mb-0",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[3,"pagination","next"],[1,"row","pl-0","mb-0"],[1,"col-12","d-flex","justify-content-between","align-content-center","p-4","border"],[3,"routerLink"],[1,"names"],[1,"underline","small",3,"routerLink"],[1,"d-flex","align-items-center","mx-3"],[1,"fas","fa-edit","fa-lg","mr-3","text-primary"],[1,"fas","fa-trash-alt","fa-lg","text-primary",3,"click"],[1,"list-group","w-100"],[1,"list-group-item","p-4","hover-itens"],["translate","",1,"names"]],template:function(t,i){1&t&&(e.TgZ(0,"main",0)(1,"h1",1),e._uU(2,"private.participants.list.pageTitle"),e.qZA(),e.TgZ(3,"esm-search",2),e.NdJ("searchResults",function(s){return i.onNextSearch(s)}),e.qZA(),e.TgZ(4,"section",3)(5,"div",4)(6,"div",5)(7,"h2",6),e._uU(8,"private.participants.list.listTitle"),e.qZA(),e.TgZ(9,"small",7)(10,"span",8),e._uU(11,"private.participants.list.totalNumber"),e.qZA(),e._uU(12),e.qZA()()(),e.YNc(13,Zo,13,14,"ul",9),e.YNc(14,Do,6,0,"div",10),e.TgZ(15,"esm-pagination",11),e.NdJ("next",function(s){return i.onNext(s)}),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("urlObject",i.urlParticipants),e.xp6(9),e.hij(":",i.totalParticipants?i.totalParticipants:0,""),e.xp6(1),e.Q6J("ngForOf",i.participants),e.xp6(1),e.Q6J("ngIf",0==(null==i.participants?null:i.participants.length)),e.xp6(1),e.Q6J("pagination",i.pagination))},directives:[E.Pi,gt,h.sg,k.yS,h.O5,Fe],encapsulation:2}),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Mo=["swalSaveSuccess"],Oo=["swalSaveAndAddAnotherSuccess"];function No(r,n){1&r&&(e.TgZ(0,"div",53)(1,"div",54),e._uU(2,"Tipo do C\xedrculo"),e.qZA(),e.TgZ(3,"div",55),e._uU(4,"Participante C\xedrculo"),e.qZA()())}function Fo(r,n){if(1&r&&(e.TgZ(0,"option",63),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.description)}}function Ro(r,n){if(1&r&&(e.TgZ(0,"option",63),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Uo(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",56)(2,"div",54)(3,"select",57),e.YNc(4,Fo,2,2,"option",58),e.qZA()(),e.TgZ(5,"div",59)(6,"select",60),e.YNc(7,Ro,2,2,"option",58),e.qZA()(),e.TgZ(8,"div",61)(9,"button",62),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().removeCirculo(s)}),e._UZ(10,"fa-icon",37),e.qZA()()()()}if(2&r){const t=n.index,i=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(3),e.Q6J("ngForOf",i.list_type),e.xp6(3),e.Q6J("ngForOf",i.list_participant),e.xp6(3),e.Q6J("icon",i.trash)}}function qo(r,n){if(1&r&&(e.TgZ(0,"div",64)(1,"div",54),e._uU(2," Adicionar novo tipo: "),e.TgZ(3,"span")(4,"button",65),e._UZ(5,"fa-icon",37),e.qZA()()(),e.TgZ(6,"div",55),e._uU(7," Adicionar novo participante: "),e.TgZ(8,"span")(9,"button",66),e._UZ(10,"fa-icon",37),e.qZA()()()()),2&r){const t=e.oxw();e.xp6(5),e.Q6J("icon",t.edit),e.xp6(5),e.Q6J("icon",t.edit)}}let fi=(()=>{class r{constructor(t,i,o,s){this._daoService=t,this._activatedRoute=i,this._formBuilder=o,this.route=s,this.plus=m.r8p,this.trash=m.$aW,this.edit=m.Xcf,this.list_type=[],this.list_participant=[],this.urlParticipants=p.Vt,this.editing=!1}ngOnInit(){this.participantForm=this._formBuilder.group({id:this._formBuilder.control(""),name:this._formBuilder.control("",[c.kI.required]),email:this._formBuilder.control("",[c.kI.required,c.kI.email]),alias:this._formBuilder.control(""),circle:this._formBuilder.array([])}),this.addParticipantForm=this._formBuilder.group({name:this._formBuilder.control("",[c.kI.required]),email:this._formBuilder.control("",[c.kI.required,c.kI.email]),alias:this._formBuilder.control("")}),this.addCircleTypeForm=this._formBuilder.group({description:this._formBuilder.control("",[c.kI.required])});let t=this._activatedRoute.snapshot.params.id;t&&this._daoService.getObject(this.urlParticipants,t).subscribe(i=>{console.log(i);let o=new D(i);console.log(o),this.participantForm.patchValue({id:o.getId()}),this.participantForm.patchValue({name:o.getName()}),this.participantForm.patchValue({email:o.getEmail(),disabled:!0}),this.participantForm.patchValue({alias:o.getAlias()});let s=this.participantForm.get("circle");for(let a=0;a<o.circle.length;a++)s.push(this._formBuilder.group({id:[o.circle[a].id],id_target:[o.circle[a].id_target],id_type:[o.circle[a].id_type,[c.kI.required]],id_circle:[o.circle[a].id_circle,[c.kI.required]]}));console.log(this.participantForm),this.editing=!0}),this._daoService.getNewObject(p.Vt,{}).subscribe(i=>{this.list_participant=i}),this._daoService.getNewObject(p.jn,{}).subscribe(i=>{this.list_type=i})}get circuloList(){return this.participantForm.get("circle")}addCirculo(){this.circuloList.push(this._formBuilder.group({id:[""],id_type:["",[c.kI.required]],id_circle:["",[c.kI.required]]}))}removeCirculo(t){this.circuloList.removeAt(t)}save(t){this.participantForm.value.id?this._daoService.putObject(this.urlParticipants,this.participantForm.value).subscribe(i=>{this.swalSaveSuccess.fire()}):this._daoService.postObject(this.urlParticipants,this.participantForm.value).subscribe(i=>{this.swalSaveSuccess.fire()})}onSaveSuccess(t){this.route.navigate(["private/participants/list"])}saveAndAddAnother(t){this._daoService.postObject(this.urlParticipants,this.participantForm.value).subscribe(i=>{this.swalSaveAndAddAnotherSuccess.fire()})}onSaveAndAddAnotherSuccess(t){this.participantForm.patchValue({id:""}),this.participantForm.patchValue({name:""}),this.participantForm.patchValue({email:""}),this.participantForm.patchValue({alias:""})}addParticipant(){this._daoService.postObject(p.Vt,new D(this.addParticipantForm.getRawValue())).subscribe(t=>{const i=new D(t);this.list_participant.push(i),this.list_participant.sort((o,s)=>o.name.localeCompare(s.name)),b().fire("Sucesso","Participante adicionado aos contatos!","success"),this.addParticipantForm.reset()})}addCircleType(){this._daoService.postObject(p.jn,this.addCircleTypeForm.getRawValue()).subscribe(t=>{this.list_type.push(t),this.list_type.sort((i,o)=>i.description.localeCompare(o.description)),b().fire("Sucesso","Tipo de C\xedrculo adicionado !","success")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(k.gz),e.Y36(c.qu),e.Y36(k.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-participants-add"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Mo,5),e.Gf(Oo,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.swalSaveSuccess=o.first),e.iGM(o=e.CRH())&&(i.swalSaveAndAddAnotherSuccess=o.first)}},decls:106,vars:51,consts:[["id","addParticipant",1,"bg-white","shadow-lg","popup","p-5","collapse",2,"z-index","3","top","10%",3,"formGroup"],[1,"mb-5"],[1,"mb-3"],["for","email",1,"mb-0"],[1,"text-danger"],["type","email","id","email","formControlName","email",1,"w-100"],["for","name",1,"mb-0"],["type","text","id","name","formControlName","name",1,"w-100"],["for","nickname",1,"mb-0"],["type","text","id","nickname","formControlName","alias",1,"w-100"],[1,"d-flex","justify-content-between","mt-5"],["type","button","data-toggle","collapse","data-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapseCancel",1,"btn","btn-outline-primary",3,"click"],["type","button","data-toggle","collapse","data-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapseAdd",1,"btn","btn-primary",3,"click"],["id","addCircleType",1,"bg-white","shadow-lg","popup","p-5","collapse",2,"z-index","3","top","10%",3,"formGroup"],["type","text","id","description","formControlName","description",1,"w-100"],["type","button","data-toggle","collapse","data-target","#addCircleType","aria-expanded","false","aria-controls","addCircleTypeCollapseCancel",1,"btn","btn-outline-primary",3,"click"],["type","button","data-toggle","collapse","data-target","#addCircleType","aria-expanded","false","aria-controls","addCircleTypeCollapseAdd",1,"btn","btn-primary",3,"click"],[1,"card","mx-auto","mt-4","w-main","container-fluid"],[1,"row"],[1,"col-12","mx-auto","bg-white","rounded","p-xl-2","p-0"],[1,"container-fluid"],[1,"row","p-xl-5","p-4"],[1,"col-12","mt-4","mt-xl-0","p-0"],["translate","",1,"h4","fw-bold"],[1,"col-12","pl-0","pb-3","pr-0",3,"formGroup"],[1,"col-12","mt-4","mb-4","p-0"],[1,"form-group"],["id","id","name","id","type","hidden","formControlName","id"],["for","text","translate","",1,"sr-only"],["id","name","name","name","type","text","formControlName","name",1,"form-control-plaintext","border-bottom",3,"placeholder","readonly"],["for","email","translate","",1,"sr-only"],["id","email","name","email","type","email","formControlName","email",1,"form-control-plaintext","border-bottom",3,"placeholder","readonly"],["for","pwd","translate","",1,"sr-only"],["id","alias","name","alias","type","text","formControlName","alias",1,"form-control-plaintext","border-bottom",3,"placeholder"],[1,"row","justify-content-center",2,"margin-top","20px"],[1,"text-center","mb-1"],[1,"btn","btn-primary","ml-2","btn-sm","rounded-circle",3,"click"],[3,"icon"],["formArrayName","circle"],["class","d-flex flex-row align-items-center",4,"ngIf"],[4,"ngFor","ngForOf"],["class","d-flex flex-row align-items-center justify-content-center mt-20",4,"ngIf"],[2,"height","50px"],[1,"d-flex","flex-row","align-items-center","justify-content-center","mt-10"],["name","saveAndAddAnother","translate","",1,"btn","btn-secondary",3,"swal"],[1,"d-flex","flex-col","align-items-center","justify-content-center","mt-10"],["type","submit","name","saveButton","translate","",1,"btn","btn-success",3,"disabled","swal"],["type","question",3,"title","text","showCancelButton","focusCancel","confirm"],["swalSaveAndAddAnother",""],["swalSaveButton",""],["type","success",3,"title","text","focusCancel","confirm"],["swalSaveSuccess",""],["swalSaveAndAddAnotherSuccess",""],[1,"d-flex","flex-row","align-items-center"],[1,"col-4"],[1,"col-8","ml-10"],[1,"d-flex","flex-row","align-items-center","mt-10",3,"formGroupName"],["aria-label","Default select example","formControlName","id_type",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],[1,"col-7","ml-10"],["formControlName","id_circle",1,"form-select"],[1,"col-1","d-flex","justify-content-end"],[1,"btn","btn-danger","ml-2","btn-sm","rounded-circle",3,"click"],[3,"value"],[1,"d-flex","flex-row","align-items-center","justify-content-center","mt-20"],["data-toggle","collapse","data-target","#addCircleType","aria-expanded","false","aria-controls","addCircleTypeCollapse",1,"btn","btn-primary","ml-2","btn-sm","rounded-circle"],["data-toggle","collapse","data-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapse",1,"btn","btn-primary","ml-2","btn-sm","rounded-circle"]],template:function(t,i){if(1&t&&(e.TgZ(0,"form",0)(1,"h3",1),e._uU(2,"Adicionar participante"),e.qZA(),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"E-mail "),e.TgZ(6,"span",4),e._uU(7,"*"),e.qZA(),e._uU(8,":"),e.qZA(),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"div",2)(11,"label",6),e._uU(12,"Nome "),e.TgZ(13,"span",4),e._uU(14,"*"),e.qZA(),e._uU(15,":"),e.qZA(),e._UZ(16,"input",7),e.qZA(),e.TgZ(17,"div",2)(18,"label",8),e._uU(19,"Alias:"),e.qZA(),e._UZ(20,"input",9),e.qZA(),e.TgZ(21,"div",10)(22,"button",11),e.NdJ("click",function(){return i.addParticipantForm.reset()}),e._uU(23,"Cancelar"),e.qZA(),e.TgZ(24,"button",12),e.NdJ("click",function(){return i.addParticipant()}),e._uU(25,"Adicionar"),e.qZA()()(),e.TgZ(26,"form",13)(27,"h3",1),e._uU(28,"Adicionar Tipos Participantes C\xedrculo"),e.qZA(),e.TgZ(29,"div",2)(30,"label",3),e._uU(31,"Descri\xe7\xe3o "),e.TgZ(32,"span",4),e._uU(33,"*"),e.qZA(),e._uU(34,":"),e.qZA(),e._UZ(35,"input",14),e.qZA(),e.TgZ(36,"div",10)(37,"button",15),e.NdJ("click",function(){return i.addCircleTypeForm.reset()}),e._uU(38,"Cancelar"),e.qZA(),e.TgZ(39,"button",16),e.NdJ("click",function(){return i.addCircleType()}),e._uU(40,"Adicionar"),e.qZA()()(),e.TgZ(41,"div",17)(42,"div",18)(43,"section",19)(44,"div",20)(45,"div",21)(46,"div",22)(47,"h1",23),e._uU(48,"private.participants.add.title"),e.qZA()(),e.TgZ(49,"form",24)(50,"div",20)(51,"div",18)(52,"div",25)(53,"div",26),e._UZ(54,"input",27),e.qZA(),e.TgZ(55,"div",26)(56,"label",28),e._uU(57,"private.participants.add.name"),e.qZA(),e._UZ(58,"input",29),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"div",26)(61,"label",30),e._uU(62,"private.participants.add.email"),e.qZA(),e._UZ(63,"input",31),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"div",26)(66,"label",32),e._uU(67,"private.participants.add.title"),e.qZA(),e._UZ(68,"input",33),e.ALo(69,"translate"),e.qZA()()(),e._UZ(70,"hr"),e.TgZ(71,"div",34)(72,"h2",35),e._uU(73,"Participantes C\xedrculo "),e.TgZ(74,"span")(75,"button",36),e.NdJ("click",function(){return i.addCirculo()}),e._UZ(76,"fa-icon",37),e.qZA()()()(),e._UZ(77,"hr"),e.TgZ(78,"div",38),e.YNc(79,No,5,0,"div",39),e.YNc(80,Uo,11,4,"div",40),e.YNc(81,qo,11,2,"div",41),e.qZA(),e._UZ(82,"div",42),e.TgZ(83,"div",43)(84,"button",44),e._uU(85," private.participants.add.saveAndAddAnother "),e.qZA(),e.TgZ(86,"div",45)(87,"button",46),e._uU(88," private.participants.add.saveButton "),e.qZA()()()()()(),e.TgZ(89,"span")(90,"swal",47,48),e.NdJ("confirm",function(s){return i.saveAndAddAnother(s)}),e.ALo(92,"translate"),e.ALo(93,"translate"),e.qZA(),e.TgZ(94,"swal",47,49),e.NdJ("confirm",function(s){return i.save(s)}),e.ALo(96,"translate"),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"swal",50,51),e.NdJ("confirm",function(s){return i.onSaveSuccess(s)}),e.ALo(100,"translate"),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"swal",50,52),e.NdJ("confirm",function(s){return i.onSaveAndAddAnotherSuccess(s)}),e.ALo(104,"translate"),e.ALo(105,"translate"),e.qZA()()()()()()),2&t){const o=e.MAs(91),s=e.MAs(95);e.Q6J("formGroup",i.addParticipantForm),e.xp6(26),e.Q6J("formGroup",i.addCircleTypeForm),e.xp6(23),e.Q6J("formGroup",i.participantForm),e.xp6(9),e.s9C("placeholder",e.lcZ(59,29,"private.participants.add.name")),e.Q6J("readonly",i.editing),e.xp6(5),e.s9C("placeholder",e.lcZ(64,31,"private.participants.add.email")),e.Q6J("readonly",i.editing),e.xp6(5),e.s9C("placeholder",e.lcZ(69,33,"private.participants.add.alias")),e.xp6(8),e.Q6J("icon",i.plus),e.xp6(3),e.Q6J("ngIf",i.circuloList.length>0),e.xp6(1),e.Q6J("ngForOf",i.circuloList.controls),e.xp6(1),e.Q6J("ngIf",i.circuloList.length>0),e.xp6(3),e.Q6J("swal",o),e.xp6(3),e.Q6J("disabled",i.participantForm.invalid)("swal",s),e.xp6(3),e.s9C("title",e.lcZ(92,35,"private.participants.add.messageTitle")),e.s9C("text",e.lcZ(93,37,"private.participants.add.addMessage")),e.Q6J("showCancelButton",!0)("focusCancel",!0),e.xp6(4),e.s9C("title",e.lcZ(96,39,"private.participants.add.messageTitle")),e.s9C("text",e.lcZ(97,41,"private.participants.add.addMessage")),e.Q6J("showCancelButton",!0)("focusCancel",!0),e.xp6(4),e.s9C("title",e.lcZ(100,43,"private.participants.add.saveTitle")),e.s9C("text",e.lcZ(101,45,"private.participants.add.saveMessage")),e.Q6J("focusCancel",!0),e.xp6(4),e.s9C("title",e.lcZ(104,47,"private.participants.add.saveTitle")),e.s9C("text",e.lcZ(105,49,"private.participants.add.saveMessage")),e.Q6J("focusCancel",!0)}},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,E.Pi,w.BN,c.CE,h.O5,h.sg,c.x0,c.EJ,c.YN,c.Kr,he.iL,he.q1],pipes:[E.X$],encapsulation:2}),r})();function Lo(r,n){1&r&&(e.TgZ(0,"div",24),e._uU(1," Vers\xf5es para Coletas de Dados"),e.qZA())}function Jo(r,n){if(1&r&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.AsE(" Vers\xe3o : ",t.version," - Criada : ",t.createDateTime," ")}}const Bo=function(r,n){return{"text-primary":r,pointer:n}},jo=function(r,n,t,i,o){return{"fa-clone":r,"text-secondary":n,pointer:t,"fa-spinner":i,"fa-spin":o}},zo=function(r,n){return{"text-danger":r,pointer:n}};function Qo(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"span",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().goToProgram(s)}),e._uU(3),e.qZA(),e.TgZ(4,"div",18)(5,"fa-icon",19),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().goToProgram(s)}),e.qZA(),e.TgZ(6,"fa-icon",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().duplicateProgram(s)})("click",function(){const s=e.CHM(t).$implicit;return e.oxw().goToProgram(s)}),e.qZA(),e.TgZ(7,"fa-icon",21),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteProgram(s)}),e.qZA()()(),e.YNc(8,Lo,2,0,"div",22),e.YNc(9,Jo,2,2,"div",23),e.qZA()}if(2&r){const t=n.$implicit,i=e.oxw();e.xp6(2),e.ekj("pointer",!t.beingDuplicated),e.xp6(1),e.AsE("",t.id,". ",t.title,""),e.xp6(2),e.Q6J("icon",i.edit)("ngClass",e.WLB(12,Bo,!t.beingDuplicated,!t.beingDuplicated)),e.xp6(1),e.Q6J("icon",i.clone)("ngClass",e.qbA(15,jo,!t.beingDuplicated,!t.beingDuplicated,!t.beingDuplicated,t.beingDuplicated,t.beingDuplicated)),e.xp6(1),e.Q6J("icon",i.trash)("ngClass",e.WLB(21,zo,!t.beingDuplicated,!t.beingDuplicated)),e.xp6(1),e.Q6J("ngIf",t.versions.length>0),e.xp6(1),e.Q6J("ngForOf",t.versions)}}function Ho(r,n){1&r&&(e.TgZ(0,"div",4)(1,"ul",26)(2,"li",27)(3,"span",28),e._uU(4,"private.programs.list.noObjects"),e.qZA(),e._UZ(5,"br"),e.qZA()()())}function Yo(r,n){1&r&&(e.TgZ(0,"div",29),e._UZ(1,"i",30),e.qZA())}let Vo=(()=>{class r{constructor(t,i,o,s){this.dao=t,this.router=i,this.spinner=o,this.programService=s,this.lock=m.byT,this.users=m.FVb,this.edit=m.Xcf,this.trash=m.I7k,this.clone=m.WM4,this.urlPrograms=p.Z8,this.loading=!1}ngOnInit(){this.getPrograms()}getPrograms(t=this.urlPrograms){this.loading=!0,this.dao.getObjects(t).subscribe(i=>{this.setPrograms(i),this.loading=!1})}onNext(t){this.getPrograms(t.url)}onNextSearch(t){this.setPrograms(t.response)}setPrograms(t){this.totalPrograms=t.count,this.programs=t.results.map(i=>{const o=i;return o.beingDuplicated&&this.checkDuplication(o),o}),console.log(this.programs),this.pagination=new Ne(t)}deleteProgram(t){t.beingDuplicated||b().fire({title:t.title,html:'<b>A dele\xe7\xe3o ir\xe1 apagar todos os dados do programa, tem certeza que deseja "DELETAR" o programa? </b>',showDenyButton:!0,confirmButtonText:"Deletar",denyButtonText:"N\xe3o Deletar",icon:"warning"}).then(i=>{i.isConfirmed?b().fire("A Dele\xe7\xe3o de programas est\xe1 temporariamente desabilitada","","error"):i.isDenied&&b().fire("Cancelada a dele\xe7\xe3o do programa","","info")})}checkDuplication(t){!t.beingDuplicated||(console.log("Requesting program"),this.dao.getObject(p.Z8,t.id.toString()).subscribe(i=>{console.log(`Response received\nBeingDuplicated: ${i.beingDuplicated}`),i.beingDuplicated||this.getPrograms(`http://localhost:8000/programs/?page=${this.pagination.actualPage}`)}),setTimeout(()=>this.checkDuplication(t),3e4))}goToProgram(t){t.beingDuplicated||(this.spinner.show(),this.programService.getProgramObservable().subscribe(i=>{this.spinner.hide(),this.router.navigateByUrl("private/programs/add").then()}),this.programService.setProgram(t.id))}createNewVersion(t){b().fire({title:t.title,html:"<b>Criar uma nova vers\xe3o de coleta de dados para o programa?</b>",showDenyButton:!0,confirmButtonText:"Criar",denyButtonText:"Cancelar"}).then(i=>{i.isConfirmed?this.dao.createProgramVersion(t).subscribe(o=>{t.versions.push(o)}):i.isDenied&&b().fire("Cancelou!!!","","warning")})}duplicateProgram(t){t.beingDuplicated||b().fire({title:"Duplicar um programa",text:"Essa a\xe7\xe3o pode demorar muito tempo, deseja continuar? Voc\xea ainda poder\xe1 mexer em outros programas, entretanto a c\xf3pia somente ser\xe1 edit\xe1vel ap\xf3s o fim do processo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, Copiar o programa"}).then(i=>{i.isConfirmed&&this.dao.getObjects(p.Z8+`${t.id.toString()}/duplicate/`).subscribe(o=>this.dao.getObject(p.Z8,o.id.toString()).subscribe(s=>{b().fire({title:"Duplica\xe7\xe3o realizada!",icon:"success",text:"Em caso de qualquer problema, reinicie a p\xe1gina"})}))})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(k.F0),e.Y36(Me),e.Y36(I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-particpants-list"]],decls:20,vars:7,consts:[[1,"card","mx-auto","mt-4","w-main","px-5","mb-5"],["translate","",1,"h4","fw-bold","mt-5"],[3,"urlObject","searchResults"],[1,"container-fluid","mx-auto"],[1,"row"],[1,"col-12","bg-primary","d-flex","justify-content-between","align-items-center","p-3","text-white"],["translate","",1,"h6","m-0","d-inline","ml-1","fw-bold"],[1,"fw-bold"],["translate",""],["class","row pl-0 mt-2 border border-success",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[3,"pagination","next"],["class","d-flex justify-content-center align-items-center","style","position: absolute; top:0; z-index: 1; height: 100%; width: 100%; background-color: rgba(255, 255, 255, 0.5)",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","white","type","ball-clip-rotate-pulse",3,"fullScreen"],[2,"color","white"],[1,"row","pl-0","mt-2","border","border-success"],[1,"col-12","d-flex","justify-content-between","align-items-center","p-1"],[1,"fw-bold","w-100","d-flex","align-items-center",3,"click"],[1,"d-flex","align-items-center","mx-3"],["data-bs-toggle","tooltip","title","Editar Programa",1,"m-2","fa-lg",3,"icon","ngClass","click"],["data-bs-toggle","tooltip","title","Duplicar Programa (criar uma c\xf3pia)",1,"m-2","fa-lg","solid",3,"icon","ngClass","click"],["data-bs-toggle","tooltip","title","Deletar o Programa",1,"m-2","fa-lg",3,"icon","ngClass","click"],["class","col-12 d-flex justify-content-center ps-4 pe-4 fw-bold",4,"ngIf"],["class","col-12 ps-4 pe-4",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-center","ps-4","pe-4","fw-bold"],[1,"col-12","ps-4","pe-4"],[1,"list-group","w-100"],[1,"list-group-item","p-4","hover-itens"],["translate","",1,"names"],[1,"d-flex","justify-content-center","align-items-center",2,"position","absolute","top","0","z-index","1","height","100%","width","100%","background-color","rgba(255, 255, 255, 0.5)"],[1,"fa","fa-spinner","fa-spin","fa-3x"]],template:function(t,i){1&t&&(e.TgZ(0,"main",0)(1,"h1",1),e._uU(2,"private.programs.list.pageTitle"),e.qZA(),e.TgZ(3,"esm-search",2),e.NdJ("searchResults",function(s){return i.onNextSearch(s)}),e.qZA(),e.TgZ(4,"section",3)(5,"div",4)(6,"div",5)(7,"h2",6),e._uU(8,"private.programs.list.listTitle"),e.qZA(),e.TgZ(9,"small",7)(10,"span",8),e._uU(11,"private.programs.list.totalNumber"),e.qZA(),e._uU(12),e.qZA()()(),e.YNc(13,Qo,10,24,"div",9),e.YNc(14,Ho,6,0,"div",10),e.TgZ(15,"esm-pagination",11),e.NdJ("next",function(s){return i.onNext(s)}),e.qZA()()(),e.YNc(16,Yo,2,0,"div",12),e.TgZ(17,"ngx-spinner",13)(18,"p",14),e._uU(19," Inicializando componentes... "),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("urlObject",i.urlPrograms),e.xp6(9),e.hij(": ",i.totalPrograms?i.totalPrograms:0,""),e.xp6(1),e.Q6J("ngForOf",i.programs),e.xp6(1),e.Q6J("ngIf",0==(null==i.programs?null:i.programs.length)),e.xp6(1),e.Q6J("pagination",i.pagination),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("fullScreen",!0))},directives:[E.Pi,gt,h.sg,w.BN,h.mk,h.O5,Fe,ut],encapsulation:2}),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var ee=function(){function r(){this._subs=[]}return r.prototype.add=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._subs=this._subs.concat(n)},Object.defineProperty(r.prototype,"sink",{set:function(n){this._subs.push(n)},enumerable:!0,configurable:!0}),r.prototype.unsubscribe=function(){this._subs.forEach(function(n){return n&&function(r){return"function"==typeof r}(n.unsubscribe)&&n.unsubscribe()}),this._subs=[]},r}(),te=_(481);let ft=(()=>{class r{constructor(){this.checked=!1,this.disabled=!1,this.removeUser=new e.vpe,this.addUser=new e.vpe,this.opcao=!0}ngOnInit(){}checkboxHandler(){this.checked?this.removeUser.emit(this.user.id):this.addUser.emit(this.user.id)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-user-checkbox"]],inputs:{user:"user",checked:"checked",disabled:"disabled"},outputs:{removeUser:"removeUser",addUser:"addUser"},decls:3,vars:5,consts:[["type","checkbox",3,"id","ngModel","disabled","ngModelChange","click"],[1,"m-0",3,"for"]],template:function(t,i){1&t&&(e.TgZ(0,"input",0),e.NdJ("ngModelChange",function(s){return i.checked=s})("click",function(){return i.checkboxHandler()}),e.qZA(),e.TgZ(1,"label",1),e._uU(2),e.qZA()),2&t&&(e.Q6J("id",i.user.name+i.user.id)("ngModel",i.checked)("disabled",i.disabled),e.xp6(1),e.Q6J("for",i.user.name+i.user.id),e.xp6(1),e.Oqu(i.user.name))},directives:[c.Wl,c.JJ,c.On],encapsulation:2}),r})();const $o=["alphabet1"],Wo=["alphabet2"],Ko=["alphabetAll"];function Xo(r,n){1&r&&(e.TgZ(0,"div",36),e._uU(1,"No participant selected"),e.qZA())}function es(r,n){if(1&r&&(e.TgZ(0,"div",37),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Oqu(t.name)}}function ts(r,n){1&r&&(e.TgZ(0,"div",38),e._uU(1,"O filtro selecionado resultou em nada, tente troca-lo."),e.qZA())}function is(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",39)(1,"esm-user-checkbox",40),e.NdJ("addUser",function(o){return e.CHM(t),e.oxw().addProgramObserver(o)})("removeUser",function(o){return e.CHM(t),e.oxw().removeProgramObserver(o)}),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw();e.xp6(1),e.Q6J("user",t)("checked",i.isChecked(t))("disabled",i.isDisabled(t))}}let ns=(()=>{class r{constructor(t,i,o,s){this.dao=t,this.programAddService=i,this.formBuilder=o,this.loginService=s,this.subSynk=new ee,this.fa_search=m.wn1,this.hasChanged=!1,this.addObserverForm=this.formBuilder.group({email:["",c.kI.required],name:["",c.kI.required],role:[""]})}ngOnDestroy(){this.subSynk.unsubscribe()}isChecked(t){return!!(this.programObservers?this.programObservers.find(i=>i.id===t.id):void 0)}isDisabled(t){return t.id===Number.parseInt(this.loginService.getUser().id)}ngOnInit(){this.observers=this.programAddService.getObservers(),this.programObservers=this.programAddService.getObserversInstance(),this.subSynk.sink=this.programAddService.getProgramObservable().subscribe(t=>{this.observers=this.programAddService.getObservers(),this.programObservers=this.programAddService.getObserversInstance()})}addObserver(){let t=new S(this.addObserverForm.getRawValue());this.subSynk.sink=this.dao.postObject(p.hL,t).subscribe(i=>{t=new S(i),console.log(t),this.addProgramObserver(t),b().fire({title:"Observador adicionado",text:"Obsevador adicionado com sucesso!!",icon:"success"}),this.addObserverForm.reset()})}addProgramObserver(t){let i=new S;if(t instanceof S)i=t;else for(let o=0;o<this.observers.length;o++)this.observers[o].id==t&&(i=this.observers[o]);this.programAddService.saveStep({addObserver:i})}removeProgramObserver(t){this.programAddService.saveStep({delObserver:t})}filter_by(t,i){if("*"!==t)this.alphabetAll.nativeElement.classList.contains("btn-default-active")&&(this.alphabetAll.nativeElement.classList.remove("btn-default-active"),this.observers=new Array),i.target.classList.contains("btn-default-active")?(i.target.classList.remove("btn-default-active"),this.observers=this.observers.filter(o=>!o.name.startsWith(t.toLowerCase())&&!o.name.startsWith(t.toUpperCase()))):(i.target.classList.add("btn-default-active"),this.observers=this.observers.concat(this.programAddService.getObservers().filter(o=>o.name.startsWith(t.toLowerCase())||o.name.startsWith(t.toUpperCase()))),this.observers.sort((o,s)=>o.name.localeCompare(s.name)));else{this.observers=this.programAddService.getObservers(),i.target.classList.add("btn-default-active");for(const o of this.alphabet1.nativeElement.children)o.classList.remove("btn-default-active");for(const o of this.alphabet2.nativeElement.children)o.classList.remove("btn-default-active")}}search_by(t){this.observers=this.programAddService.getObservers().filter(i=>i.name.includes(t.target.value))}submit(){this.hasChanged&&this.programAddService.saveStep({observers:this.programObservers})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(I),e.Y36(c.qu),e.Y36(H.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-step2"]],viewQuery:function(t,i){if(1&t&&(e.Gf($o,5),e.Gf(Wo,5),e.Gf(Ko,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.alphabet1=o.first),e.iGM(o=e.CRH())&&(i.alphabet2=o.first),e.iGM(o=e.CRH())&&(i.alphabetAll=o.first)}},decls:108,vars:5,consts:[["id","addObserver",1,"bg-white","shadow-lg","popup","p-5","collapse",2,"z-index","3","top","10%",3,"formGroup"],[1,"mb-3"],["for","email",1,"mb-0"],[1,"text-danger"],["type","email","id","email","formControlName","email",1,"w-100"],["for","name",1,"mb-0"],["type","text","id","name","formControlName","name",1,"w-100"],["for","role",1,"mb-0"],["type","text","id","role","formControlName","role",1,"w-100"],[1,"d-flex","justify-content-between","mt-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapseCancel",1,"btn","btn-outline-primary",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapseAdd",1,"btn","btn-primary",3,"click"],[1,"container-fluid","px-xl-5"],["aria-label","alphabet",1,"container-flex"],[1,"row","justify-content-center"],[1,"col-2"],["type","button",1,"btn","btn-default","btn-default-active","text-primary","fw-bold","px-3",3,"click"],["alphabetAll",""],[1,"col-12","col-md-6","d-flex","justify-content-between","pr-md-2"],["alphabet1",""],["type","button",1,"btn","btn-default","text-primary","fw-bold","p-1",3,"click"],[1,"col-12","col-md-6","d-flex","justify-content-between","pl-md-2"],["alphabet2",""],[1,"card","container-fluid"],[1,"row"],[1,"col-12","col-md-2","d-flex","align-items-center","text-center"],[1,"col-12","col-md-10","d-flex","flex-wrap","flex-row","justify-content-center","align-items-center","py-3"],["class","text-center text-primary fw-bold w-100",4,"ngIf"],["class","bg-primary rounded-pill text-white my-1 mx-2 px-3 py-1",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"container","border","p-3"],["class","text-primary text-center fw-bold w-100",4,"ngIf"],["class","col-3 d-flex align-items-center overflow-hidden text-nowrap",4,"ngFor","ngForOf"],[1,"container-fluid","p-0","mb-3"],[1,"col-12","col-xl-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapse",1,"btn","btn-outline-primary","btn-block","py-2"],[1,"text-center","text-primary","fw-bold","w-100"],[1,"bg-primary","rounded-pill","text-white","my-1","mx-2","px-3","py-1"],[1,"text-primary","text-center","fw-bold","w-100"],[1,"col-3","d-flex","align-items-center","overflow-hidden","text-nowrap"],[3,"user","checked","disabled","addUser","removeUser"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"label",2),e._uU(3,"E-mail "),e.TgZ(4,"span",3),e._uU(5,"*"),e.qZA(),e._uU(6,":"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"div",1)(9,"label",5),e._uU(10,"Nome "),e.TgZ(11,"span",3),e._uU(12,"*"),e.qZA(),e._uU(13,":"),e.qZA(),e._UZ(14,"input",6),e.qZA(),e.TgZ(15,"div",1)(16,"label",7),e._uU(17,"Papel:"),e.qZA(),e._UZ(18,"input",8),e.qZA(),e.TgZ(19,"div",9)(20,"button",10),e.NdJ("click",function(){return i.addObserverForm.reset()}),e._uU(21,"Cancelar"),e.qZA(),e.TgZ(22,"button",11),e.NdJ("click",function(){return i.addObserver()}),e._uU(23,"Adicionar"),e.qZA()()(),e.TgZ(24,"div",12)(25,"div",13)(26,"div",14)(27,"div",15)(28,"button",16,17),e.NdJ("click",function(s){return i.filter_by("*",s)}),e._uU(30,"*"),e.qZA()()(),e.TgZ(31,"div",14)(32,"div",18,19)(34,"button",20),e.NdJ("click",function(s){return i.filter_by("a",s)}),e._uU(35,"A"),e.qZA(),e.TgZ(36,"button",20),e.NdJ("click",function(s){return i.filter_by("b",s)}),e._uU(37,"B"),e.qZA(),e.TgZ(38,"button",20),e.NdJ("click",function(s){return i.filter_by("c",s)}),e._uU(39,"C"),e.qZA(),e.TgZ(40,"button",20),e.NdJ("click",function(s){return i.filter_by("d",s)}),e._uU(41,"D"),e.qZA(),e.TgZ(42,"button",20),e.NdJ("click",function(s){return i.filter_by("e",s)}),e._uU(43,"E"),e.qZA(),e.TgZ(44,"button",20),e.NdJ("click",function(s){return i.filter_by("f",s)}),e._uU(45,"F"),e.qZA(),e.TgZ(46,"button",20),e.NdJ("click",function(s){return i.filter_by("g",s)}),e._uU(47,"G"),e.qZA(),e.TgZ(48,"button",20),e.NdJ("click",function(s){return i.filter_by("h",s)}),e._uU(49,"H"),e.qZA(),e.TgZ(50,"button",20),e.NdJ("click",function(s){return i.filter_by("i",s)}),e._uU(51,"I"),e.qZA(),e.TgZ(52,"button",20),e.NdJ("click",function(s){return i.filter_by("j",s)}),e._uU(53,"J"),e.qZA(),e.TgZ(54,"button",20),e.NdJ("click",function(s){return i.filter_by("k",s)}),e._uU(55,"K"),e.qZA(),e.TgZ(56,"button",20),e.NdJ("click",function(s){return i.filter_by("l",s)}),e._uU(57,"L"),e.qZA(),e.TgZ(58,"button",20),e.NdJ("click",function(s){return i.filter_by("m",s)}),e._uU(59,"M"),e.qZA()(),e.TgZ(60,"div",21,22)(62,"button",20),e.NdJ("click",function(s){return i.filter_by("n",s)}),e._uU(63,"N"),e.qZA(),e.TgZ(64,"button",20),e.NdJ("click",function(s){return i.filter_by("o",s)}),e._uU(65,"O"),e.qZA(),e.TgZ(66,"button",20),e.NdJ("click",function(s){return i.filter_by("p",s)}),e._uU(67,"P"),e.qZA(),e.TgZ(68,"button",20),e.NdJ("click",function(s){return i.filter_by("q",s)}),e._uU(69,"Q"),e.qZA(),e.TgZ(70,"button",20),e.NdJ("click",function(s){return i.filter_by("r",s)}),e._uU(71,"R"),e.qZA(),e.TgZ(72,"button",20),e.NdJ("click",function(s){return i.filter_by("s",s)}),e._uU(73,"S"),e.qZA(),e.TgZ(74,"button",20),e.NdJ("click",function(s){return i.filter_by("t",s)}),e._uU(75,"T"),e.qZA(),e.TgZ(76,"button",20),e.NdJ("click",function(s){return i.filter_by("u",s)}),e._uU(77,"U"),e.qZA(),e.TgZ(78,"button",20),e.NdJ("click",function(s){return i.filter_by("v",s)}),e._uU(79,"V"),e.qZA(),e.TgZ(80,"button",20),e.NdJ("click",function(s){return i.filter_by("w",s)}),e._uU(81,"W"),e.qZA(),e.TgZ(82,"button",20),e.NdJ("click",function(s){return i.filter_by("x",s)}),e._uU(83,"X"),e.qZA(),e.TgZ(84,"button",20),e.NdJ("click",function(s){return i.filter_by("y",s)}),e._uU(85,"Y"),e.qZA(),e.TgZ(86,"button",20),e.NdJ("click",function(s){return i.filter_by("z",s)}),e._uU(87,"Z"),e.qZA()()()(),e.TgZ(88,"form",23)(89,"div",24)(90,"div",25)(91,"span"),e._uU(92,"Voc\xea adicionou:"),e.qZA()(),e.TgZ(93,"div",26),e.YNc(94,Xo,2,0,"div",27),e.YNc(95,es,2,1,"div",28),e.qZA()()(),e.TgZ(96,"h5",29),e._uU(97,"Selecionar observadores"),e.qZA(),e.TgZ(98,"form",30)(99,"div",24),e.YNc(100,ts,2,0,"div",31),e.YNc(101,is,2,3,"div",32),e.qZA()(),e._UZ(102,"hr"),e.TgZ(103,"div",33)(104,"div",24)(105,"div",34)(106,"button",35),e._uU(107,"ADICIONAR OBSERVADORES"),e.qZA()()()()()),2&t&&(e.Q6J("formGroup",i.addObserverForm),e.xp6(94),e.Q6J("ngIf",!(null!=i.programObservers&&i.programObservers.length)),e.xp6(1),e.Q6J("ngForOf",i.programObservers),e.xp6(5),e.Q6J("ngIf",!(null!=i.observers&&i.observers.length)),e.xp6(1),e.Q6J("ngForOf",i.observers))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,c.F,h.O5,h.sg,ft],encapsulation:2}),r})();function rs(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"input",5),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().programAdditionalResources[a].toUse=o})("change",function(){const s=e.CHM(t).$implicit;return e.oxw().saveResource(s.id)}),e.qZA(),e.TgZ(3,"label",6),e._uU(4),e.qZA()()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(2),e.Q6J("ngModel",o.programAdditionalResources[i].toUse),e.xp6(2),e.hij(" ",o.getResourceName(t.id)," ")}}let os=(()=>{class r{constructor(t){this.programAddService=t,this.isOpenButtons=!0,this.programAdditionalResources=[],this.isOpenGroups=!0}ngOnInit(){this.programAdditionalResources=this.programAddService.program.programAdditionalResource,this.programAddService.getProgramObservable().subscribe(t=>{this.programAdditionalResources=t.programAdditionalResource})}openButtons(){this.isOpenButtons=!this.isOpenButtons}openGroups(){this.isOpenGroups=!this.isOpenGroups}saveResource(t){}getResourceName(t){for(let o=0;o<this.programAddService.additionalResource.length;o++)if(this.programAddService.additionalResource[o].id==t)return this.programAddService.additionalResource[o].title;return"Sem nome"}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-step-configuracao"]],decls:4,vars:1,consts:[[1,"container-fluid","w-90"],[1,"col-12","mt-3","ms-2","me-2","fw-bold"],["class","col-10 ms-4 me-2",4,"ngFor","ngForOf"],[1,"col-10","ms-4","me-2"],[1,"form-check"],["type","checkbox","id","flexCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexCheckDefault",1,"form-check-label"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Recursos que ser\xe3o utilizados pelo progama: "),e.qZA(),e.YNc(3,rs,5,2,"div",2),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngForOf",i.programAdditionalResources))},directives:[h.sg,c.Wl,c.JJ,c.On],encapsulation:2}),r})(),ss=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-discussion-groups"]],decls:30,vars:0,consts:[[1,"container-fluid","w-90"],[1,"col-12","mt-4","ms-2","me-2","fw-bold"],[1,"col-12","ms-4","me-2"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," Grupos de Discuss\xe3o Gerais "),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e._UZ(5,"input",4),e.TgZ(6,"label",5),e._uU(7," Habilitar um grupo de discuss\xe3o geral entre os participantes alvo. "),e.qZA()()(),e.TgZ(8,"div",2)(9,"div",3),e._UZ(10,"input",4),e.TgZ(11,"label",5),e._uU(12," Habilitar um grupo de discuss\xe3o geral entre os participantes c\xedrculo e os participantes alvo. "),e.qZA()()(),e.TgZ(13,"div",1),e._uU(14," Permiss\xe3o para envio de mensagens privadas "),e.qZA(),e.TgZ(15,"div",2)(16,"div",3),e._UZ(17,"input",4),e.TgZ(18,"label",5),e._uU(19," Permitir que os participantes alvo enviem mensagens privadas para os observadores "),e.qZA()()(),e.TgZ(20,"div",2)(21,"div",3),e._UZ(22,"input",4),e.TgZ(23,"label",5),e._uU(24," Permitir que os participantes alvo enviem mensagens privadas para os observadores "),e.qZA()()(),e.TgZ(25,"div",2)(26,"div",3),e._UZ(27,"input",4),e.TgZ(28,"label",5),e._uU(29," Permitir que os participantes c\xedrculo enviem mensagens privadas para os observadores "),e.qZA()()()())},encapsulation:2}),r})();function as(r,n){1&r&&(e.TgZ(0,"div",31),e._uU(1,"Participantes C\xedrculo que ser\xe3o notificados "),e.qZA())}function ls(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"p",33),e._uU(2),e.qZA(),e.TgZ(3,"fa-icon",34),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw().index;return e.oxw().removeCircle(s,a)}),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("icon",i.faMinus)}}function cs(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"button",17),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().changeButtonCollapse(s)}),e._uU(3),e.qZA(),e.TgZ(4,"fa-icon",18),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().removeButton(s)}),e.qZA()(),e.TgZ(5,"div",19)(6,"div",20)(7,"label"),e._uU(8,"T\xedtulo"),e.qZA(),e.TgZ(9,"input",21),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().arrayButtons[a].title=o})("change",function(){const s=e.CHM(t).index,a=e.oxw();return a.saveButton({title:a.arrayButtons[s].title},s)}),e.qZA()(),e.TgZ(10,"div",22)(11,"label"),e._uU(12,"R\xf3tulo do Bot\xe3o"),e.qZA(),e.TgZ(13,"input",21),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().arrayButtons[a].buttonLabel=o})("change",function(){const s=e.CHM(t).index,a=e.oxw();return a.saveButton({description:a.arrayButtons[s].description},s)}),e.qZA()(),e.TgZ(14,"div",22)(15,"label"),e._uU(16,"Tipo do Bot\xe3o"),e.qZA(),e.TgZ(17,"select",23)(18,"option",24),e._uU(19,"Alerta"),e.qZA(),e.TgZ(20,"option",25),e._uU(21,"Notifica\xe7\xe3o"),e.qZA()()(),e.TgZ(22,"div",22)(23,"label"),e._uU(24,"Descri\xe7\xe3o"),e.qZA(),e.TgZ(25,"textarea",26),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().arrayButtons[a].description=o})("change",function(){const s=e.CHM(t).index,a=e.oxw();return a.saveButton({description:a.arrayButtons[s].description},s)}),e.qZA()(),e.YNc(26,as,2,0,"div",27),e.YNc(27,ls,4,2,"div",28),e.TgZ(28,"div",29)(29,"button",30),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().addCircle(s)}),e._uU(30," Adicionar Participantes C\xedrculo "),e.qZA()()()()}if(2&r){const t=n.index,i=e.oxw();e.xp6(3),e.hij(" ",i.arrayButtons[t].title," "),e.xp6(1),e.Q6J("icon",i.faTras),e.xp6(1),e.Q6J("ngbCollapse",i.buttonsCollapse[t]),e.xp6(4),e.Q6J("ngModel",i.arrayButtons[t].title),e.xp6(4),e.Q6J("ngModel",i.arrayButtons[t].buttonLabel),e.xp6(12),e.Q6J("ngModel",i.arrayButtons[t].description),e.xp6(1),e.Q6J("ngIf",i.arrayButtons[t].circleType.length>0),e.xp6(1),e.Q6J("ngForOf",i.arrayButtons[t].circleType)}}function ds(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"div",37),e._uU(2),e.qZA(),e.TgZ(3,"div",38)(4,"input",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().saveCircle(o)})("ngModelChange",function(o){e.CHM(t);const s=e.oxw().index;return e.oxw().booleanCircleType[s]=o}),e.qZA()()()}if(2&r){const t=e.oxw().index,i=e.oxw();e.xp6(2),e.hij(" ",i.listCircleType[t].description," "),e.xp6(2),e.Q6J("ngModel",i.booleanCircleType[t])}}function us(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ds,5,2,"div",35),e.qZA()),2&r){const t=n.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.booleanCircleType[t])}}let ps=(()=>{class r{constructor(t,i){this.programAdd=t,this.dao=i,this.arrayButtons=[],this.buttonsCollapse=[],this.listCircleType=[],this.booleanCircleType=[],this.faTras=m.I7k,this.faMinus=m.uMC,this.program_id=-1,this.geted=!1,this.posButton=0}ngOnInit(){this.program_id=this.programAdd.program.id,this.dao.getNewObject(p.jn,{}).subscribe(t=>{this.listCircleType=t}),this.geted=!1,this.getButtons(),this.programAdd.getProgramObservable().subscribe(t=>{this.program_id=t.id,this.getButtons()})}getButtons(){-1!=this.program_id&&!this.geted&&(this.geted=!0,this.dao.getNewObject(p.PP,{program:this.program_id}).subscribe(t=>{this.arrayButtons=t;for(let i=0;i<this.arrayButtons.length;i++)this.buttonsCollapse.push(!0)}))}saveButton(t={},i){t.id=this.arrayButtons[i].id,this.dao.patchObject(p.PP,t).subscribe(o=>{})}addButton(){this.dao.postObject(p.PP,{type:"N",buttonLabel:"Notificar",title:"Bot\xe3o sem t\xedtulo",description:"",program:this.programAdd.program.id}).subscribe(i=>{this.arrayButtons.push(i),this.buttonsCollapse.push(!1)})}changeButtonCollapse(t){this.buttonsCollapse[t]=!this.buttonsCollapse[t]}removeButton(t){this.dao.deleteObject(p.PP,this.arrayButtons[t].id.toString()).subscribe(i=>{this.buttonsCollapse.splice(t,1),this.arrayButtons.splice(t,1)})}removeCircle(t,i){this.arrayButtons[i].circleType.splice(t,1),this.saveButton({circleType:this.arrayButtons[i].circleType},i)}addCircle(t){this.posButton=t,this.booleanCircleType=[];for(let i=0;i<this.listCircleType.length;i++)this.booleanCircleType.push(this.isSelected(i))}isSelected(t=0){let i=!1;return this.arrayButtons[this.posButton].circleType.forEach(o=>{o.id==this.listCircleType[t].id&&(i=!0)}),i}saveCircle(t){this.arrayButtons[this.posButton].circleType.push(this.listCircleType[t]),this.saveButton({circleType:this.arrayButtons[this.posButton].circleType},this.posButton)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I),e.Y36(T.j))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-comunicate-buttons"]],decls:20,vars:2,consts:[["class","row border border-success mt-2 mb-2 ms-2 me-2",4,"ngFor","ngForOf"],[1,"col-12","mt-3","mb-2","d-flex","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click"],["id","exampleModal","tabindex","3","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"container-fluid"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success"],[1,"row","border","border-success","mt-2","mb-2","ms-2","me-2"],[1,"col-12","d-flex","bg-primary","text-white","justify-content-between","align-items-center"],["data-bs-toggle","collapse",1,"btn","text-white","fw-bold","text-uppercase",3,"click"],[1,"text-white",3,"icon","click"],[1,"row","ms-2","me-2",3,"ngbCollapse"],[1,"col-12"],["type","text",1,"w-100",3,"ngModel","ngModelChange","change"],[1,"col-12","mt-3"],["id","inputGroupSelect01",1,"form-select"],["value","A"],["value","N"],["rows","2",1,"w-100",3,"ngModel","ngModelChange","change"],["class","col-12 d-flex justify-content-center bg-light mt-2 mb-2",4,"ngIf"],["class","col-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"col-12","mt-3","mb-3","d-flex","justify-content-center"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-light","btn-outline-secondary","fw-bold",3,"click"],[1,"col-12","d-flex","justify-content-center","bg-light","mt-2","mb-2"],[1,"col-3","d-flex","justify-content-center"],[1,"text-uppercase"],[1,"text-danger","ml-1",3,"icon","click"],["class","row",4,"ngIf"],[1,"row"],[1,"col-10"],[1,"col-2","d-flex","justify-content-center"],["type","checkbox",1,"form-check-input",3,"ngModel","click","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div"),e.YNc(1,cs,31,8,"div",0),e.TgZ(2,"div",1)(3,"button",2),e.NdJ("click",function(){return i.addButton()}),e._uU(4,"Criar novo Bot\xe3o de Alerta ou Notifica\xe7\xe3o"),e.qZA()()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"h3",7),e._uU(10,"Selecione os Participantes C\xedrculo"),e.qZA(),e.TgZ(11,"button",8)(12,"span",9),e._uU(13,"\xd7"),e.qZA()()(),e.TgZ(14,"div",10)(15,"div",11),e.YNc(16,us,2,1,"div",12),e.qZA()(),e.TgZ(17,"div",13)(18,"button",14),e._uU(19,"Fechar"),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.arrayButtons),e.xp6(15),e.Q6J("ngForOf",i.listCircleType))},directives:[h.sg,w.BN,x._D,c.Fj,c.JJ,c.On,c.YN,c.Kr,h.O5,c.Wl],encapsulation:2}),r})();const hs=["e"];let ms=(()=>{class r{constructor(t,i,o,s,a,l){this.programAddService=t,this.formBuilder=i,this.router=o,this.dateConverterService=s,this.ngbCalendar=a,this.dateAdapter=l,this.calendar=m.fT7,this.arrowRight=m.eFW,this.arrowLeft=m.acZ,this.subSink=new ee,this.programInformationForm=this.formBuilder.group({title:["",[c.kI.required]],description:[""],isPublic:[!1],beginDate:["",[c.kI.required]],beginTime:[{hour:0,minute:0,second:0}],endDate:[""],endTime:[{hour:0,minute:0,second:0}]})}setBeginDate(t){this.programInformationForm.value.beginDate=this.dateConverterService.toString(t),this.updateField("starts")}setEndDate(t){this.programInformationForm.value.endDate=this.dateConverterService.toString(t),this.updateField("ends")}get invalidTitle(){const t=this.programInformationForm.get("title");return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)}get invalidBeginDate(){const t=this.programInformationForm.get("beginDate");return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)}ngOnDestroy(){this.subSink.unsubscribe()}setProgram(t){if(console.log("Setou o programa ",t),!t)return;const i=Number.parseInt(t.starts),o=Number.parseInt(t.ends);let s=new Date,a=new Date;isNaN(i)||(s=this.dateConverterService.fromUnixTimeStamp(Number.parseInt(t.starts))),isNaN(o)||(a=this.dateConverterService.fromUnixTimeStamp(Number.parseInt(t.ends))),this.programInformationForm=this.formBuilder.group({title:[t.title,[c.kI.required]],description:[t.description],isPublic:[t.isPublic],beginDate:[isNaN(i)?null:this.dateConverterService.toStrDate(s),[c.kI.required]],beginTime:[isNaN(i)?null:this.dateConverterService.toNgbTime(s)],endDate:[isNaN(o)?null:this.dateConverterService.toStrDate(a)],endTime:[isNaN(o)?null:this.dateConverterService.toNgbTime(a)]}),console.log(this.programInformationForm)}ngOnInit(){this.setProgram(this.programAddService.program),this.programAddService.getProgramObservable().subscribe(i=>this.setProgram(i))}updateField(t){var i,o,s,a,l;let u={};if("starts"==t){if(null==this.programInformationForm.get("beginDate").value||null==(null===(i=this.programInformationForm.get("beginTime"))||void 0===i?void 0:i.value))return;{let d=this.dateConverterService.parse(this.programInformationForm.get("beginDate").value);u.starts=this.dateConverterService.toUnixTimeStamp(d,null===(o=this.programInformationForm.get("beginTime"))||void 0===o?void 0:o.value)}}else if("ends"==t){if(null==this.programInformationForm.get("endDate").value||null==(null===(s=this.programInformationForm.get("endTime"))||void 0===s?void 0:s.value))return;{let d=this.dateConverterService.parse(this.programInformationForm.get("endDate").value);u.ends=this.dateConverterService.toUnixTimeStamp(d,null===(a=this.programInformationForm.get("endTime"))||void 0===a?void 0:a.value)}}else u[t]=null===(l=this.programInformationForm.get(t))||void 0===l?void 0:l.value;this.programAddService.saveStep(u)}submit(){this.programInformationForm.valid?this.router.navigate([this.router.url.substring(0,this.router.url.lastIndexOf("/"))+"/second"]).then():this.programInformationForm.markAllAsTouched()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I),e.Y36(c.qu),e.Y36(k.F0),e.Y36(te.T3),e.Y36(x.vL),e.Y36(x.DO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-step1"]],viewQuery:function(t,i){if(1&t&&e.Gf(hs,5),2&t){let o;e.iGM(o=e.CRH())&&(i.endDateComponent=o.first)}},decls:39,vars:3,consts:[[1,"container-fluid","w-90",3,"formGroup"],[1,"form-row","form-group"],[1,"col"],["for","program-name"],[1,"text-danger"],["id","program-name","type","text","placeholder","Nome do programa","formControlName","title",1,"d-block","w-100","form-control",3,"change"],[1,"form-row","form-group","mt-2"],["for","program-description"],["name","program-description","id","program-description","rows","1","placeholder","Descri\xe7\xe3o do programa","formControlName","description",1,"d-block","w-100",3,"change"],[1,"form-group","mt-3"],["type","checkbox","name","program-checkbox","id","program-checkbox","formControlName","isPublic",3,"change"],["for","program-checkbox"],[1,"col-12","d-flex","justify-content-center","fw-bold","mt-3"],[1,"container-fluid","mt-3"],["id","myTab","role","tablist",1,"nav","nav-pills"],["role","presentation",1,"nav-item"],["id","home-tab","data-bs-toggle","tab","href","#editores","role","tab","aria-controls","home","aria-selected","true",1,"nav-link","active"],["id","profile-tab","data-bs-toggle","tab","href","#recursos","role","tab","aria-controls","profile","aria-selected","false",1,"nav-link"],["id","contact-tab","data-bs-toggle","tab","href","#botoes","role","tab","aria-controls","contact","aria-selected","false",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","editores","role","tabpanel","aria-labelledby","home-tab",1,"tab-pane","active","border","border-primary"],["id","recursos","role","tabpanel","aria-labelledby","profile-tab",1,"tab-pane","border","border-primary"],["id","botoes","role","tabpanel","aria-labelledby","contact-tab",1,"tab-pane","border","border-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Nome do programa "),e.TgZ(5,"b",4),e._uU(6,"*"),e.qZA(),e._uU(7,":"),e.qZA(),e.TgZ(8,"input",5),e.NdJ("change",function(){return i.updateField("title")}),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",2)(11,"label",7),e._uU(12,"Descri\xe7\xe3o do programa:"),e.qZA(),e.TgZ(13,"textarea",8),e.NdJ("change",function(){return i.updateField("description")}),e.qZA()()(),e.TgZ(14,"div",9)(15,"input",10),e.NdJ("change",function(){return i.updateField("isPublic")}),e.qZA(),e.TgZ(16,"label",11),e._uU(17,"Programa p\xfablico"),e.qZA()()(),e.TgZ(18,"div",12),e._uU(19,"Defini\xe7\xf5es do Programa"),e.qZA(),e.TgZ(20,"div",13)(21,"ul",14)(22,"li",15)(23,"a",16),e._uU(24,"Editores"),e.qZA()(),e.TgZ(25,"li",15)(26,"a",17),e._uU(27,"Recursos Adicionais"),e.qZA()(),e.TgZ(28,"li",15)(29,"a",18),e._uU(30,"Bot\xf5es de Alerta"),e.qZA()()(),e.TgZ(31,"div",19)(32,"div",20),e._UZ(33,"esm-step2"),e.qZA(),e.TgZ(34,"div",21),e._UZ(35,"app-step-configuracao")(36,"app-discussion-groups"),e.qZA(),e.TgZ(37,"div",22),e._UZ(38,"app-comunicate-buttons"),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.programInformationForm),e.xp6(8),e.ekj("is-invalid",i.invalidTitle))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,c.Wl,ns,os,ss,ps],encapsulation:2}),r})(),Z=(()=>{class r{constructor(t,i,o,s){this.router=t,this.route=i,this.canal=o,this.dao=s,this.program_id=0,this.lastInteractedIntervention=-1,this.firstIntervention=0,this.hasMultiplePaths=!1,this.graphElements=[],this.interventionElementsGraph=[],this.newInterventions$=new f.x,this.removeIntervention$=new f.x,this.redrawGraph$=new f.x,this.initGraph$=new f.x,this.firstInterventionChange$=new f.x,this.outUpdateChange$=new f.x,this.chamouCanal=!1}init(t,i,o){this.program_id=t,this.event=i,o.length>0?this.updateInterventions(o):(this.lastInteractedIntervention=-1,this.firstIntervention=0,this.graphElements=[],this.graphElements.push(new xe(new P)),this.interventionElementsGraph=[],this.interventionElementsGraph.push([0])),this.typeObject=i instanceof U?"event":"customCircle",this.canal.getData$.subscribe(s=>this.updateGraph(s))}updateGraph(t){let i=t.payload.message;if(i.model==this.typeObject&&i.id==this.event.id)for(let o in i)if("model"!=o&&"id"!=o)if("addIntervention"==o){let s=!0;for(let a=1;a<this.graphElements.length;a++)this.graphElements[a].intervention.id==i[o].id&&(s=!1);if(s){let a=P.factory([i.addIntervention.intervention])[0];this.sincGraph(new xe(a))}}else if("delIntervention"==o){let s=-1;for(let a=1;a<this.graphElements.length;a++)this.graphElements[a].intervention.id==i[o]&&(s=a);if(s>0){this.graphElements.splice(s,1),this.interventionElementsGraph.splice(s,1);for(let a=1;a<this.interventionElementsGraph.length;a++){let l=0;for(;l<this.interventionElementsGraph[a].length;)this.interventionElementsGraph[a][l]===s?this.interventionElementsGraph[a][l]=0:this.interventionElementsGraph[a][l]>s&&this.interventionElementsGraph[a][l]--,l++;this.graphElements[a].intervention.next={next:this.interventionElementsGraph[a]};let u={};u.id=this.graphElements[a].intervention.id,u.next=this.graphElements[a].intervention.next,this.dao.patchObject(p._,u).subscribe(d=>{})}this.removeIntervention$.next(s),this.redrawGraph$.next()}}}set first(t){this.firstIntervention=t,this.redrawGraph$.next(),this.firstInterventionChange$.next(t)}updateInterventions(t){t.sort((o,s)=>o.orderPosition<s.orderPosition?-1:o.orderPosition>s.orderPosition?1:0);const i=[];for(let o=0;o<t.length;o++)i[t[o].orderPosition]=o+1;i[0]=0,this.graphElements=[new xe(new P)].concat(t.map(o=>{const s=new xe(o);return s.onChange$.subscribe(a=>this.redrawGraph$.next()),s})),this.firstIntervention=this.graphElements.findIndex(o=>!0===o.first),this.interventionElementsGraph=[],this.interventionElementsGraph.push([0]);for(let o=1;o<this.graphElements.length;o++)this.interventionElementsGraph[o]=null!=this.graphElements[o].intervention.next.next?this.graphElements[o].intervention.next.next:[0]}createGraph(){for(let t=1;t<this.graphElements.length;t++)this.newInterventions$.next({graphIndex:t,intervention:this.graphElements[t]})}sincGraph(t){let i=!1;for(let o=1;o<this.graphElements.length;o++)this.graphElements[o].intervention.id==t.intervention.id&&(i=!0);i?console.log("achou um id igual.."):(-1!==this.lastInteractedIntervention?this.interventionElementsGraph[this.lastInteractedIntervention]=[this.interventionElementsGraph.length]:this.firstIntervention=1,this.interventionElementsGraph.push([0]),this.graphElements.push(t),this.newInterventions$.next({graphIndex:this.graphElements.length-1,intervention:t}),this.redrawGraph$.next(),t.onChange$.subscribe(o=>this.redrawGraph$.next()))}addIntervention(t){if(-1===this.lastInteractedIntervention&&(t.first=!0),t.intervention._x=340.5*(this.graphElements.length-1),t.intervention._y=50,t.intervention.next={next:[0]},t.intervention.orderPosition=this.graphElements.length,-1!==this.lastInteractedIntervention){this.graphElements[this.lastInteractedIntervention].intervention.next={next:[this.interventionElementsGraph.length]};let s=this.graphElements[this.lastInteractedIntervention].intervention;this.dao.patchObject(p._,{id:s.id,next:s.next}).subscribe(l=>{})}"event"==this.typeObject?this.dao.postObject(p._,{intervention:t.intervention,event:this.event.id}).subscribe(s=>{t.intervention.id=s.id,this.broadcastAddIntervention(t)}):this.dao.postObject(p._,{intervention:t.intervention,customCircle:this.event.id}).subscribe(s=>{t.intervention.id=s.id,this.broadcastAddIntervention(t)})}broadcastAddIntervention(t){let i={};i.model=this.typeObject,i.id=this.event.id,i.addIntervention=t,this.canal.sendMessage(i)}removeIntervention(t){let i={};i.model=this.typeObject,i.id=this.event.id,i.delIntervention=this.graphElements[t].intervention.id,"event"==this.typeObject?this.dao.patchObject(p.e6,{id:this.event.id,delIntervention:i.delIntervention}).subscribe(o=>{this.canal.sendMessage(i)}):this.dao.patchObject(p.QF,{id:this.event.id,delIntervention:i.delIntervention}).subscribe(o=>{this.canal.sendMessage(i)})}finish(){this.graphElements=[],this.graphElements.length=0,this.interventionElementsGraph=[[]],this.interventionElementsGraph.length=0,this.typeObject=""}graphElement(t){return this.graphElements[t]}setNextFromTo(t,i){this.hasArrow(t,i)||(this.interventionElementsGraph[t].push(i),this.redrawGraph$.next())}hasArrow(t,i){for(const o of this.interventionElementsGraph[t])if(o===i)return!0;return!1}removeEdges(t,i=!0){this.interventionElementsGraph[t]=[],i&&this.redrawGraph$.next()}warnCycle(t){}setFirst(t){this.firstIntervention=t,this.redrawGraph$.next(),this.firstInterventionChange$.next(t)}saveUpdate(t={id:-1}){t.id>0&&this.dao.patchObject(p._,t).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(k.F0),e.LFG(k.gz),e.LFG(B),e.LFG(T.j))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class xe{constructor(n){this.intervention=n,this.onChange$=new f.x}get x(){return this.intervention._x}set x(n){n!==this.intervention._x&&(this.intervention._x=n,this.onChange$.next(this))}get y(){return this.intervention._y}set y(n){n!==this.intervention._y&&(this.intervention._y=n,this.onChange$.next(this))}get width(){return this.intervention._width}set width(n){n!==this.intervention._width&&(this.intervention._width=n,this.onChange$.next(this))}get height(){return this.intervention._height}set height(n){n!==this.intervention._height&&(this.intervention._height=n,this.onChange$.next(this))}get type(){var n;return null===(n=this.intervention)||void 0===n?void 0:n.type}get questionType(){if(this.intervention instanceof Q)return this.intervention.questionType}get statement(){return this.intervention.statement}set statement(n){this.intervention.statement=n}get orderPosition(){return this.intervention.orderPosition}set orderPosition(n){this.intervention.orderPosition=n}get typeDescription(){var n;return null===(n=this.intervention)||void 0===n?void 0:n.getTypeDescription()}get first(){return this.intervention.first}set first(n){this.intervention.first=n}get obligatory(){return this.intervention.obligatory}set obligatory(n){this.intervention.obligatory=n}get top(){return{x:this.x+this.width/2,y:this.y}}get bottom(){return{x:this.x+this.width/2,y:this.y+this.height}}get left(){return{x:this.x,y:this.y+this.height/2}}get right(){return{x:this.x+this.width,y:this.y+this.height/2}}}var vi=_(5963),bi=_(4408);const ye={schedule(r){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=ye;i&&(n=i.requestAnimationFrame,t=i.cancelAnimationFrame);const o=n(s=>{t=void 0,r(s)});return new F.w0(()=>null==t?void 0:t(o))},requestAnimationFrame(...r){const{delegate:n}=ye;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=ye;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...r)},delegate:void 0};var Ci=_(7565);const xi=new class fs extends Ci.v{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===t&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===t&&i.shift();)n.unsubscribe();throw o}}}(class _s extends bi.o{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,i=0){return null!==i&&i>0?super.requestAsyncId(n,t,i):(n.actions.push(this),n._scheduled||(n._scheduled=ye.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,t,i);n.actions.some(o=>o.id===t)||(ye.cancelAnimationFrame(t),n._scheduled=void 0)}});var yi=_(6451);let vt,vs=1;const Re={};function Ti(r){return r in Re&&(delete Re[r],!0)}const bs={setImmediate(r){const n=vs++;return Re[n]=!0,vt||(vt=Promise.resolve()),vt.then(()=>Ti(n)&&r()),n},clearImmediate(r){Ti(r)}},{setImmediate:Cs,clearImmediate:xs}=bs,Ue={setImmediate(...r){const{delegate:n}=Ue;return((null==n?void 0:n.setImmediate)||Cs)(...r)},clearImmediate(r){const{delegate:n}=Ue;return((null==n?void 0:n.clearImmediate)||xs)(r)},delegate:void 0};new class Ts extends Ci.v{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;n=n||i.shift();do{if(o=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===t&&i.shift());if(this._active=!1,o){for(;(n=i[0])&&n.id===t&&i.shift();)n.unsubscribe();throw o}}}(class ys extends bi.o{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,i=0){return null!==i&&i>0?super.requestAsyncId(n,t,i):(n.actions.push(this),n._scheduled||(n._scheduled=Ue.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,t,i);n.actions.some(o=>o.id===t)||(Ue.clearImmediate(t),n._scheduled=void 0)}});var Ss=_(8421);let Es=(()=>{class r{constructor(t,i,o){this._platform=t,this._change=new f.x,this._changeListener=s=>{this._change.next(s)},this._document=o,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),o=t.documentElement,s=o.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||o.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||o.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function ks(r,n=He.z){return function As(r){return(0,Pt.e)((n,t)=>{let i=!1,o=null,s=null,a=!1;const l=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const d=o;o=null,t.next(d)}a&&t.complete()},u=()=>{s=null,a&&t.complete()};n.subscribe((0,Ye.x)(t,d=>{i=!0,o=d,s||(0,Ss.Xf)(r(d)).subscribe(s=(0,Ye.x)(t,l,u))},()=>{a=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>(0,vi.H)(r,n))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ne),e.LFG(e.R0b),e.LFG(h.K0,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Zs=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();function bt(r,n,t){for(let i in n)if(n.hasOwnProperty(i)){const o=n[i];o?r.setProperty(i,o,(null==t?void 0:t.has(i))?"important":""):r.removeProperty(i)}return r}function de(r,n){const t=n?"":"none";bt(r.style,{"touch-action":n?"":"none","-webkit-user-drag":n?"":"none","-webkit-tap-highlight-color":n?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function wi(r,n,t){bt(r.style,{position:n?"":"fixed",top:n?"":"0",opacity:n?"":"0",left:n?"":"-999em"},t)}function qe(r,n){return n&&"none"!=n?r+" "+n:r}function Si(r){const n=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*n}function Ct(r,n){return r.getPropertyValue(n).split(",").map(i=>i.trim())}function xt(r){const n=r.getBoundingClientRect();return{top:n.top,right:n.right,bottom:n.bottom,left:n.left,width:n.width,height:n.height,x:n.x,y:n.y}}function yt(r,n,t){const{top:i,bottom:o,left:s,right:a}=r;return t>=i&&t<=o&&n>=s&&n<=a}function Te(r,n,t){r.top+=n,r.bottom=r.top+r.height,r.left+=t,r.right=r.left+r.width}function Ai(r,n,t,i){const{top:o,right:s,bottom:a,left:l,width:u,height:d}=r,g=u*n,v=d*n;return i>o-v&&i<a+v&&t>l-g&&t<s+g}class ki{constructor(n){this._document=n,this.positions=new Map}clear(){this.positions.clear()}cache(n){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),n.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:xt(t)})})}handleScroll(n){const t=q(n),i=this.positions.get(t);if(!i)return null;const o=i.scrollPosition;let s,a;if(t===this._document){const d=this.getViewportScrollPosition();s=d.top,a=d.left}else s=t.scrollTop,a=t.scrollLeft;const l=o.top-s,u=o.left-a;return this.positions.forEach((d,g)=>{d.clientRect&&t!==g&&t.contains(g)&&Te(d.clientRect,l,u)}),o.top=s,o.left=a,{top:l,left:u}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Ii(r){const n=r.cloneNode(!0),t=n.querySelectorAll("[id]"),i=r.nodeName.toLowerCase();n.removeAttribute("id");for(let o=0;o<t.length;o++)t[o].removeAttribute("id");return"canvas"===i?Di(r,n):("input"===i||"select"===i||"textarea"===i)&&Zi(r,n),Ei("canvas",r,n,Di),Ei("input, textarea, select",r,n,Zi),n}function Ei(r,n,t,i){const o=n.querySelectorAll(r);if(o.length){const s=t.querySelectorAll(r);for(let a=0;a<o.length;a++)i(o[a],s[a])}}let Ps=0;function Zi(r,n){"file"!==n.type&&(n.value=r.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${Ps++}`)}function Di(r,n){const t=n.getContext("2d");if(t)try{t.drawImage(r,0,0)}catch(i){}}const Pi=oe({passive:!0}),Le=oe({passive:!1}),Tt=new Set(["position"]);class Os{constructor(n,t,i,o,s,a){this._config=t,this._document=i,this._ngZone=o,this._viewportRuler=s,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new f.x,this._pointerMoveSubscription=F.w0.EMPTY,this._pointerUpSubscription=F.w0.EMPTY,this._scrollSubscription=F.w0.EMPTY,this._resizeSubscription=F.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new f.x,this.started=new f.x,this.released=new f.x,this.ended=new f.x,this.entered=new f.x,this.exited=new f.x,this.dropped=new f.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const u=this._handles.find(d=>l.target&&(l.target===d||d.contains(l.target)));u&&!this._disabledHandles.has(u)&&!this.disabled&&this._initializeDragSequence(u,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const u=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(u.x-this._pickupPositionOnPage.x)+Math.abs(u.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const M=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),ie=this._dropContainer;if(!M)return void this._endDragSequence(l);(!ie||!ie.isDragging()&&!ie.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),l.preventDefault();const d=this._getConstrainedPointerPosition(u);if(this._hasMoved=!0,this._lastKnownPointerPosition=u,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,u);else{const g=this._activeTransform;g.x=d.x-this._pickupPositionOnPage.x+this._passiveTransform.x,g.y=d.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(g.x,g.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this.withRootElement(n).withParent(t.parentDragRef||null),this._parentPositions=new ki(i),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(n){const t=L(n);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(i=>de(i,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(n){this._handles=n.map(i=>A(i)),this._handles.forEach(i=>de(i,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&t.add(i)}),this._disabledHandles=t,this}withPreviewTemplate(n){return this._previewTemplate=n,this}withPlaceholderTemplate(n){return this._placeholderTemplate=n,this}withRootElement(n){const t=A(n);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Le),t.addEventListener("touchstart",this._pointerDown,Pi),t.addEventListener("dragstart",Fi,Le)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(n){return this._boundaryElement=n?A(n):null,this._resizeSubscription.unsubscribe(),n&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(n){return this._parentDragRef=n,this}dispose(){var n,t;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(n=this._rootElement)||void 0===n||n.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(n){!this._disabledHandles.has(n)&&this._handles.indexOf(n)>-1&&(this._disabledHandles.add(n),de(n,!0))}enableHandle(n){this._disabledHandles.has(n)&&(this._disabledHandles.delete(n),de(n,this.disabled))}withDirection(n){return this._direction=n,this}_withDropContainer(n){this._dropContainer=n}getFreeDragPosition(){const n=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:n.x,y:n.y}}setFreeDragPosition(n){return this._activeTransform={x:0,y:0},this._passiveTransform.x=n.x,this._passiveTransform.y=n.y,this._dropContainer||this._applyRootElementTransform(n.x,n.y),this}withPreviewContainer(n){return this._previewContainer=n,this}_sortFromLastPointerPosition(){const n=this._lastKnownPointerPosition;n&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(n),n)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var n,t;null===(n=this._preview)||void 0===n||n.remove(),null===(t=this._previewRef)||void 0===t||t.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var n,t;null===(n=this._placeholder)||void 0===n||n.remove(),null===(t=this._placeholderRef)||void 0===t||t.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(n){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(n),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(n);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(n){we(n)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),wi(i,!1,Tt),this._document.body.appendChild(o.replaceChild(s,i)),this._getPreviewInsertionPoint(o,l).appendChild(this._preview),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(n,t){this._parentDragRef&&t.stopPropagation();const i=this.isDragging(),o=we(t),s=!o&&0!==t.button,a=this._rootElement,l=q(t),u=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=o?Ge(t):Ve(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||u||d)return;if(this._handles.length){const y=a.style;this._rootElementTapHighlight=y.webkitTapHighlightColor||"",y.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(y=>this._updateOnScroll(y)),this._boundaryElement&&(this._boundaryRect=xt(this._boundaryElement));const g=this._previewTemplate;this._pickupPositionInElement=g&&g.template&&!g.matchSize?{x:0,y:0}:this._getPointerPositionInElement(n,t);const v=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:v.x,y:v.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(n){wi(this._rootElement,!0,Tt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),o=this._getPointerPositionOnPage(n),s=this._getDragDistance(o),a=t._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:s,dropPoint:o}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:s,dropPoint:o}),t.drop(this,i,this._initialIndex,this._initialContainer,a,s,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:n,y:t},{x:i,y:o}){let s=this._initialContainer._getSiblingContainerFromPosition(this,n,t);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,t)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=s,this._dropContainer.enter(this,n,t,s===this._initialContainer&&s.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:s,currentIndex:s.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,o),this._dropContainer._sortItem(this,n,t,this._pointerDirectionDelta),this._applyPreviewTransform(n-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const n=this._previewTemplate,t=this.previewClass,i=n?n.template:null;let o;if(i&&n){const s=n.matchSize?this._rootElement.getBoundingClientRect():null,a=n.viewContainer.createEmbeddedView(i,n.context);a.detectChanges(),o=Oi(a,this._document),this._previewRef=a,n.matchSize?Ni(o,s):o.style.transform=Je(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const s=this._rootElement;o=Ii(s),Ni(o,s.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return bt(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Tt),de(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(s=>o.classList.add(s)):o.classList.add(t)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const n=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(n.left,n.top);const t=function Ds(r){const n=getComputedStyle(r),t=Ct(n,"transition-property"),i=t.find(l=>"transform"===l||"all"===l);if(!i)return 0;const o=t.indexOf(i),s=Ct(n,"transition-duration"),a=Ct(n,"transition-delay");return Si(s[o])+Si(a[o])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const o=a=>{var l;(!a||q(a)===this._preview&&"transform"===a.propertyName)&&(null===(l=this._preview)||void 0===l||l.removeEventListener("transitionend",o),i(),clearTimeout(s))},s=setTimeout(o,1.5*t);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const n=this._placeholderTemplate,t=n?n.template:null;let i;return t?(this._placeholderRef=n.viewContainer.createEmbeddedView(t,n.context),this._placeholderRef.detectChanges(),i=Oi(this._placeholderRef,this._document)):i=Ii(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(n,t){const i=this._rootElement.getBoundingClientRect(),o=n===this._rootElement?null:n,s=o?o.getBoundingClientRect():i,a=we(t)?t.targetTouches[0]:t,l=this._getViewportScrollPosition();return{x:s.left-i.left+(a.pageX-s.left-l.left),y:s.top-i.top+(a.pageY-s.top-l.top)}}_getPointerPositionOnPage(n){const t=this._getViewportScrollPosition(),i=we(n)?n.touches[0]||n.changedTouches[0]||{pageX:0,pageY:0}:n,o=i.pageX-t.left,s=i.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=o,l.y=s,l.matrixTransform(a.inverse())}}return{x:o,y:s}}_getConstrainedPointerPosition(n){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:o}=this.constrainPosition?this.constrainPosition(n,this):n;if("x"===this.lockAxis||"x"===t?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:s,y:a}=this._pickupPositionInElement,l=this._boundaryRect,u=this._previewRect,d=l.top+a,g=l.bottom-(u.height-a);i=Mi(i,l.left+s,l.right-(u.width-s)),o=Mi(o,d,g)}return{x:i,y:o}}_updatePointerDirectionDelta(n){const{x:t,y:i}=n,o=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-s.x),l=Math.abs(i-s.y);return a>this._config.pointerDirectionChangeThreshold&&(o.x=t>s.x?1:-1,s.x=t),l>this._config.pointerDirectionChangeThreshold&&(o.y=i>s.y?1:-1,s.y=i),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const n=this._handles.length>0||!this.isDragging();n!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=n,de(this._rootElement,n))}_removeRootElementListeners(n){n.removeEventListener("mousedown",this._pointerDown,Le),n.removeEventListener("touchstart",this._pointerDown,Pi),n.removeEventListener("dragstart",Fi,Le)}_applyRootElementTransform(n,t){const i=Je(n,t),o=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=o.transform&&"none"!=o.transform?o.transform:""),o.transform=qe(i,this._initialTransform)}_applyPreviewTransform(n,t){var i;const o=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,s=Je(n,t);this._preview.style.transform=qe(s,o)}_getDragDistance(n){const t=this._pickupPositionOnPage;return t?{x:n.x-t.x,y:n.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:n,y:t}=this._passiveTransform;if(0===n&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===o.width&&0===o.height)return;const s=i.left-o.left,a=o.right-i.right,l=i.top-o.top,u=o.bottom-i.bottom;i.width>o.width?(s>0&&(n+=s),a>0&&(n-=a)):n=0,i.height>o.height?(l>0&&(t+=l),u>0&&(t-=u)):t=0,(n!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:n})}_getDragStartDelay(n){const t=this.dragStartDelay;return"number"==typeof t?t:we(n)?t.touch:t?t.mouse:0}_updateOnScroll(n){const t=this._parentPositions.handleScroll(n);if(t){const i=q(n);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Te(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var n;return(null===(n=this._parentPositions.positions.get(this._document))||void 0===n?void 0:n.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Qe(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(n,t){const i=this._previewContainer||"global";if("parent"===i)return n;if("global"===i){const o=this._document;return t||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return A(i)}}function Je(r,n){return`translate3d(${Math.round(r)}px, ${Math.round(n)}px, 0)`}function Mi(r,n,t){return Math.max(n,Math.min(t,r))}function we(r){return"t"===r.type[0]}function Oi(r,n){const t=r.rootNodes;if(1===t.length&&t[0].nodeType===n.ELEMENT_NODE)return t[0];const i=n.createElement("div");return t.forEach(o=>i.appendChild(o)),i}function Ni(r,n){r.style.width=`${n.width}px`,r.style.height=`${n.height}px`,r.style.transform=Je(n.left,n.top)}function Fi(r){r.preventDefault()}function Se(r,n){return Math.max(0,Math.min(n,r))}class Fs{constructor(n,t,i,o,s){this._dragDropRegistry=t,this._ngZone=o,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new f.x,this.entered=new f.x,this.exited=new f.x,this.dropped=new f.x,this.sorted=new f.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=F.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new f.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function gs(r=0,n=He.z){return r<0&&(r=0),(0,vi.H)(r,r,n)}(0,xi).pipe((0,R.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=A(n),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new ki(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(n,t,i,o){let s;this._draggingStarted(),null==o?(s=this.sortingDisabled?this._draggables.indexOf(n):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(n,t,i))):s=o;const a=this._activeDraggables,l=a.indexOf(n),u=n.getPlaceholderElement();let d=a[s];if(d===n&&(d=a[s+1]),!d&&(null==s||-1===s||s<a.length-1)&&this._shouldEnterAsFirstChild(t,i)&&(d=a[0]),l>-1&&a.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const g=d.getRootElement();g.parentElement.insertBefore(u,g),a.splice(s,0,n)}else A(this.element).appendChild(u),a.push(n);u.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:n,container:this,currentIndex:this.getItemIndex(n)})}exit(n){this._reset(),this.exited.next({item:n,container:this})}drop(n,t,i,o,s,a,l){this._reset(),this.dropped.next({item:n,currentIndex:t,previousIndex:i,container:this,previousContainer:o,isPointerOverContainer:s,distance:a,dropPoint:l})}withItems(n){const t=this._draggables;return this._draggables=n,n.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(t.filter(o=>o.isDragging()).every(o=>-1===n.indexOf(o))?this._reset():this._cacheItems()),this}withDirection(n){return this._direction=n,this}connectedTo(n){return this._siblings=n.slice(),this}withOrientation(n){return this._orientation=n,this}withScrollableParents(n){const t=A(this.element);return this._scrollableElements=-1===n.indexOf(t)?[t,...n]:n.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(n){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===n):this._draggables.indexOf(n)}isReceiving(){return this._activeSiblings.size>0}_sortItem(n,t,i,o){if(this.sortingDisabled||!this._clientRect||!Ai(this._clientRect,.05,t,i))return;const s=this._itemPositions,a=this._getItemIndexFromPointerPosition(n,t,i,o);if(-1===a&&s.length>0)return;const l="horizontal"===this._orientation,u=s.findIndex(O=>O.drag===n),d=s[a],v=d.clientRect,y=u>a?1:-1,M=this._getItemOffsetPx(s[u].clientRect,v,y),ie=this._getSiblingOffsetPx(u,s,y),pe=s.slice();(function Ns(r,n,t){const i=Se(n,r.length-1),o=Se(t,r.length-1);if(i===o)return;const s=r[i],a=o<i?-1:1;for(let l=i;l!==o;l+=a)r[l]=r[l+a];r[o]=s})(s,u,a),this.sorted.next({previousIndex:u,currentIndex:a,container:this,item:n}),s.forEach((O,Cc)=>{if(pe[Cc]===O)return;const Vi=O.drag===n,kt=Vi?M:ie,Gi=Vi?n.getPlaceholderElement():O.drag.getRootElement();O.offset+=kt,l?(Gi.style.transform=qe(`translate3d(${Math.round(O.offset)}px, 0, 0)`,O.initialTransform),Te(O.clientRect,0,kt)):(Gi.style.transform=qe(`translate3d(0, ${Math.round(O.offset)}px, 0)`,O.initialTransform),Te(O.clientRect,kt,0))}),this._previousSwap.overlaps=yt(v,t,i),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?o.x:o.y}_startScrollingIfNecessary(n,t){if(this.autoScrollDisabled)return;let i,o=0,s=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||i||Ai(a.clientRect,.05,n,t)&&([o,s]=function Rs(r,n,t,i){const o=qi(n,i),s=Li(n,t);let a=0,l=0;if(o){const u=r.scrollTop;1===o?u>0&&(a=1):r.scrollHeight-u>r.clientHeight&&(a=2)}if(s){const u=r.scrollLeft;1===s?u>0&&(l=1):r.scrollWidth-u>r.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,n,t),(o||s)&&(i=l))}),!o&&!s){const{width:a,height:l}=this._viewportRuler.getViewportSize(),u={width:a,height:l,top:0,right:a,bottom:l,left:0};o=qi(u,t),s=Li(u,n),i=window}i&&(o!==this._verticalScrollDirection||s!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=s,this._scrollNode=i,(o||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const n=A(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=n.msScrollSnapType||n.scrollSnapType||"",n.scrollSnapType=n.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const n=A(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(n).clientRect}_cacheItemPositions(){const n="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const i=t.getVisibleElement();return{drag:t,offset:0,initialTransform:i.style.transform||"",clientRect:xt(i)}}).sort((t,i)=>n?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const n=A(this.element).style;n.scrollSnapType=n.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{var i;const o=t.getRootElement();if(o){const s=null===(i=this._itemPositions.find(a=>a.drag===t))||void 0===i?void 0:i.initialTransform;o.style.transform=s||""}}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(n,t,i){const o="horizontal"===this._orientation,s=t[n].clientRect,a=t[n+-1*i];let l=s[o?"width":"height"]*i;if(a){const u=o?"left":"top",d=o?"right":"bottom";-1===i?l-=a.clientRect[u]-s[d]:l+=s[u]-a.clientRect[d]}return l}_getItemOffsetPx(n,t,i){const o="horizontal"===this._orientation;let s=o?t.left-n.left:t.top-n.top;return-1===i&&(s+=o?t.width-n.width:t.height-n.height),s}_shouldEnterAsFirstChild(n,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,o="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return o?n>=a.right:t>=a.bottom}{const a=i[0].clientRect;return o?n<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(n,t,i,o){const s="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:u})=>{if(l===n)return!1;if(o){const d=s?o.x:o.y;if(l===this._previousSwap.drag&&this._previousSwap.overlaps&&d===this._previousSwap.delta)return!1}return s?t>=Math.floor(u.left)&&t<Math.floor(u.right):i>=Math.floor(u.top)&&i<Math.floor(u.bottom)});return-1!==a&&this.sortPredicate(a,n,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(n,t){return null!=this._clientRect&&yt(this._clientRect,n,t)}_getSiblingContainerFromPosition(n,t,i){return this._siblings.find(o=>o._canReceive(n,t,i))}_canReceive(n,t,i){if(!this._clientRect||!yt(this._clientRect,t,i)||!this.enterPredicate(n,this))return!1;const o=this._getShadowRoot().elementFromPoint(t,i);if(!o)return!1;const s=A(this.element);return o===s||s.contains(o)}_startReceiving(n,t){const i=this._activeSiblings;!i.has(n)&&t.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(i.add(n),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(n){this._activeSiblings.delete(n),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(n=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(n);t&&(this._itemPositions.forEach(({clientRect:i})=>{Te(i,t.top,t.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const n=Qe(A(this.element));this._cachedShadowRoot=n||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const n=this._activeDraggables.filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,n))}}function qi(r,n){const{top:t,bottom:i,height:o}=r,s=.05*o;return n>=t-s&&n<=t+s?1:n>=i-s&&n<=i+s?2:0}function Li(r,n){const{left:t,right:i,width:o}=r,s=.05*o;return n>=t-s&&n<=t+s?1:n>=i-s&&n<=i+s?2:0}const Be=oe({passive:!1,capture:!0});let Us=(()=>{class r{constructor(t,i){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new f.x,this.pointerUp=new f.x,this.scroll=new f.x,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Be)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Be)}startDragging(t,i){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const o=i.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Be}),o||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Be}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(t){const i=this._activeDragInstances.indexOf(t);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const i=[this.scroll];return t&&t!==this._document&&i.push(new fe.y(o=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&o.next(l)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,yi.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.R0b),e.LFG(h.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const qs={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ji=(()=>{class r{constructor(t,i,o,s){this._document=t,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s}createDrag(t,i=qs){return new Os(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Fs(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.K0),e.LFG(e.R0b),e.LFG(Es),e.LFG(Us))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const wt=new e.OlP("CDK_DRAG_PARENT"),Ls=new e.OlP("CDK_DRAG_CONFIG"),Js=new e.OlP("CdkDropList"),St=new e.OlP("CdkDragHandle");let Bs=(()=>{class r{constructor(t,i){this.element=t,this._stateChanges=new f.x,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(t){this._disabled=L(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(wt,12))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[e._Bn([{provide:St,useExisting:r}])]}),r})();const js=new e.OlP("CdkDragPlaceholder"),zs=new e.OlP("CdkDragPreview");let Hs=(()=>{class r{constructor(t,i,o,s,a,l,u,d,g,v,y){this.element=t,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=a,this._dir=u,this._changeDetectorRef=g,this._selfHandle=v,this._parentDrag=y,this._destroyed=new f.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new fe.y(M=>{const ie=this._dragRef.moved.pipe((0,j.U)(pe=>({source:this,pointerPosition:pe.pointerPosition,event:pe.event,delta:pe.delta,distance:pe.distance}))).subscribe(M);return()=>{ie.unsubscribe()}}),this._dragRef=d.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:null==l?void 0:l.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),l&&this._assignDefaults(l),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=L(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ot.q)(1),(0,R.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const i=t.rootElementSelector,o=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=r._dragInstances.indexOf(this);t>-1&&r._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var t;const i=this.element.nativeElement;let o=i;this.rootElementSelector&&(o=void 0!==i.closest?i.closest(this.rootElementSelector):null===(t=i.parentElement)||void 0===t?void 0:t.closest(this.rootElementSelector)),this._dragRef.withRootElement(o||i)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):A(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const i=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof o&&o?o:Nt(o),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe((0,ot.q)(1)).subscribe(()=>{var i;if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let o=this.element.nativeElement.parentElement;for(;o;){if(o.classList.contains("cdk-drag")){t.withParent((null===(i=r._dragInstances.find(s=>s.element.nativeElement===o))||void 0===i?void 0:i._dragRef)||null);break}o=o.parentElement}})}_handleEvents(t){t.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(()=>{this.released.emit({source:this})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint})})}_assignDefaults(t){const{lockAxis:i,dragStartDelay:o,constrainPosition:s,previewClass:a,boundaryElement:l,draggingDisabled:u,rootElementSelector:d,previewContainer:g}=t;this.disabled=null!=u&&u,this.dragStartDelay=o||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),a&&(this.previewClass=a),l&&(this.boundaryElement=l),d&&(this.rootElementSelector=d),g&&(this.previewContainer=g)}_setupHandlesListener(){this._handles.changes.pipe((0,ae.O)(this._handles),(0,ge.b)(t=>{const i=t.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),(0,si.w)(t=>(0,yi.T)(...t.map(i=>i._stateChanges.pipe((0,ae.O)(i))))),(0,R.R)(this._destroyed)).subscribe(t=>{const i=this._dragRef,o=t.element.nativeElement;t.disabled?i.disableHandle(o):i.enableHandle(o)})}}return r._dragInstances=[],r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(Js,12),e.Y36(h.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(Ls,8),e.Y36(We,8),e.Y36(Ji),e.Y36(e.sBO),e.Y36(St,10),e.Y36(wt,12))},r.\u0275dir=e.lG2({type:r,selectors:[["","cdkDrag",""]],contentQueries:function(t,i,o){if(1&t&&(e.Suo(o,zs,5),e.Suo(o,js,5),e.Suo(o,St,5)),2&t){let s;e.iGM(s=e.CRH())&&(i._previewTemplate=s.first),e.iGM(s=e.CRH())&&(i._placeholderTemplate=s.first),e.iGM(s=e.CRH())&&(i._handles=s)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,i){2&t&&e.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:wt,useExisting:r}]),e.TTD]}),r})(),Ys=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Ji],imports:[Zs]}),r})();function Vs(r,n){if(1&r&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&r){const t=n.$implicit,i=n.index,o=e.oxw(2);e.Q6J("value",i+1)("disabled",i+1===o.graphIndex),e.xp6(1),e.AsE("",t.orderPosition<0?o.toChar(-1*t.orderPosition):t.orderPosition," - ",t.typeDescription,"")}}function Gs(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"label",5),e._uU(3),e.qZA(),e.TgZ(4,"div",6)(5,"textarea",7),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().locAlternative[a]=o})("change",function(){const s=e.CHM(t).index;return e.oxw().onTextChange(s)}),e.qZA(),e.TgZ(6,"select",8),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.oxw().conditions[a]=o})("ngModelChange",function(o){const a=e.CHM(t).$implicit;return e.oxw().onNextChange(a,o)})("change",function(){return e.CHM(t),e.oxw().setNextTo()}),e.TgZ(7,"option",9),e._uU(8,"Pr\xf3xima interven\xe7\xe3o"),e.qZA(),e.YNc(9,Vs,2,4,"option",10),e.TgZ(10,"option",11),e._uU(11,"Finalizar"),e.qZA()()(),e.TgZ(12,"fa-icon",12),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().removeChoice(s)}),e.qZA()()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(2),e.Q6J("for",o.graphIndex+"alternative"+i),e.xp6(1),e.Oqu(i+1),e.xp6(2),e.Q6J("ngModel",o.locAlternative[i]),e.xp6(1),e.Q6J("ngModel",o.conditions[t]),e.xp6(3),e.Q6J("ngForOf",o.nextInterventions.slice(1)),e.xp6(1),e.Q6J("value",0),e.xp6(2),e.Q6J("icon",o.faminus)}}let $s=(()=>{class r{constructor(t){this.interventionService=t,this.graphIndex=0,this.nextInterventions=[],this.intervention=new Q,this.id=-1,this.faminus=m.uMC,this.locAlternative=[]}get alternatives(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.options}get conditions(){var t;return null===(t=this.intervention)||void 0===t?void 0:t.conditions}ngOnInit(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention,this.id=this.intervention.id,this.locAlternative=this.alternatives.slice(),this.interventionService.newInterventions$.subscribe(t=>{if(this.interventionService.lastInteractedIntervention===this.graphIndex){let i=!1;for(const o of this.alternatives)0===this.conditions[o]&&(this.conditions[o]=t.graphIndex,i=!0);i||this.addChoice(t.graphIndex)}}),this.interventionService.removeIntervention$.subscribe(t=>{for(const i of this.alternatives)this.conditions[i]===t&&(this.conditions[i]=0),this.conditions[i]>t&&this.conditions[i]--;this.graphIndex>t&&(this.graphIndex-=1)})}ngOnChanges(t){t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)}toChar(t){return String.fromCharCode(t)}addChoice(t=0){const i=`Alternativa ${this.alternatives.length+1}`;this.alternatives.push(i),this.locAlternative.push(i),this.conditions[i]=t}removeChoice(t){delete this.conditions[this.alternatives[t]],this.alternatives.splice(t,1),this.locAlternative.splice(t,1),this.updateEdges(),this.updateIntervention({conditions:this.conditions,options:this.alternatives,next:{next:this.interventionService.interventionElementsGraph[this.graphIndex]}})}updateEdges(){this.interventionService.removeEdges(this.graphIndex);for(const t of this.alternatives)0!==this.conditions[t]&&this.interventionService.setNextFromTo(this.graphIndex,Number.parseInt(this.conditions[t]))}setNextTo(){this.updateEdges()}onTextChange(t){this.conditions[this.locAlternative[t]]=this.conditions[this.alternatives[t]],delete this.conditions[this.alternatives[t]],this.alternatives[t]=this.locAlternative[t],this.updateIntervention({conditions:this.conditions,options:this.alternatives})}onNextChange(t,i){this.conditions[t]=Number.parseInt(i),this.updateEdges(),this.updateIntervention({conditions:this.conditions,next:{next:this.interventionService.interventionElementsGraph[this.graphIndex]}})}updateIntervention(t={id:-1}){t.id=this.intervention.id,this.interventionService.saveUpdate(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-unique-choice"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[e.TTD],decls:5,vars:1,consts:[[1,"fw-bold","text-primary","mb-2"],["class","mb-3",4,"ngFor","ngForOf"],[1,"btn","btn-success",3,"click"],[1,"mb-3"],[1,"d-flex","justify-content-between"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],[1,"d-flex","flex-column","w-100"],["cols","1","placeholder","Digite o texto",1,"w-100",3,"ngModel","ngModelChange","change"],[1,"w-100","mt-2",3,"ngModel","ngModelChange","change"],["disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value"],[1,"text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"icon","click"],[3,"value","disabled"]],template:function(t,i){1&t&&(e.TgZ(0,"span",0),e._uU(1,"Alternativas"),e.qZA(),e.YNc(2,Gs,13,7,"div",1),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.addChoice()}),e._uU(4,"Adicionar alternativa"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",i.alternatives))},directives:[h.sg,c.Fj,c.JJ,c.On,c.EJ,c.YN,c.Kr,w.BN],encapsulation:2}),r})();function Ws(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",4),e._uU(2),e.qZA(),e.TgZ(3,"textarea",5),e.NdJ("change",function(){const s=e.CHM(t).index;return e.oxw().encheVetor(s)})("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().locScales[a]=o}),e.qZA(),e.TgZ(4,"fa-icon",6),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().removeChoice(s)}),e.qZA()()}if(2&r){const t=n.index,i=e.oxw();e.xp6(1),e.Q6J("for",i.graphIndex+"alternative"+t),e.xp6(1),e.Oqu(t+1),e.xp6(1),e.Q6J("ngModel",i.locScales[t])("id",i.graphIndex+"alternative"+t),e.xp6(1),e.Q6J("icon",i.faminus)}}let Ks=(()=>{class r{constructor(t){this.interventionService=t,this.graphIndex=0,this.nextInterventions=[],this.intervention=new Q,this.faminus=m.uMC,this.locScales=[]}get alternatives(){return this.intervention.options}ngOnInit(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention,0==this.alternatives.length&&(this.alternatives.push("Alternativa 1"),this.alternatives.push("Alternativa 2")),this.locScales=this.alternatives.slice()}ngOnChanges(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)}addChoice(){this.alternatives.push(""),this.locScales.push("")}removeChoice(t){this.alternatives.splice(t,1),this.locScales.splice(t,1)}updateIntervention(t={id:-1}){t.id=this.intervention.id,this.interventionService.saveUpdate(t)}encheVetor(t=0){this.alternatives[t]=this.locScales[t],this.updateIntervention({options:this.alternatives})}debug(){console.log(this.intervention)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-multiple-choice"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[e.TTD],decls:5,vars:1,consts:[[1,"fw-bold","text-primary","mb-2",3,"click"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["placeholder","Digite o texto",1,"w-100",3,"ngModel","id","change","ngModelChange"],[1,"text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"icon","click"]],template:function(t,i){1&t&&(e.TgZ(0,"span",0),e.NdJ("click",function(){return i.debug()}),e._uU(1,"Alternativas"),e.qZA(),e.YNc(2,Ws,5,5,"div",1),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.addChoice()}),e._uU(4,"Adicionar alternativa"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",i.alternatives))},directives:[h.sg,c.Fj,c.JJ,c.On,w.BN],encapsulation:2}),r})();function Xs(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",11)(1,"label",12),e._uU(2),e.qZA(),e.TgZ(3,"input",13),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().intervention.options[a]=o})("change",function(){const s=e.CHM(t).index;return e.oxw().encheVetor(s)}),e.qZA(),e.TgZ(4,"fa-icon",14),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().removeChoice(s)}),e.qZA()()}if(2&r){const t=n.$implicit,i=n.index,o=e.oxw();e.xp6(1),e.Q6J("for",o.graphIndex+"alternative"+i),e.xp6(1),e.Oqu(i+1),e.xp6(1),e.s9C("value",t),e.Q6J("ngModel",o.intervention.options[i]),e.xp6(1),e.Q6J("icon",o.faminus)}}let ea=(()=>{class r{constructor(t){this.interventionService=t,this.graphIndex=0,this.nextInterventions=[],this.faminus=m.uMC,this.intervention=new Q,this.locOptions=[],this.palavra=""}get scale(){return this.intervention.scales[0]}set scale(t){this.intervention.scales[0]=t,this.updateIntervention({scales:this.intervention.scales})}ngOnInit(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention,this.locOptions=this.intervention.options.slice(),this.scale=this.intervention.scales.length>0?this.intervention.scales[0]:"5 AGREEMENT"}ngOnChanges(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)}addChoice(){this.locOptions.push(""),this.intervention.options.push("")}removeChoice(t){this.locOptions.splice(t,1),this.updateIntervention({options:this.locOptions})}updateIntervention(t={id:-1}){t.id=this.intervention.id,this.interventionService.saveUpdate(t)}encheVetor(t=0){this.locOptions[t]=this.intervention.options[t],this.updateIntervention({options:this.intervention.options})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-likert"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[e.TTD],decls:20,vars:4,consts:[[1,"fw-bold","text-primary","mb-2",3,"for"],[1,"mb-2",3,"ngModel","id","ngModelChange"],["value","5 AGREEMENT"],["value","7 AGREEMENT"],["value","5 FREQUENCY"],["value","7 FREQUENCY"],["value","5 SATISFACTION"],["value","7 SATISFACTION"],[1,"fw-bold","text-primary","mb-2"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["type","text","placeholder","Afirmativa",1,"w-100",3,"ngModel","value","ngModelChange","change"],[1,"text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"icon","click"]],template:function(t,i){1&t&&(e.TgZ(0,"label",0),e._uU(1,"Escola o tipo de escala Likert"),e.qZA(),e.TgZ(2,"select",1),e.NdJ("ngModelChange",function(s){return i.scale=s}),e.TgZ(3,"option",2),e._uU(4,"Concord\xe2ncia (5 pontos)"),e.qZA(),e.TgZ(5,"option",3),e._uU(6,"Concord\xe2ncia (7 pontos)"),e.qZA(),e.TgZ(7,"option",4),e._uU(8,"Frequ\xeancia (5 pontos)"),e.qZA(),e.TgZ(9,"option",5),e._uU(10,"Frequ\xeancia (7 pontos)"),e.qZA(),e.TgZ(11,"option",6),e._uU(12,"Satisfa\xe7\xe3o (5 pontos)"),e.qZA(),e.TgZ(13,"option",7),e._uU(14,"Satisfa\xe7\xe3o (7 pontos)"),e.qZA()(),e.TgZ(15,"span",8),e._uU(16,"Afirmativas"),e.qZA(),e.YNc(17,Xs,5,5,"div",9),e.TgZ(18,"button",10),e.NdJ("click",function(){return i.addChoice()}),e._uU(19,"Adicionar alternativa"),e.qZA()),2&t&&(e.Q6J("for",i.graphIndex+"scale"),e.xp6(2),e.Q6J("ngModel",i.scale)("id",i.graphIndex+"scale"),e.xp6(15),e.Q6J("ngForOf",i.locOptions))},directives:[c.EJ,c.JJ,c.On,c.YN,c.Kr,h.sg,c.Fj,w.BN],encapsulation:2}),r})();function ta(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",3)(1,"label",4),e._uU(2),e.qZA(),e.TgZ(3,"textarea",5),e.NdJ("change",function(){const s=e.CHM(t).index;return e.oxw().encheVetor(s)})("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw().locScales[a]=o}),e.qZA(),e.TgZ(4,"fa-icon",6),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().removeChoice(s)}),e.qZA()()}if(2&r){const t=n.index,i=e.oxw();e.xp6(1),e.Q6J("for",i.graphIndex+"alternative"+t),e.xp6(1),e.Oqu(t+1),e.xp6(1),e.Q6J("ngModel",i.locScales[t])("id",i.graphIndex+"alternative"+t),e.xp6(1),e.Q6J("icon",i.faminus)}}let ia=(()=>{class r{constructor(t){this.interventionService=t,this.graphIndex=0,this.nextInterventions=[],this.faminus=m.uMC,this.intervention=new Q,this.locScales=[]}get scales(){return this.intervention.scales}ngOnInit(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention,this.intervention.scales.length>0?this.locScales=this.intervention.scales.slice():(this.locScales=[],this.intervention.scales=[])}ngOnChanges(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)}addChoice(){this.scales.push(""),this.locScales.push("")}removeChoice(t){this.scales.splice(t,1),this.locScales.splice(t,1)}updateIntervention(t={id:-1}){t.id=this.intervention.id,this.interventionService.saveUpdate(t)}encheVetor(t=0){this.scales[t]=this.locScales[t],this.updateIntervention({scales:this.scales})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-likert-custom"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[e.TTD],decls:5,vars:1,consts:[[1,"fw-bold","text-primary","mb-2"],["class","mb-2 d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-success","mt-2",3,"click"],[1,"mb-2","d-flex","justify-content-between","align-items-center"],[1,"pl-1","pr-3",2,"font-size","1.2em",3,"for"],["cols","1","placeholder","Valor",1,"w-100",3,"ngModel","id","change","ngModelChange"],[1,"text-primary","pr-1","pl-3",2,"font-size","1.3em",3,"icon","click"]],template:function(t,i){1&t&&(e.TgZ(0,"span",0),e._uU(1,"Valores da escala"),e.qZA(),e.YNc(2,ta,5,5,"div",1),e.TgZ(3,"button",2),e.NdJ("click",function(){return i.addChoice()}),e._uU(4,"Aumentar a escala"),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngForOf",i.scales))},directives:[h.sg,c.Fj,c.JJ,c.On,w.BN],encapsulation:2}),r})();function na(r,n){if(1&r&&e._UZ(0,"esm-unique-choice",1),2&r){const t=e.oxw();e.Q6J("graphIndex",t.graphIndex)("nextInterventions",t.nextInterventions)}}function ra(r,n){if(1&r&&e._UZ(0,"esm-multiple-choice",1),2&r){const t=e.oxw();e.Q6J("graphIndex",t.graphIndex)("nextInterventions",t.nextInterventions)}}function oa(r,n){if(1&r&&e._UZ(0,"esm-likert",1),2&r){const t=e.oxw();e.Q6J("graphIndex",t.graphIndex)("nextInterventions",t.nextInterventions)}}function sa(r,n){if(1&r&&e._UZ(0,"esm-likert-custom",1),2&r){const t=e.oxw();e.Q6J("graphIndex",t.graphIndex)("nextInterventions",t.nextInterventions)}}let aa=(()=>{class r{constructor(t){this.interventionService=t}ngOnInit(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention}ngOnChanges(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-question"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[e.TTD],decls:4,vars:4,consts:[["class","d-flex flex-column justify-content-center",3,"graphIndex","nextInterventions",4,"ngIf"],[1,"d-flex","flex-column","justify-content-center",3,"graphIndex","nextInterventions"]],template:function(t,i){1&t&&(e.YNc(0,na,1,2,"esm-unique-choice",0),e.YNc(1,ra,1,2,"esm-multiple-choice",0),e.YNc(2,oa,1,2,"esm-likert",0),e.YNc(3,sa,1,2,"esm-likert-custom",0)),2&t&&(e.Q6J("ngIf",1===i.intervention.questionType),e.xp6(1),e.Q6J("ngIf",2===i.intervention.questionType),e.xp6(1),e.Q6J("ngIf",3===i.intervention.questionType),e.xp6(1),e.Q6J("ngIf",31===i.intervention.questionType))},directives:[h.O5,$s,Ks,ea,ia],encapsulation:2}),r})();function la(r,n){if(1&r&&(e.TgZ(0,"option",3),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.s9C("value",t.type),e.xp6(1),e.Oqu(t.description)}}let ca=(()=>{class r{constructor(t){this.interventionService=t,this.analyzeType="P",this.arrayAnalyzeType=[{type:"P",description:"Analisador Python"}]}ngOnInit(){this.intervention=this.interventionService.graphElement(this.graphIndex).intervention,this.analyzeType="P"}ngAfterViewInit(){this.analyzeType="P"}ngOnChanges(t){t.graphIndex&&(this.graphIndex=t.graphIndex.currentValue),t.nextInterventions&&(this.nextInterventions=t.nextInterventions.currentValue)}saveAnalyze(){this.updateIntervention({functionAnalyze:this.analyzeType})}updateIntervention(t={id:-1}){t.id=this.intervention.id,this.interventionService.saveUpdate(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-analyzed"]],inputs:{graphIndex:"graphIndex",nextInterventions:"nextInterventions"},features:[e.TTD],decls:4,vars:4,consts:[[1,"fw-bold","text-primary","mb-2",3,"for"],[1,"mb-2","w-100",3,"ngModel","id","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"label",0),e._uU(1,"Escola o Servi\xe7o que Ir\xe1 Analizar a Resposta da Interven\xe7\xe3o"),e.qZA(),e.TgZ(2,"select",1),e.NdJ("ngModelChange",function(s){return i.analyzeType=s})("change",function(){return i.saveAnalyze()}),e.YNc(3,la,2,2,"option",2),e.qZA()),2&t&&(e.Q6J("for",i.graphIndex+"Analyze"),e.xp6(2),e.Q6J("ngModel",i.analyzeType)("id",i.graphIndex+"Analyze"),e.xp6(1),e.Q6J("ngForOf",i.arrayAnalyzeType))},directives:[c.EJ,c.JJ,c.On,h.sg,c.YN,c.Kr],encapsulation:2}),r})();const da=["interventionDiv"];function ua(r,n){if(1&r&&(e.TgZ(0,"div",20),e._UZ(1,"img",21),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("src",t.fileName,e.LSH)}}function pa(r,n){if(1&r&&e._UZ(0,"esm-question",22),2&r){const t=e.oxw();e.Q6J("graphIndex",t.graphIndex)("nextInterventions",t.nextInterventions)}}function ha(r,n){if(1&r&&e._UZ(0,"app-analyzed",22),2&r){const t=e.oxw();e.Q6J("graphIndex",t.graphIndex)("nextInterventions",t.nextInterventions)}}function ma(r,n){if(1&r&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&r){const t=n.$implicit,i=n.index,o=e.oxw(2);e.Q6J("value",i+1)("disabled",i+1===o.graphIndex),e.xp6(1),e.AsE("",t.orderPosition<0?o.toChar(-1*t.orderPosition):t.orderPosition," - ",t.typeDescription,"")}}function ga(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div"),e._UZ(1,"hr",23),e.TgZ(2,"select",24),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().nextInterventionSelect=o})("change",function(){return e.CHM(t),e.oxw().setNextTo()}),e.TgZ(3,"option",25),e._uU(4,"Pr\xf3xima interven\xe7\xe3o"),e.qZA(),e.YNc(5,ma,2,4,"option",26),e.TgZ(6,"option",27),e._uU(7,"Finalizar"),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.nextInterventionSelect),e.xp6(3),e.Q6J("ngForOf",t.nextInterventions.slice(1)),e.xp6(1),e.Q6J("value",0)}}let _a=(()=>{class r{constructor(t,i){this.interventionService=t,this.dao=i,this.fileName="",this.fatimes=m.NBC,this.fapaperclip=m.Alc,this.uploadForm=new c.cw({imgSrc:new c.NI("")}),this.nextInterventions=[],this.nextInterventionSelect="",this.interventionMoved=new e.vpe}ngOnInit(){this.nextInterventionSelect="0",this.interventionService.firstInterventionChange$.subscribe(t=>{this.graphIndex!==t&&(this.interventionCoordinate.first=!1)}),this.interventionService.removeIntervention$.subscribe(t=>{this.graphIndex>t&&(this.graphIndex-=1),console.log(this.graphIndex)})}ngAfterViewInit(){this.interventionCoordinate.width=this.interventionDiv.nativeElement.clientWidth,this.interventionCoordinate.height=this.interventionDiv.nativeElement.clientHeight}updateIntervention(t){t.id=this.interventionCoordinate.intervention.id,this.dao.patchObject(p._,t).subscribe(i=>{console.log(i)})}ngAfterContentInit(){this.updateNextInterventions(),this.interventionService.redrawGraph$.subscribe(t=>this.updateNextInterventions())}ngOnDestroy(){}toChar(t){return String.fromCharCode(t)}updateNextInterventions(){var t;this.nextInterventions=this.interventionService.graphElements,this.graphIndex<this.interventionService.interventionElementsGraph.length&&(this.nextInterventionSelect=(null===(t=this.interventionService.interventionElementsGraph[this.graphIndex][0])||void 0===t?void 0:t.toString())||"0")}interventionCurrentCoordinate(){const t=this.interventionDiv.nativeElement.style.transform.match(/\d+px/g).map(i=>Number.parseInt(i.substring(0,i.length-2)));return{x:t[0],y:t[1]}}onDragStart(){this.previousPosition=this.interventionCurrentCoordinate()}onDragEnd(){this.dao.patchObject(p._,{id:this.interventionCoordinate.intervention.id,_x:this.interventionCoordinate.x,_y:this.interventionCoordinate.y}).subscribe(t=>console.log(t))}moving(){const t=this.interventionCurrentCoordinate(),i_y=t.y-this.previousPosition.y;this.interventionCoordinate.x=this.interventionCoordinate.x+(t.x-this.previousPosition.x),this.interventionCoordinate.y=this.interventionCoordinate.y+i_y,this.interventionMoved.emit(this.interventionCoordinate),this.previousPosition=t}setNextTo(){const t=this.graphIndex;if("0"===this.nextInterventionSelect)this.interventionService.removeEdges(t);else{const o=Number.parseInt(this.nextInterventionSelect);this.interventionService.removeEdges(t,!1),this.interventionService.setNextFromTo(t,o)}let i={};i.id=this.interventionCoordinate.intervention.id,i.next={next:this.interventionService.interventionElementsGraph[this.graphIndex]},this.interventionService.saveUpdate(i)}setFirst(){this.interventionCoordinate.first||(this.interventionCoordinate.first=!0,this.interventionService.setFirst(this.graphIndex),this.updateIntervention({first:!0}))}remove(){this.interventionService.removeIntervention(this.graphIndex)}onFileSelected(t){const i=t.target.files[0],o=new FileReader;t.target.files&&t.target.files.length&&(o.readAsDataURL(i),this.fileName=i.name,(new FormData).append("thumbnail",i),o.onload=()=>{this.fileName=o.result,this.uploadForm.patchValue({imgSrc:o.result})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(T.j))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-intervention"]],viewQuery:function(t,i){if(1&t&&e.Gf(da,5),2&t){let o;e.iGM(o=e.CRH())&&(i.interventionDiv=o.first)}},outputs:{interventionMoved:"interventionMoved"},decls:30,vars:18,consts:[["cdkDrag","","cdkDragBoundary",".interventionBoundary",1,"card","position-absolute",2,"top","0","width","300px",3,"cdkDragFreeDragPosition","cdkDragStarted","cdkDragMoved","cdkDragEnded"],["interventionDiv",""],["cdkDragHandle","",1,"d-flex","align-items-center","justify-content-between","bg-primary","text-white","w-100","p-2"],[1,"fw-bold"],[1,"pointer",3,"icon","click"],[1,"w-100","p-3"],[1,"w-100","mb-3"],["type","radio","name","first",3,"checked","id","click"],[3,"for"],["type","checkbox",3,"ngModel","id","ngModelChange","change"],[1,"d-flex","flex-column"],[3,"id","ngModel","ngModelChange","change"],["class","d-flex w-100 mb-3 justify-content-center","style","margin-top: 10px;",4,"ngIf"],["type","file",1,"file-input",2,"display","none",3,"change"],["fileUpload",""],[1,"d-flex","w-100"],[1,"btn","btn-outline-primary","my-4","mx-auto",3,"click"],[3,"icon"],[3,"graphIndex","nextInterventions",4,"ngIf"],[4,"ngIf"],[1,"d-flex","w-100","mb-3","justify-content-center",2,"margin-top","10px"],[2,"width","200px","height","125px",3,"src"],[3,"graphIndex","nextInterventions"],[2,"border-top","2px dashed #E8E8E8"],[1,"w-100",3,"ngModel","ngModelChange","change"],["disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value"],[3,"value","disabled"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("cdkDragStarted",function(){return i.onDragStart()})("cdkDragMoved",function(){return i.moving()})("cdkDragEnded",function(){return i.onDragEnd()}),e.TgZ(2,"div",2)(3,"span",3),e._uU(4),e.qZA(),e.TgZ(5,"fa-icon",4),e.NdJ("click",function(){return i.remove()}),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"input",7),e.NdJ("click",function(){return i.setFirst()}),e.qZA(),e.TgZ(9,"label",8),e._uU(10,"1\xaa Interven\xe7\xe3o"),e.qZA()(),e.TgZ(11,"div",6)(12,"input",9),e.NdJ("ngModelChange",function(a){return i.interventionCoordinate.obligatory=a})("change",function(){return i.updateIntervention({obligatory:i.interventionCoordinate.obligatory})}),e.qZA(),e.TgZ(13,"label",8),e._uU(14,"Obrigat\xf3ria"),e.qZA()(),e.TgZ(15,"div",10)(16,"label",8),e._uU(17,"Digite a mensagem"),e.qZA(),e.TgZ(18,"textarea",11),e.NdJ("ngModelChange",function(a){return i.interventionCoordinate.statement=a})("change",function(){return i.updateIntervention({statement:i.interventionCoordinate.statement})}),e.qZA()(),e.YNc(19,ua,2,1,"div",12),e.TgZ(20,"div",6)(21,"input",13,14),e.NdJ("change",function(a){return i.onFileSelected(a)}),e.qZA()(),e.TgZ(23,"div",15)(24,"button",16),e.NdJ("click",function(){return e.CHM(o),e.MAs(22).click()}),e._uU(25,"Anexar m\xeddia "),e._UZ(26,"fa-icon",17),e.qZA()(),e.YNc(27,pa,1,2,"esm-question",18),e.YNc(28,ha,1,2,"app-analyzed",18),e.YNc(29,ga,8,3,"div",19),e.qZA()()}2&t&&(e.Q6J("cdkDragFreeDragPosition",i.offset),e.xp6(4),e.AsE("",i.interventionCoordinate.orderPosition<0?i.toChar(-1*i.interventionCoordinate.orderPosition):i.interventionCoordinate.orderPosition," - ",i.interventionCoordinate.typeDescription,""),e.xp6(1),e.Q6J("icon",i.fatimes),e.xp6(3),e.Q6J("checked",i.interventionCoordinate.first)("id",i.graphIndex+"-first"),e.xp6(1),e.Q6J("for",i.graphIndex+"-first"),e.xp6(3),e.Q6J("ngModel",i.interventionCoordinate.obligatory)("id",i.graphIndex+"-obligatory"),e.xp6(1),e.Q6J("for",i.graphIndex+"-obligatory"),e.xp6(3),e.Q6J("for",i.graphIndex+"-statement"),e.xp6(2),e.Q6J("id",i.graphIndex+"-statement")("ngModel",i.interventionCoordinate.statement),e.xp6(1),e.Q6J("ngIf",i.fileName),e.xp6(7),e.Q6J("icon",i.fapaperclip),e.xp6(1),e.Q6J("ngIf","question"===i.interventionCoordinate.type),e.xp6(1),e.Q6J("ngIf","analyzed"===i.interventionCoordinate.type),e.xp6(1),e.Q6J("ngIf","question"!==i.interventionCoordinate.type||1!==i.interventionCoordinate.questionType))},directives:[Hs,Bs,w.BN,c.Wl,c.JJ,c.On,c.Fj,h.O5,aa,ca,c.EJ,c.YN,c.Kr,h.sg],encapsulation:2}),r})();function fa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ul",14)(1,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("empty")}),e._UZ(2,"fa-icon",16),e.TgZ(3,"span"),e._uU(4,"Mensagem"),e.qZA()(),e.TgZ(5,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("question",0)}),e._UZ(6,"fa-icon",16),e.TgZ(7,"span"),e._uU(8,"Quest\xe3o aberta"),e.qZA()(),e.TgZ(9,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("question",1)}),e._UZ(10,"fa-icon",16),e.TgZ(11,"span"),e._uU(12,"Escolha \xdanica"),e.qZA()(),e.TgZ(13,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("question",2)}),e._UZ(14,"fa-icon",16),e.TgZ(15,"span"),e._uU(16,"Escolha M\xfaltipla"),e.qZA()(),e.TgZ(17,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("question",3)}),e._UZ(18,"fa-icon",16),e.TgZ(19,"span"),e._uU(20,"Likert"),e.qZA()(),e.TgZ(21,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("question",31)}),e._UZ(22,"fa-icon",16),e.TgZ(23,"span"),e._uU(24,"Likert Personalizada"),e.qZA()(),e.TgZ(25,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("question",4)}),e._UZ(26,"fa-icon",16),e.TgZ(27,"span"),e._uU(28,"Diferencial Sem\xe2ntico"),e.qZA()(),e.TgZ(29,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("analyzed")}),e._UZ(30,"fa-icon",16),e.TgZ(31,"span"),e._uU(32,"Interven\xe7\xe3o Analisada"),e.qZA()(),e.TgZ(33,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("media")}),e._UZ(34,"fa-icon",16),e.TgZ(35,"span"),e._uU(36,"Solicitar M\xeddia"),e.qZA()(),e.TgZ(37,"li",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addIntervention("task")}),e._UZ(38,"fa-icon",16),e.TgZ(39,"span"),e._uU(40,"Aplica\xe7\xe3o externa"),e.qZA()()()}if(2&r){const t=e.oxw();e.Akn("top: "+t.navbar_height+"px;"),e.xp6(2),e.Q6J("icon",t._faComment),e.xp6(4),e.Q6J("icon",t._faAlignLeft),e.xp6(4),e.Q6J("icon",t._faDotCircle),e.xp6(4),e.Q6J("icon",t._faCheckSquare),e.xp6(4),e.Q6J("icon",t._faRulerCombined),e.xp6(4),e.Q6J("icon",t._faPencilRuler),e.xp6(4),e.Q6J("icon",t._faBalanceScale),e.xp6(4),e.Q6J("icon",t._faFileCode),e.xp6(4),e.Q6J("icon",t._faVideo),e.xp6(4),e.Q6J("icon",t._faComment)}}let va=(()=>{class r{constructor(t){this.interventionService=t,this.closeEditor=new e.vpe,this.addInterventionPopUp=!1,this._faComment=m.Mzg,this._faAlignLeft=m.elf,this._faDotCircle=m._1v,this._faCheckSquare=m.a3n,this._faRulerCombined=m.atg,this._faPencilRuler=m.qLl,this._faBalanceScale=m.DL8,this._faVideo=m.IyC,this._faMobile=m.Z__,this._faFileCode=m.w49}get navbar_height(){return 60}ngOnInit(){this.over1200px=window.innerWidth>950,this.over1200px&&(this.mobileToggleActivated=!1)}addIntervention(t,i){let o;"empty"===t?o=new P:"media"===t?o=new hi:"question"===t?o=new Q({questionType:i}):"task"===t?o=new mi:"analyzed"===t&&(o=new gi),this.interventionService.addIntervention(new xe(o))}onResize(){this.over1200px=window.innerWidth>950,this.over1200px&&(this.mobileToggleActivated=!1)}zoomPopUp(){b().fire({title:"Zoom",text:'Utilize o zoom do navegador para controlar o zoom.\nNormalmente isso pode ser feito segurando a tecla "CTRL" e pressionando as teclas "+" ou "-"'})}finish(){this.interventionService.finish(),this.closeEditor.emit("nada")}debug(){console.log("interventionElementsGraph",this.interventionService.interventionElementsGraph)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-navbar"]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(s){return i.onResize(s)},!1,e.Jf7)},outputs:{closeEditor:"closeEditor"},decls:34,vars:3,consts:[[1,"d-flex","align-items-stretch","justify-content-around","bg-primary","w-100","position-fixed","px-2","text-white"],[1,"d-flex","align-items-center","justify-content-center",3,"click"],["src","assets/images/logo-espim-web.svg","alt","Logo do Espim",1,"pr-1"],[1,"text-large"],[1,"d-flex","align-items-center","text-center","btn","btn-primary",3,"click"],[1,"fas","fa-plus-circle","pr-1"],["class","position-fixed list-unstyled card",3,"style",4,"ngIf"],[1,"d-flex","align-items-center","text-center","btn","btn-primary"],[1,"fas","fa-undo-alt","pr-1"],[1,"fas","fa-redo-alt","pr-1"],[1,"fas","fa-search-plus","pr-1"],[1,"fas","fa-download","pr-1"],[1,"fas","fa-upload","pr-1"],[1,"fas","fa-check-circle","pr-1"],[1,"position-fixed","list-unstyled","card"],[1,"btn","btn-light","text-left",3,"click"],[1,"pr-1",3,"icon"]],template:function(t,i){1&t&&(e.TgZ(0,"nav",0)(1,"div",1),e.NdJ("click",function(){return i.debug()}),e._UZ(2,"img",2),e.TgZ(3,"span",3),e._uU(4,"ESPIM"),e.qZA()(),e.TgZ(5,"div",4),e.NdJ("click",function(){return i.addInterventionPopUp=!i.addInterventionPopUp}),e._UZ(6,"i",5),e.TgZ(7,"span"),e._uU(8,"Adicionar"),e.qZA(),e.YNc(9,fa,41,12,"ul",6),e.qZA(),e.TgZ(10,"div",7),e._UZ(11,"i",8),e.TgZ(12,"span"),e._uU(13,"Desfazer"),e.qZA()(),e.TgZ(14,"div",7),e._UZ(15,"i",9),e.TgZ(16,"span"),e._uU(17,"Refazer"),e.qZA()(),e.TgZ(18,"div",4),e.NdJ("click",function(){return i.zoomPopUp()}),e._UZ(19,"i",10),e.TgZ(20,"span"),e._uU(21,"Zoom"),e.qZA()(),e.TgZ(22,"div",7),e._UZ(23,"i",11),e.TgZ(24,"span"),e._uU(25,"Importar"),e.qZA()(),e.TgZ(26,"div",7),e._UZ(27,"i",12),e.TgZ(28,"span"),e._uU(29,"Exportar"),e.qZA()(),e.TgZ(30,"div",4),e.NdJ("click",function(){return i.finish()}),e._UZ(31,"i",13),e.TgZ(32,"span"),e._uU(33,"Concluir"),e.qZA()()()),2&t&&(e.Akn("height: "+i.navbar_height+"px; z-index: 10;"),e.xp6(9),e.Q6J("ngIf",i.addInterventionPopUp))},directives:[h.O5,w.BN],encapsulation:2}),r})();const ba=["canvas"];let Ca=(()=>{class r{constructor(t){this.interventionService=t}ngOnInit(){this.interventionService.redrawGraph$.subscribe(t=>this.drawAllArrows())}ngAfterViewInit(){this.canvas=this.canvasRef.nativeElement,this.resizeCanvas()}resizeCanvas(){var t;t=this.interventionService.event instanceof U?document.querySelector("#editorCanva"):document.querySelector("#editorCanva2"),this.canvasRef.nativeElement.width=t.scrollWidth,this.canvasRef.nativeElement.height=t.scrollHeight}clearCanvas(){let t=this.canvas.getContext("2d");null==t||t.beginPath(),null==t||t.clearRect(0,0,this.canvas.width,this.canvas.height),null==t||t.stroke()}drawAllArrows(){this.resizeCanvas();const t=new Array(this.interventionService.graphElements.length),i=[];for(i.push({intervention:this.interventionService.firstIntervention,orderPosition:1});i.length>0;){const{intervention:s,orderPosition:a}=i[0];if(i.splice(0,1),void 0!==s&&0!==s&&-1!==s){if(t[s]){this.interventionService.warnCycle(s);continue}this.interventionService.graphElement(s).orderPosition=a,t[s]=!0;for(const l of this.interventionService.interventionElementsGraph[s])i.push({intervention:l,orderPosition:a+1}),this.drawArrow(this.interventionService.graphElement(s),this.interventionService.graphElement(l),!0);this.interventionService.lastInteractedIntervention=s}}this.interventionService.hasMultiplePaths=!1;let o="a".charCodeAt(0);for(let s=1;s<t.length;s++)if(!t[s]){this.interventionService.hasMultiplePaths=!0,this.interventionService.graphElement(s).orderPosition=-1*o;for(const a of this.interventionService.interventionElementsGraph[s])this.drawArrow(this.interventionService.graphElement(s),this.interventionService.graphElement(a),!1);o++}}drawArrow(t,i,o=!0){if(!(t&&i&&t.intervention&&i.intervention))return;const s=i.x-t.x,a=i.y-t.y;let l,u;if(Math.abs(s)>Math.abs(a))l=s>=0?t.right:t.left,u=s>=0?i.left:i.right;else{if(!(Math.abs(s)<Math.abs(a)))return;l=a>=0?t.bottom:t.top,u=a>=0?i.top:i.bottom}const d=this.canvas.getContext("2d"),v=Math.atan2(a,s);null==d||d.beginPath(),console.log(d),o?((null==d?void 0:d.strokeStyle)&&(d.strokeStyle="#0a467f"),(null==d?void 0:d.lineWidth)&&(d.lineWidth=2)):((null==d?void 0:d.strokeStyle)&&(d.strokeStyle="#000000"),(null==d?void 0:d.strokeStyle)&&(d.lineWidth=1)),null==d||d.moveTo(l.x,l.y),null==d||d.lineTo(u.x,u.y),null==d||d.lineTo(u.x-10*Math.cos(v-Math.PI/6),u.y-10*Math.sin(v-Math.PI/6)),null==d||d.moveTo(u.x,u.y),null==d||d.lineTo(u.x-10*Math.cos(v+Math.PI/6),u.y-10*Math.sin(v+Math.PI/6)),null==d||d.stroke()}ngOnDestroy(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-canvas"]],viewQuery:function(t,i){if(1&t&&e.Gf(ba,5),2&t){let o;e.iGM(o=e.CRH())&&(i.canvasRef=o.first)}},decls:2,vars:0,consts:[["canvas",""]],template:function(t,i){1&t&&e._UZ(0,"canvas",null,0)},encapsulation:2}),r})();const xa=["container"],ya=["main_div"];let Bi=(()=>{class r{constructor(t,i){this.interventionService=t,this.renderer=i,this.closeInterventions=new e.vpe,this.interventionComponents=[],this.previousPosition={},this.offset={x:0,y:0}}get navbar_height(){return 60}closeEditor(t){this.closeInterventions.emit(t)}ngOnInit(){window.scrollTo(0,0)}ngAfterViewInit(){for(let t=1;t<this.interventionService.graphElements.length;t++)setTimeout(i=>{this.createIntervention(this.interventionService.graphElements[t],t)},250);this.interventionService.redrawGraph$.next(),this.interventionService.newInterventions$.subscribe(t=>this.createIntervention(t.intervention,t.graphIndex)),this.interventionService.removeIntervention$.subscribe(t=>{this.interventionComponents[t-1].destroy(),this.interventionComponents.splice(t-1,1)})}resizeScreen(){var t=document.querySelector("#editorCanva");this.renderer.setStyle(this.mainDiv.nativeElement,"width",`${t.scrollWidth}px`),this.renderer.setStyle(this.mainDiv.nativeElement,"height",t.scrollHeight-60-20+"px")}createIntervention(t,i){const o=this.interventionsContainer.createComponent(_a);o.instance.offset={x:t.intervention._x,y:t.intervention._y},o.instance.interventionCoordinate=t,o.instance.graphIndex=i,o.instance.interventionMoved.subscribe(s=>this.resizeScreen()),this.interventionComponents.push(o),setTimeout(s=>{this.resizeScreen(),this.interventionService.redrawGraph$.next(),window.scrollTo({top:50,left:340.5*this.interventionComponents.length+50,behavior:"smooth"})},250)}onMiddleClickDown(t){4===t.buttons&&(this.previousPosition={x:t.clientX,y:t.clientY})}onMiddleClickUp(t){4===t.buttons&&(this.previousPosition={})}MiddleClickScroll(t){if(void 0!==this.previousPosition.x&&void 0!==this.previousPosition.y&&4===t.buttons){const i={x:t.clientX,y:t.clientY},o={x:i.x-this.previousPosition.x,y:i.y-this.previousPosition.y};this.offset.x+=o.x,this.offset.y+=o.y,window.scrollBy({left:-1*o.x,top:-1*o.y}),this.previousPosition=i}}ngOnDestroy(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Z),e.Y36(e.Qsj))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-interventions"]],viewQuery:function(t,i){if(1&t&&(e.Gf(xa,5,e.s_b),e.Gf(ya,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.interventionsContainer=o.first),e.iGM(o=e.CRH())&&(i.mainDiv=o.first)}},outputs:{closeInterventions:"closeInterventions"},decls:6,vars:2,consts:[[3,"closeEditor"],[1,"position-absolute"],["main_div",""],[1,"tiled-background",3,"mousedown","mouseup","mousemove"],["container",""]],template:function(t,i){1&t&&(e.TgZ(0,"esm-navbar",0),e.NdJ("closeEditor",function(s){return i.closeEditor(s)}),e.qZA(),e.TgZ(1,"div",1,2)(3,"div",3),e.NdJ("mousedown",function(s){return i.onMiddleClickDown(s)})("mouseup",function(s){return i.onMiddleClickUp(s)})("mousemove",function(s){return i.MiddleClickScroll(s)}),e._UZ(4,"esm-canvas",null,4),e.qZA()()),2&t&&(e.xp6(1),e.Akn("top: 60px; width: 100vw; height: calc(100vh - "+i.navbar_height+"px);"))},directives:[va,Ca],styles:[".tiled-background[_ngcontent-%COMP%]{background-size:40px 40px;background-image:linear-gradient(to right,#EEEEEE 1px,transparent 1px),linear-gradient(to bottom,#EEEEEE 1px,transparent 1px)}"]}),r})();function Ta(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"li",42)(1,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.isOpen=!o.isOpen}),e._uU(2),e.qZA(),e.TgZ(3,"i",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().delTrigger()}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.trigger.getDescription())}}function wa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().modifyTrigger()}),e._uU(1,"Modificar disparo"),e.qZA()}}function Sa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().addTrigger()}),e._uU(1,"Adicionar disparo"),e.qZA()}}let ji=(()=>{class r{constructor(t,i){this.daoService=t,this.canal=i,this.trigger=new W,this.triggerOutput=new e.vpe,this.delTriggerEmit=new e.vpe,this.isOpen=!1,this.isAddTriggerComponent=!1,this.time=new c.NI({})}ngOnInit(){this.trigger?(this.isAddTriggerComponent=!1,this.time=new c.NI({hour:this.trigger.getHour(),minute:this.trigger.getMinutes()})):(this.isAddTriggerComponent=!0,this.trigger=new W,this.time=new c.NI({hour:null,minute:null})),this.time.valueChanges.subscribe(t=>this.updateTriggerTime()),this.canal.getData$.subscribe(t=>this.sincronizeTrigger(t))}sincronizeTrigger(t){let i=t.payload.message;"trigger"==i.model&&i.id==this.trigger.id&&(this.trigger=new W(i.trigger),console.log(this.time),this.time.value.hour=this.trigger.getHour(),this.time.value.minute=this.trigger.getMinutes(),this.triggerOutput.emit(this.trigger))}updateTriggerTime(){"manual"!==this.trigger.getTriggerType()?this.time.value&&(console.log(this.time.value.hour),this.trigger.setHour(this.time.value.hour),console.log(this.time.value.minute),this.trigger.setMinute(this.time.value.minute),console.log(this.trigger)):(null!=this.time.value.hour||null!=this.time.value.minute)&&this.time.setValue({hour:null,minute:null})}modifyTrigger(){this.daoService.putObject(p.yQ,{id:this.trigger.getId(),triggerType:this.trigger.getTriggerType(),triggerCondition:this.trigger.getTriggerCondition(),priority:this.trigger.getPriority(),timeOut:this.trigger.getTimeOut()}).subscribe(i=>{let o={model:"trigger"};o.id=this.trigger.id,o.trigger=i,this.canal.sendMessage(o)})}addTrigger(){let t={triggerType:this.trigger.getTriggerType(),triggerCondition:this.trigger.getTriggerCondition(),priority:this.trigger.getPriority(),timeOut:this.trigger.getTimeOut()};this.triggerOutput.emit(t)}delTrigger(){this.delTriggerEmit.emit(this.trigger.getId())}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-trigger"]],inputs:{trigger:"trigger"},outputs:{triggerOutput:"triggerOutput",delTriggerEmit:"delTriggerEmit"},decls:71,vars:31,consts:[[1,"mt-2"],["class","d-flex justify-content-between align-items-center text-center bg-primary-10 rounded-pill mx-2 px-3 py-1 fw-bold",4,"ngIf"],[1,"row","collapse","mx-5",3,"ngbCollapse"],[1,"col-12","d-flex","justify-content-around"],[1,"d-flex","flex-column","p-3"],[1,"fw-bold","my-2"],["type","checkbox","id","select-all",3,"checked","disabled","click"],["for","select-all"],["type","checkbox","id","sunday",3,"checked","disabled","click"],["type","checkbox","id","monday",3,"checked","disabled","click"],["for","monday"],["type","checkbox","id","tuesday",3,"checked","disabled","click"],["for","tuesday"],["type","checkbox","id","wednesday",3,"checked","disabled","click"],["for","wednesday"],["type","checkbox","id","thursday",3,"checked","disabled","click"],["for","thursday"],["type","checkbox","id","friday",3,"checked","disabled","click"],["for","friday"],["type","checkbox","id","saturday",3,"checked","disabled","click"],["for","saturday"],[1,"d-flex","flex-column","justify-content-around","w-25"],[1,"d-flex","flex-column","text-center"],[1,"fw-bold"],[3,"formControl","minuteStep","readonlyInputs","change"],[1,"d-flex","justify-content-center","flex-wrap","text-center"],[1,"fw-bold","w-100"],[1,"input-group-prepend","w-100"],[1,"input-group-text","fas","fa-bell"],[1,"w-100",3,"disabled","change"],["priority",""],["value","","disabled","",3,"selected"],["value","NC",3,"selected"],["value","NL",3,"selected"],["value","AL",3,"selected"],["for","duration",1,"fw-bold"],["type","number","placeholder","Dura\xe7\xe3o do disparo","id","duration",3,"value","disabled","change"],["duration",""],[1,"col-12","text-center"],["class","btn btn-primary mb-3",3,"click",4,"ngIf"],["type","checkbox","id","manual",3,"checked","click"],["for","manual"],[1,"d-flex","justify-content-between","align-items-center","text-center","bg-primary-10","rounded-pill","mx-2","px-3","py-1","fw-bold"],["type","button",1,"btn","btn-block","text-color-inherit","fw-bold","text-left",3,"click"],[1,"fas","fa-trash-alt","text-black",3,"click"],[1,"btn","btn-primary","mb-3",3,"click"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0),e.YNc(1,Ta,4,1,"li",1),e.TgZ(2,"li",2)(3,"div",3)(4,"div",4)(5,"span",5),e._uU(6,"Dias da semana"),e.qZA(),e.TgZ(7,"div")(8,"input",6),e.NdJ("click",function(){return i.trigger.actOrDeactivateDay()}),e.qZA(),e.TgZ(9,"label",7),e._uU(10,"Selecionar todos"),e.qZA()(),e.TgZ(11,"div")(12,"input",8),e.NdJ("click",function(){return i.trigger.actOrDeactivateDay("1")}),e.qZA(),e.TgZ(13,"label"),e._uU(14,"Domingo"),e.qZA()(),e.TgZ(15,"div")(16,"input",9),e.NdJ("click",function(){return i.trigger.actOrDeactivateDay("2")}),e.qZA(),e.TgZ(17,"label",10),e._uU(18,"Segunda"),e.qZA()(),e.TgZ(19,"div")(20,"input",11),e.NdJ("click",function(){return i.trigger.actOrDeactivateDay("3")}),e.qZA(),e.TgZ(21,"label",12),e._uU(22,"Ter\xe7a"),e.qZA()(),e.TgZ(23,"div")(24,"input",13),e.NdJ("click",function(){return i.trigger.actOrDeactivateDay("4")}),e.qZA(),e.TgZ(25,"label",14),e._uU(26,"Quarta"),e.qZA()(),e.TgZ(27,"div")(28,"input",15),e.NdJ("click",function(){return i.trigger.actOrDeactivateDay("5")}),e.qZA(),e.TgZ(29,"label",16),e._uU(30,"Quinta"),e.qZA()(),e.TgZ(31,"div")(32,"input",17),e.NdJ("click",function(){return i.trigger.actOrDeactivateDay("6")}),e.qZA(),e.TgZ(33,"label",18),e._uU(34,"Sexta"),e.qZA()(),e.TgZ(35,"div")(36,"input",19),e.NdJ("click",function(){return i.trigger.actOrDeactivateDay("7")}),e.qZA(),e.TgZ(37,"label",20),e._uU(38,"S\xe1bado"),e.qZA()()(),e.TgZ(39,"div",21)(40,"div",22)(41,"label",23),e._uU(42,"Hor\xe1rio"),e.qZA(),e.TgZ(43,"ngb-timepicker",24),e.NdJ("change",function(){return i.updateTriggerTime()}),e.qZA()(),e.TgZ(44,"div",25)(45,"span",26),e._uU(46,"Tipo de notifica\xe7\xe3o"),e.qZA(),e.TgZ(47,"div",27),e._UZ(48,"i",28),e.TgZ(49,"select",29,30),e.NdJ("change",function(){e.CHM(o);const a=e.MAs(50);return i.trigger.setPriority(a.value)}),e.TgZ(51,"option",31),e._uU(52,"Selecione"),e.qZA(),e.TgZ(53,"option",32),e._uU(54,"Notifica\xe7\xe3o curta"),e.qZA(),e.TgZ(55,"option",33),e._uU(56,"Notifica\xe7\xe3o longa"),e.qZA(),e.TgZ(57,"option",34),e._uU(58,"Alarme"),e.qZA()()()(),e.TgZ(59,"div",22)(60,"label",35),e._uU(61,"Dura\xe7\xe3o do disparo"),e.qZA(),e.TgZ(62,"input",36,37),e.NdJ("change",function(){e.CHM(o);const a=e.MAs(63);return i.trigger.setTimeOutInMinutes(a.value)}),e.qZA()()()(),e.TgZ(64,"div",38),e.YNc(65,wa,2,0,"button",39),e.YNc(66,Sa,2,0,"button",39),e.TgZ(67,"div")(68,"input",40),e.NdJ("click",function(){return i.trigger.changeType(),i.updateTriggerTime()}),e.qZA(),e.TgZ(69,"label",41),e._uU(70,"Programa deve ser auto-iniciado?"),e.qZA()()()()()}2&t&&(e.xp6(1),e.Q6J("ngIf",!i.isAddTriggerComponent),e.xp6(1),e.Q6J("ngbCollapse",!i.isOpen&&!i.isAddTriggerComponent),e.xp6(6),e.Q6J("checked",i.trigger.isDayActive())("disabled","manual"===i.trigger.getTriggerType()),e.xp6(4),e.Q6J("checked",i.trigger.isDayActive("1"))("disabled","manual"===i.trigger.getTriggerType()),e.xp6(4),e.Q6J("checked",i.trigger.isDayActive("2"))("disabled","manual"===i.trigger.getTriggerType()),e.xp6(4),e.Q6J("checked",i.trigger.isDayActive("3"))("disabled","manual"===i.trigger.getTriggerType()),e.xp6(4),e.Q6J("checked",i.trigger.isDayActive("4"))("disabled","manual"===i.trigger.getTriggerType()),e.xp6(4),e.Q6J("checked",i.trigger.isDayActive("5"))("disabled","manual"===i.trigger.getTriggerType()),e.xp6(4),e.Q6J("checked",i.trigger.isDayActive("6"))("disabled","manual"===i.trigger.getTriggerType()),e.xp6(4),e.Q6J("checked",i.trigger.isDayActive("7"))("disabled","manual"===i.trigger.getTriggerType()),e.xp6(7),e.Q6J("formControl",i.time)("minuteStep",30)("readonlyInputs","manual"===i.trigger.getTriggerType()),e.xp6(6),e.Q6J("disabled","manual"===i.trigger.getTriggerType()),e.xp6(2),e.Q6J("selected","NC"!==i.trigger.getPriority()&&"NL"!==i.trigger.getPriority()&&"AL"!==i.trigger.getPriority()),e.xp6(2),e.Q6J("selected","NC"===i.trigger.getPriority()),e.xp6(2),e.Q6J("selected","NL"===i.trigger.getPriority()),e.xp6(2),e.Q6J("selected","AL"===i.trigger.getPriority()),e.xp6(5),e.Q6J("value",i.trigger.getTimeOutInMinutes())("disabled","manual"===i.trigger.getTriggerType()),e.xp6(3),e.Q6J("ngIf",!i.isAddTriggerComponent),e.xp6(1),e.Q6J("ngIf",i.isAddTriggerComponent),e.xp6(2),e.Q6J("checked","manual"===i.trigger.getTriggerType()))},directives:[h.O5,x._D,x.Pm,c.JJ,c.oH,c.YN,c.Kr],encapsulation:2}),r})(),Aa=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-advanced"]],decls:30,vars:0,consts:[[1,"container-fluid","ms-2","me-2"],[1,"col-12","mt-2","mb-2"],[1,"col-12"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"col-12","mt-3","mb-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Caso um participante N\xc3O RESPONDA ao disparo deste evento:"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e._UZ(5,"input",4),e.TgZ(6,"label",5),e._uU(7," Enviar aviso por e-mail aos [observadores] "),e.qZA()()(),e.TgZ(8,"div",2)(9,"div",3),e._UZ(10,"input",4),e.TgZ(11,"label",5),e._uU(12," Programar [1] novo disparo em [60] minutos "),e.qZA()()(),e.TgZ(13,"div",6),e._uU(14,"Caso um participante RESPONDA ao disparo deste evento:"),e.qZA(),e.TgZ(15,"div",2)(16,"div",3),e._UZ(17,"input",4),e.TgZ(18,"label",5),e._uU(19," Enviar aviso por e-mail aos [observadores] "),e.qZA()()(),e.TgZ(20,"div",2)(21,"div",3),e._UZ(22,"input",4),e.TgZ(23,"label",5),e._uU(24," Parar de enviar notifica\xe7\xf5es deste evento ao [participante "),e.qZA()()(),e.TgZ(25,"div",2)(26,"div",3),e._UZ(27,"input",4),e.TgZ(28,"label",5),e._uU(29," Enviar o resultado das interven\xe7\xf5es por e-mail aos observadores "),e.qZA()()()())},encapsulation:2}),r})();const ka=["divInterventions2"];function Ia(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"\xc9 necess\xe1rio indicar os participantes c\xedrculo"),e.qZA())}function Ea(r,n){1&r&&(e.TgZ(0,"div",35),e._uU(1,"Participantes C\xedrculo que receber\xe3o as interven\xe7\xf5es"),e.qZA())}function Za(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"p",37),e._uU(2),e.qZA(),e.TgZ(3,"fa-icon",38),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw(2);return a.removeCircle(s,a.same)}),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("icon",i.faMinus)}}function Da(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29)(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.chooseCircle(o.same)}),e._uU(3," Adicionar Participantes C\xedrculo "),e.qZA()(),e.YNc(4,Ia,2,0,"div",31),e.YNc(5,Ea,2,0,"div",32),e.YNc(6,Za,4,2,"div",33),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",0==t.sameInterventions.circle_type.length),e.xp6(1),e.Q6J("ngIf",t.sameInterventions.circle_type.length>0),e.xp6(1),e.Q6J("ngForOf",t.sameInterventions.circle_type)}}function Pa(r,n){if(1&r&&(e.TgZ(0,"li",57)(1,"span",58),e._uU(2),e.qZA(),e.TgZ(3,"span",47),e._uU(4),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.AsE("",t.orderPosition,". ",t.type,""),e.xp6(2),e.Oqu(t.statement)}}function Ma(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",35),e._uU(2,"Interven\xe7\xf5es Cadastradas"),e.qZA(),e.TgZ(3,"ul",55),e.YNc(4,Pa,5,3,"li",56),e.qZA()()),2&r){const t=e.oxw().index,i=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",i.arrayCustomInterventions[t].interventions)}}function Oa(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"\xc9 necess\xe1rio definir o conjunto de interven\xe7\xf5es"),e.qZA())}function Na(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"\xc9 necess\xe1rio indicar os participantes c\xedrculo"),e.qZA())}function Fa(r,n){1&r&&(e.TgZ(0,"div",35),e._uU(1,"Participantes C\xedrculo que receber\xe3o as interven\xe7\xf5es"),e.qZA())}function Ra(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"p",37),e._uU(2),e.qZA(),e.TgZ(3,"fa-icon",38),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw().index,l=e.oxw(2);return l.removeCircle(s,l.custom,a)}),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw(3);e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("icon",i.faMinus)}}function Ua(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",2)(2,"div",43)(3,"button",44),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw(2).changeCustomCollapse(s)}),e._uU(4),e.qZA(),e.TgZ(5,"fa-icon",45),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw(2).removeCustom(s)}),e.qZA()()(),e.TgZ(6,"div",46)(7,"div",47)(8,"label"),e._uU(9,"T\xedtulo"),e.qZA(),e.TgZ(10,"input",48),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw(2).arrayCustomInterventions[a].title=o})("change",function(){const s=e.CHM(t).index,a=e.oxw(2);return a.saveCustom({title:a.arrayCustomInterventions[s].title},s)}),e.qZA()(),e.TgZ(11,"div",49)(12,"label"),e._uU(13,"Descri\xe7\xe3o"),e.qZA(),e.TgZ(14,"textarea",50),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).index;return e.oxw(2).arrayCustomInterventions[a].description=o})("change",function(){const s=e.CHM(t).index,a=e.oxw(2);return a.saveCustom({description:a.arrayCustomInterventions[s].description},s)}),e.qZA()(),e.TgZ(15,"div",51)(16,"button",52),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw(2).goToInterventions(s)}),e._uU(17,"Editar Interven\xe7\xf5es C\xedrculo"),e.qZA()(),e.YNc(18,Ma,5,1,"div",53),e.YNc(19,Oa,2,0,"div",31),e.TgZ(20,"div",54)(21,"button",30),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw(2);return a.chooseCircle(a.custom,s)}),e._uU(22," Adicionar Participantes C\xedrculo "),e.qZA()(),e.YNc(23,Na,2,0,"div",31),e.YNc(24,Fa,2,0,"div",32),e.YNc(25,Ra,4,2,"div",33),e.qZA()()}if(2&r){const t=n.index,i=e.oxw(2);e.xp6(4),e.hij(" ",i.arrayCustomInterventions[t].title," "),e.xp6(1),e.Q6J("icon",i.faTras),e.xp6(1),e.Q6J("ngbCollapse",i.customCollapse[t]),e.xp6(4),e.Q6J("ngModel",i.arrayCustomInterventions[t].title),e.xp6(4),e.Q6J("ngModel",i.arrayCustomInterventions[t].description),e.xp6(4),e.Q6J("ngIf",i.arrayCustomInterventions[t].interventions.length>0),e.xp6(1),e.Q6J("ngIf",0==i.arrayCustomInterventions[t].interventions.length),e.xp6(4),e.Q6J("ngIf",0==i.arrayCustomInterventions[t].circle_type.length),e.xp6(1),e.Q6J("ngIf",i.arrayCustomInterventions[t].circle_type.length>0),e.xp6(1),e.Q6J("ngForOf",i.arrayCustomInterventions[t].circle_type)}}function qa(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"\xc9 necess\xe1rio criar os conjuntos de interven\xe7\xf5es personalizadas"),e.qZA())}function La(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",2),e.YNc(1,Ua,26,10,"div",39),e.TgZ(2,"div",40)(3,"button",41),e.NdJ("click",function(){return e.CHM(t),e.oxw().addCustom()}),e._uU(4,"Criar um novo conjunto de interven\xe7\xf5es"),e.qZA()(),e.YNc(5,qa,2,0,"div",31),e.qZA()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.arrayCustomInterventions),e.xp6(4),e.Q6J("ngIf",0==t.arrayCustomInterventions.length)}}function Ja(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",4)(2,"input",60),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().respostToCircle.need_autorization=o})("change",function(){e.CHM(t);const o=e.oxw();return o.saveRespost({need_autorization:o.respostToCircle.need_autorization})}),e.qZA(),e.TgZ(3,"label",6),e._uU(4," O Especialista precisa avaliar as respostas antes de enviar para o participante c\xedrculo "),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.respostToCircle.need_autorization)}}function Ba(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"\xc9 necess\xe1rio indicar os participantes c\xedrculo"),e.qZA())}function ja(r,n){1&r&&(e.TgZ(0,"div",62),e._uU(1,"Participantes C\xedrculo que receber\xe3o as respostas"),e.qZA())}function za(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"p",37),e._uU(2),e.qZA(),e.TgZ(3,"fa-icon",38),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw(2);return a.removeCircle(s,a.respost)}),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("icon",i.faMinus)}}function Qa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",54)(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.chooseCircle(o.respost)}),e._uU(3," Adicionar Participantes C\xedrculo "),e.qZA()(),e.YNc(4,Ba,2,0,"div",31),e.YNc(5,ja,2,0,"div",61),e.YNc(6,za,4,2,"div",33),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",0==t.respostToCircle.circle_type.length),e.xp6(1),e.Q6J("ngIf",t.respostToCircle.circle_type.length>0),e.xp6(1),e.Q6J("ngForOf",t.respostToCircle.circle_type)}}function Ha(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",4)(2,"input",63),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw().targetCircle.need_autorization=o})("change",function(){return e.CHM(t),e.oxw().saveTarget()}),e.qZA(),e.TgZ(3,"label",6),e._uU(4," O Especialista precisa avaliar as respostas enviadas por um participante antes que ela seja, ou n\xe3o, apresentada aos demais participantes "),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngModel",t.targetCircle.need_autorization)}}function Ya(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"\xc9 necess\xe1rio indicar os participantes c\xedrculo"),e.qZA())}function Va(r,n){1&r&&(e.TgZ(0,"div",62),e._uU(1,"Participantes C\xedrculo que ir\xe3o colaborar"),e.qZA())}function Ga(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",36)(1,"p",37),e._uU(2),e.qZA(),e.TgZ(3,"fa-icon",38),e.NdJ("click",function(){const s=e.CHM(t).index,a=e.oxw(2);return a.removeCircle(s,a.target)}),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("icon",i.faMinus)}}function $a(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",54)(2,"button",30),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return o.chooseCircle(o.target)}),e._uU(3," Adicionar Participantes C\xedrculo "),e.qZA()(),e.YNc(4,Ya,2,0,"div",31),e.YNc(5,Va,2,0,"div",61),e.YNc(6,Ga,4,2,"div",33),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",0==t.targetCircle.circle_type.length),e.xp6(1),e.Q6J("ngIf",t.targetCircle.circle_type.length>0),e.xp6(1),e.Q6J("ngForOf",t.targetCircle.circle_type)}}function Wa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",64),e._uU(2),e.qZA(),e.TgZ(3,"div",65)(4,"input",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index;return e.oxw().saveCircle(o)})("ngModelChange",function(o){e.CHM(t);const s=e.oxw().index;return e.oxw().booleanCircleType[s]=o}),e.qZA()()()}if(2&r){const t=e.oxw().index,i=e.oxw();e.xp6(2),e.hij(" ",i.listCircleType[t].description," "),e.xp6(2),e.Q6J("ngModel",i.booleanCircleType[t])}}function Ka(r,n){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,Wa,5,2,"div",9),e.qZA()),2&r){const t=n.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",!i.booleanCircleType[t])}}function Xa(r,n){}let el=(()=>{class r{constructor(t,i,o){this.dao=t,this.interventionService=i,this.programAddService=o,this.event=new U,this.same=1,this.custom=2,this.respost=3,this.target=4,this.faTras=m.I7k,this.faMinus=m.uMC,this.sameInterventions={id:-1,event:this.event,selected:!1,circle_type:[]},this.arrayCustomInterventions=[],this.respostToCircle={id:-1,event:this.event,selected:!1,circle_type:[],need_autorization:!1},this.targetCircle={id:-1,event:this.event,selected:!1,need_autorization:!1,circle_type:[]},this.listCircleType=[],this.booleanCircleType=[],this.customCollapse=[],this.editorCollapse=!0,this.posx=0,this.posy=0}ngOnInit(){var t,i,o,s;this.dao.getNewObject(p.jn,{}).subscribe(a=>{this.listCircleType=a,console.log(this.listCircleType)}),this.booleanCustomInterventions=!1,this.event.id>0&&(this.dao.getNewObject(p.$Q,{event:null===(t=this.event)||void 0===t?void 0:t.id}).subscribe(a=>{a.id>0&&(this.sameInterventions=a)}),this.dao.getNewObject(p.QF,{event:null===(i=this.event)||void 0===i?void 0:i.id}).subscribe(a=>{if(a.length>0){this.arrayCustomInterventions=a,this.booleanCustomInterventions=!0,this.customCollapse=[];for(let l=0;l<this.arrayCustomInterventions.length;l++)this.customCollapse.push(!0)}}),this.dao.getNewObject(p.u6,{event:null===(o=this.event)||void 0===o?void 0:o.id}).subscribe(a=>{a.id>0&&(this.respostToCircle=a)}),this.dao.getNewObject(p.ie,{event:null===(s=this.event)||void 0===s?void 0:s.id}).subscribe(a=>{a.id>0&&(this.targetCircle=a)})),this.formModal=new window.bootstrap.Modal(document.getElementById("editorModal"))}gClass(t){return{"fw-bold":t," bg-primary":t," text-white":t}}changeSelected(t){let i=!1;t==this.same&&!this.sameInterventions.selected&&(this.sameInterventions.id||0)>0&&(i=!0),t==this.custom&&!this.booleanCustomInterventions&&this.arrayCustomInterventions.length>0&&(i=!0),t==this.respost&&!this.respostToCircle.selected&&(this.respostToCircle.id||0)>0&&(i=!0),t==this.target&&!this.targetCircle.selected&&(this.targetCircle.id||0)>0&&(i=!0),i&&b().fire({title:"Remover a op\xe7\xe3o",text:"Voc\xea tem certeza que deseja deletar todas as escolhas j\xe1 feitas para esta op\xe7\xe3o?",icon:"question",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o"}).then(o=>{o.isConfirmed?this.delChangeSelected(t):(t==this.same&&(this.sameInterventions.selected=!0),t==this.custom&&(this.booleanCustomInterventions=!0),t==this.respost&&(this.respostToCircle.selected=!0),t==this.target&&(this.targetCircle.selected=!0))})}delChangeSelected(t){switch(t){case this.same:this.dao.deleteObject(p.$Q,this.sameInterventions.id.toString()).subscribe(i=>{console.log("apagou same")}),this.sameInterventions={id:-1,event:this.event,selected:!1,circle_type:[]};break;case this.custom:for(let i=0;i<this.arrayCustomInterventions.length;i++)this.dao.deleteObject(p.QF,this.arrayCustomInterventions[i].id.toString()).subscribe(o=>{console.log("apagou custom")});this.arrayCustomInterventions=[],this.booleanCustomInterventions=!1;break;case this.respost:this.dao.deleteObject(p.u6,this.respostToCircle.id.toString()).subscribe(i=>{console.log("apagou respost")}),this.respostToCircle={id:-1,event:this.event,selected:!1,circle_type:[],need_autorization:!1}}}removeCircle(t,i,o=-1){switch(i){case this.same:this.sameInterventions.circle_type.splice(t,1),this.saveSame({circle_type:this.sameInterventions.circle_type});break;case this.custom:this.arrayCustomInterventions[o].circle_type.splice(t,1),this.saveCustom({circle_type:this.arrayCustomInterventions[o].circle_type},o);break;case this.respost:this.respostToCircle.circle_type.splice(t,1),this.saveRespost({circle_type:this.respostToCircle.circle_type});break;case this.target:this.targetCircle.circle_type.splice(t,1),this.saveTarget({circle_type:this.targetCircle.circle_type})}}addCustom(){this.dao.postObject(p.QF,{event:this.event.id,title:"sem t\xedtulo",description:"",circle_type:[]}).subscribe(t=>{this.arrayCustomInterventions.push(t),this.customCollapse.push(!1)})}changeCustomCollapse(t){this.customCollapse[t]=!this.customCollapse[t]}removeCustom(t){b().fire({title:"Deletar?",text:`Voc\xea tem certeza que deseja deletar ${this.arrayCustomInterventions[t].title}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o"}).then(i=>{i.isConfirmed&&(this.dao.deleteObject(p.QF,this.arrayCustomInterventions[t].id.toString()).subscribe(o=>{console.log("apagou")}),this.arrayCustomInterventions.splice(t,1),this.customCollapse.splice(t,1))})}chooseCircle(t,i=-1){this.typeCircleEditing=t,this.customEditing=i,this.booleanCircleType=[];for(let o=0;o<this.listCircleType.length;o++)this.booleanCircleType.push(this.isSelected(o))}isSelected(t=0){let i=!1;switch(this.typeCircleEditing){case this.same:this.sameInterventions.circle_type.forEach(o=>{o.id==this.listCircleType[t].id&&(i=!0)});break;case this.custom:this.arrayCustomInterventions[this.customEditing].circle_type.forEach(o=>{o.id==this.listCircleType[t].id&&(i=!0)});break;case this.respost:this.respostToCircle.circle_type.forEach(o=>{o.id==this.listCircleType[t].id&&(i=!0)});break;case this.target:this.targetCircle.circle_type.forEach(o=>{o.id==this.listCircleType[t].id&&(i=!0)})}return i}saveCircle(t){switch(this.typeCircleEditing){case this.same:this.sameInterventions.circle_type.push(this.listCircleType[t]),this.sameInterventions.circle_type.sort((i,o)=>i.description<o.description?-1:i.description>o.description?1:0),this.saveSame({circle_type:this.sameInterventions.circle_type});break;case this.custom:this.arrayCustomInterventions[this.customEditing].circle_type.push(this.listCircleType[t]),this.arrayCustomInterventions[this.customEditing].circle_type.sort((i,o)=>i.description<o.description?-1:i.description>o.description?1:0),this.saveCustom({circle_type:this.arrayCustomInterventions[this.customEditing].circle_type},this.customEditing);break;case this.respost:this.respostToCircle.circle_type.push(this.listCircleType[t]),this.respostToCircle.circle_type.sort((i,o)=>i.description<o.description?-1:i.description>o.description?1:0),this.saveRespost({circle_type:this.respostToCircle.circle_type});break;case this.target:this.targetCircle.circle_type.push(this.listCircleType[t]),this.targetCircle.circle_type.sort((i,o)=>i.description<o.description?-1:i.description>o.description?1:0),this.saveTarget({circle_type:this.targetCircle.circle_type})}}saveSame(t={}){-1==this.sameInterventions.id?this.sameInterventions.selected&&this.sameInterventions.circle_type.length>0&&this.dao.postObject(p.$Q,{event:this.event.id,circle_type:this.sameInterventions.circle_type,selected:this.sameInterventions.selected}).subscribe(i=>{this.sameInterventions.id=i.id}):(t.id=this.sameInterventions.id,this.dao.patchObject(p.$Q,t).subscribe(i=>{console.log(i)}))}saveCustom(t={},i){-1!=this.arrayCustomInterventions[i].id&&(t.id=this.arrayCustomInterventions[i].id,this.dao.patchObject(p.QF,t).subscribe(o=>{console.log(o)}))}saveRespost(t={}){-1==this.respostToCircle.id?this.respostToCircle.selected&&this.respostToCircle.circle_type.length>0&&this.dao.postObject(p.u6,{event:this.event.id,circle_type:this.respostToCircle.circle_type,selected:this.respostToCircle.selected,need_autorization:this.respostToCircle.need_autorization}).subscribe(i=>{this.respostToCircle.id=i.id}):(t.id=this.respostToCircle.id,this.dao.patchObject(p.u6,t).subscribe(i=>{console.log(i)}))}saveTarget(t={}){-1==this.targetCircle.id?this.targetCircle.selected&&this.dao.postObject(p.ie,{event:this.event.id,selected:this.targetCircle.selected,need_autorization:this.targetCircle.need_autorization}).subscribe(i=>{this.targetCircle.id=i.id}):(t.id=this.targetCircle.id,this.dao.patchObject(p.ie,t).subscribe(i=>{console.log(i)}))}goToInterventions(t){this.posx=window.pageXOffset,this.posy=window.pageYOffset;let i=this.arrayCustomInterventions[t];this.customEditing=t,null!=i.id&&this.dao.getNewObject(p._,{CustomCircleEvent:i.id}).subscribe(o=>{this.interventionService.init(this.programAddService.program.id,i,P.factory(o)),this.formModal.show(),this.locIntervention=this.interventionsContainer.createComponent(Bi),this.locIntervention.instance.closeInterventions.subscribe(s=>this.closeInterventions(s))})}closeInterventions(t){this.formModal.hide(),this.locIntervention.destroy(),this.dao.getObject(p.QF,this.arrayCustomInterventions[this.customEditing].id.toString()).subscribe(i=>{this.arrayCustomInterventions[this.customEditing].interventions=i.interventions}),window.scrollTo(this.posx,this.posy)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(Z),e.Y36(I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-circle"]],viewQuery:function(t,i){if(1&t&&e.Gf(ka,5,e.s_b),2&t){let o;e.iGM(o=e.CRH())&&(i.interventionsContainer=o.first)}},inputs:{event:"event"},decls:55,vars:15,consts:[[1,"container-fluid","mb-2","me-2"],[1,"container-fluid","border","border-dark","mt-2","ms-2","me-2","mb-2"],[1,"row"],[1,"col-12",3,"ngClass"],[1,"form-check"],["type","checkbox","id","flexCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexCheckDefault",1,"form-check-label"],["class","row mt-3",4,"ngIf"],["for","flexCheckDefault",1,"form-check-label","fw-bold"],["class","row",4,"ngIf"],["class","col-12 ms-4",4,"ngIf"],[1,"container-fluid","border","border-dark","mt-2","ms-2","mr-2","me-2"],["id","exampleModal","tabindex","3","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"container-fluid"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success"],["id","editorModal",1,"modal"],[1,"modal-dialog","modal-fullscreen"],["id","editorCanva2",1,"modal-content","overflow-scroll"],["divInterventions2",""],[1,"row","mt-3"],[1,"col-12","d-flex","justify-content-center"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","btn-light","btn-outline-secondary","fw-bold",3,"click"],["class","col-12 d-flex mt-2 mb-2 justify-content-center text-danger fw-bold",4,"ngIf"],["class","col-12 d-flex justify-content-center bg-light mt-2 mb-2",4,"ngIf"],["class","col-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"col-12","d-flex","mt-2","mb-2","justify-content-center","text-danger","fw-bold"],[1,"col-12","d-flex","justify-content-center","bg-light","mt-2","mb-2"],[1,"col-3","d-flex","justify-content-center"],[1,"text-uppercase"],[1,"text-danger","ml-1",3,"icon","click"],["class","container-fluid border border-success mt-2 ml-2 mr-2 mb-2",4,"ngFor","ngForOf"],[1,"col-12","mt-3","mb-2","d-flex","justify-content-center"],["type","button",1,"btn","btn-success",3,"click"],[1,"container-fluid","border","border-success","mt-2","ml-2","mr-2","mb-2"],[1,"col-12","d-flex","bg-success","text-white","justify-content-between","align-items-center"],["data-bs-toggle","collapse",1,"btn","text-white","fw-bold","text-uppercase",3,"click"],[1,"text-white",3,"icon","click"],[1,"row",3,"ngbCollapse"],[1,"col-12"],["type","text",1,"w-100",3,"ngModel","ngModelChange","change"],[1,"col-12","mt-3"],["rows","2",1,"w-100",3,"ngModel","ngModelChange","change"],[1,"col-12","d-flex","justify-content-center","mt-2","mb-2"],["type","button",1,"btn","btn-secondary","text-white","fw-bold",3,"click"],[4,"ngIf"],[1,"col-12","mt-3","d-flex","justify-content-center"],[1,"col-12","container","list-unstyled","mt-2","px-5"],["class","row my-3",4,"ngFor","ngForOf"],[1,"row","my-3"],[1,"col-12","d-flex","justify-content-start","fw-bold"],[1,"col-12","ms-4"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange","change"],["class","col-12 d-flex justify-content-center mt-2 mb-2 bg-light",4,"ngIf"],[1,"col-12","d-flex","justify-content-center","mt-2","mb-2","bg-light"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange","change"],[1,"col-10"],[1,"col-2","d-flex","justify-content-center"],["type","checkbox",1,"form-check-input",3,"ngModel","click","ngModelChange"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"input",5),e.NdJ("ngModelChange",function(s){return i.sameInterventions.selected=s})("change",function(){return i.changeSelected(i.same)}),e.qZA(),e.TgZ(6,"label",6),e._uU(7," Enviar as interven\xe7\xf5es do participante alvo para os participantes c\xedrculo: "),e.qZA()()()(),e.YNc(8,Da,7,3,"div",7),e.qZA(),e.TgZ(9,"div",1)(10,"div",2)(11,"div",3)(12,"div",4)(13,"input",5),e.NdJ("ngModelChange",function(s){return i.booleanCustomInterventions=s})("change",function(){return i.changeSelected(i.custom)}),e.qZA(),e.TgZ(14,"label",8),e._uU(15," Enviar interven\xe7\xf5es personalizadas para os participantes c\xedrculo: "),e.qZA()()()(),e.YNc(16,La,6,2,"div",9),e.qZA(),e.TgZ(17,"div",1)(18,"div",2)(19,"div",3)(20,"div",4)(21,"input",5),e.NdJ("ngModelChange",function(s){return i.respostToCircle.selected=s})("change",function(){return i.changeSelected(i.respost)}),e.qZA(),e.TgZ(22,"label",8),e._uU(23," Enviar as respostas do participante alvo para os participantes c\xedrculo: "),e.qZA()()(),e.YNc(24,Ja,5,1,"div",10),e.qZA(),e.YNc(25,Qa,7,3,"div",9),e.qZA(),e.TgZ(26,"div",11)(27,"div",2)(28,"div",3)(29,"div",4)(30,"input",5),e.NdJ("ngModelChange",function(s){return i.targetCircle.selected=s})("change",function(){return i.saveTarget()}),e.qZA(),e.TgZ(31,"label",8),e._uU(32," Permitir que os participantes colaborem para responder \xe0s interven\xe7\xf5es "),e.qZA()()(),e.YNc(33,Ha,5,1,"div",10),e.qZA(),e.YNc(34,$a,7,3,"div",9),e.qZA()(),e.TgZ(35,"div",12)(36,"div",13)(37,"div",14)(38,"div",15)(39,"h3",16),e._uU(40,"Selecione os Participantes C\xedrculo"),e.qZA(),e.TgZ(41,"button",17)(42,"span",18),e._uU(43,"\xd7"),e.qZA()()(),e.TgZ(44,"div",19)(45,"div",20),e.YNc(46,Ka,2,1,"div",21),e.qZA()(),e.TgZ(47,"div",22)(48,"button",23),e._uU(49,"Fechar"),e.qZA()()()()(),e.TgZ(50,"div",24)(51,"div",25)(52,"div",26),e.YNc(53,Xa,0,0,"ng-template",null,27,e.W1O),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngClass",i.gClass(i.sameInterventions.selected)),e.xp6(2),e.Q6J("ngModel",i.sameInterventions.selected),e.xp6(3),e.Q6J("ngIf",i.sameInterventions.selected),e.xp6(3),e.Q6J("ngClass",i.gClass(i.booleanCustomInterventions)),e.xp6(2),e.Q6J("ngModel",i.booleanCustomInterventions),e.xp6(3),e.Q6J("ngIf",i.booleanCustomInterventions),e.xp6(3),e.Q6J("ngClass",i.gClass(i.respostToCircle.selected)),e.xp6(2),e.Q6J("ngModel",i.respostToCircle.selected),e.xp6(3),e.Q6J("ngIf",i.respostToCircle.selected),e.xp6(1),e.Q6J("ngIf",i.respostToCircle.selected),e.xp6(3),e.Q6J("ngClass",i.gClass(i.targetCircle.selected)),e.xp6(2),e.Q6J("ngModel",i.targetCircle.selected),e.xp6(3),e.Q6J("ngIf",i.targetCircle.selected),e.xp6(1),e.Q6J("ngIf",i.targetCircle.selected),e.xp6(12),e.Q6J("ngForOf",i.listCircleType))},directives:[h.mk,c.Wl,c.JJ,c.On,h.O5,h.sg,w.BN,x._D,c.Fj],encapsulation:2}),r})();const tl=["divInterventions"];function il(r,n){if(1&r&&(e.TgZ(0,"div",51)(1,"div",52)(2,"span")(3,"strong"),e._uU(4,"Disparo cadastrados:"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"span")(7,"strong"),e._uU(8,"Interven\xe7\xf5es cadastradas:"),e.qZA(),e._uU(9),e.qZA()()()),2&r){const t=e.oxw();e.Q6J("ngbCollapse",t.isOpen),e.xp6(5),e.hij(" ",t.event.getTriggersId().length,""),e.xp6(4),e.hij(" ",t.event.getInterventionsInstances().length,"")}}function nl(r,n){if(1&r&&(e.TgZ(0,"li",53)(1,"span",54),e._uU(2),e.qZA(),e.TgZ(3,"span",55),e._uU(4),e.qZA()()),2&r){const t=n.$implicit;e.xp6(2),e.AsE("",t.orderPosition,". ",t.getTypeDescription(),""),e.xp6(2),e.Oqu(t.statement)}}function rl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"esm-trigger",56),e.NdJ("delTriggerEmit",function(o){return e.CHM(t),e.oxw().delTrigger(o)}),e.qZA()}2&r&&e.Q6J("trigger",n.$implicit)}function ol(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",57)(1,"button",58),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEvent()}),e._uU(2,"ADICIONAR EVENTO"),e.qZA(),e.TgZ(3,"button",59),e._uU(4,"IMPORTAR EVENTO"),e.qZA()()}}function sl(r,n){}const zi=function(r){return{"background-color":r}};let al=(()=>{class r{constructor(t,i,o,s,a,l){this.programsAddService=t,this.interventionService=i,this.dao=o,this.router=s,this.route=a,this.canal=l,this.edit=m.Xcf,this.trash=m.I7k,this.editorClosed=!0,this.subSynk=new ee,this.isOpenAdvanced=!0,this.isOpenCircle=!0,this.isOpenGame=!0,this.isOpen=!1,this.isAddEvent=!1}ngOnDestroy(){this.subSynk.unsubscribe()}ngOnInit(){this.event?(console.log(this.event),this.event=new U(this.event)):this.resetEvent(),this.subSynk.sink=this.canal.getData$.subscribe(t=>this.sincronizeEvent(t)),this.formModal=new window.bootstrap.Modal(document.getElementById("editorModal2"))}resetEvent(){this.event=new U,this.event.setType("active"),this.event.setTitle("Sem T\xedtulo"),this.isAddEvent=!0,this.isOpen=!1}addEvent(){this.subSynk.sink=this.dao.postObject(p.e6,this.event).subscribe(t=>{const i=new U(t);this.programsAddService.saveStep({addEvent:i})})}getEventDetails(){this.requestInterventions(),this.requestTriggers()}delete_event(){b().fire({title:"Deletar evento?",text:`Voc\xea tem certeza que deseja deletar ${this.event.getTitle()}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o"}).then(t=>{!0===t.isConfirmed&&this.programsAddService.saveStep({delEvent:this.event.getId()})})}updateEvent(t){t.id=this.event.getId(),this.subSynk.sink=this.dao.patchObject(p.e6,t).subscribe(i=>{t.model="event",this.canal.sendMessage(t)})}sincronizeEvent(t){let i=t.payload.message;if("event"==i.model&&i.id==this.event.id)for(let o in i)if("model"!=o&&"id"!=o)if("addTrigger"==o){let s=new W(i[o]);this.event.getTriggersId().push(s.id),this.event.getTriggersInstances().push(s)}else if("delTrigger"==o){let s=i.delTrigger;this.event.triggers.splice(this.event.triggers.findIndex(a=>a.id===s),1)}else if("addComplexCondition"!=o&&"delComplexCondition"!=o&&"addSensor"!=o)if("updateEvent"==o)this.event=new U(i[o]);else if("delIntervention"==o){let s=i[o];this.event.interventions.splice(this.event.interventions.findIndex(a=>a.id===s),1)}else"title"==o&&(this.event.title=i[o]),"description"==o&&(this.event.description=i[o]),"color"==o&&(this.event.color=i[o])}addTrigger(t){this.subSynk.sink=this.dao.postObject(p.yQ,t).subscribe(i=>{this.updateEvent({addTrigger:i})})}delTrigger(t){this.updateEvent({delTrigger:t})}requestInterventions(){return this.event.getInterventionsInstances()}requestTriggers(){return this.event.getTriggersInstances()}openAdvanced(){this.isOpenAdvanced=!this.isOpenAdvanced}openCircle(){this.isOpenCircle=!this.isOpenCircle}openGame(){this.isOpenGame=!this.isOpenGame}goToInterventions(){this.subSynk.sink=this.dao.getNewObject(p._,{ActiveEvent:this.event.id}).subscribe(t=>{this.event.criaInterventions(t),this.interventionService.init(this.programsAddService.program.id,this.event,this.event.getInterventionsInstances()),this.formModal.show(),this.locIntervention=this.interventionsContainer.createComponent(Bi),this.locIntervention.instance.closeInterventions.subscribe(i=>this.closeInterventions(i))})}closeInterventions(t){this.formModal.hide(),this.locIntervention.destroy()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I),e.Y36(Z),e.Y36(T.j),e.Y36(k.F0),e.Y36(k.gz),e.Y36(B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-active-event"]],viewQuery:function(t,i){if(1&t&&e.Gf(tl,5,e.s_b),2&t){let o;e.iGM(o=e.CRH())&&(i.interventionsContainer=o.first)}},inputs:{event:"event"},decls:88,vars:25,consts:[[1,"row","py-2","px-2","mx-1","mx-xl-4",3,"ngbCollapse","ngStyle"],[1,"col-12","d-flex","justify-content-between","align-items-center","text-white"],["data-toggle","collapse",1,"btn","btn-link","text-white","fw-bold",3,"click"],[1,"text-white",3,"icon","click"],["class","row border shadow-sm mx-1 mx-xl-4 py-4",3,"ngbCollapse",4,"ngIf"],[3,"ngbCollapse"],[1,"row","border","shadow-sm","mx-1","mx-xl-4","py-2"],[1,"col-12","container-fluid"],[1,"row","mt-4"],[1,"col-md-8"],[3,"for"],["type","text","placeholder","Nome do programa",1,"d-block","form-control","w-100","p-1",3,"value","change","keyup"],["active_event_title",""],[1,"dropdown","col-md-4","d-flex","align-items-center"],["type","button","id","dropColor","data-bs-toggle","dropdown",1,"btn","btn-outline-primary","btn-block","dropdown-toggle","d-flex","align-items-center","justify-content-between",3,"value"],[1,"text-black"],[1,"d-inline-block","rounded-tab","filter-blur","mx-2",3,"ngStyle"],["aria-labelledby","dropColor",1,"dropdown-menu","w-100","w-xl-auto","bg-white","text-center","px-0"],["type","button",1,"dropdown-item","bg-primary","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],["type","button",1,"dropdown-item","bg-danger","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],["type","button",1,"dropdown-item","bg-info","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],["type","button",1,"dropdown-item","bg-success","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],["type","button",1,"dropdown-item","bg-warning","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],["type","button",1,"dropdown-item","bg-dark","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],["type","button",1,"dropdown-item","bg-secondary","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],["type","button",1,"dropdown-item","bg-light","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"col-xl-12"],["name","program-description","rows","1","placeholder","Descri\xe7\xe3o do programa 0/100",1,"w-100","mt-4","p-2",3,"ngModel","change","ngModelChange"],[1,"row","my-4"],[1,"col-xl-12","d-flex","justify-content-center"],[1,"btn","btn-primary","py-2","px-4",3,"click"],[1,"font-medium","fw-bold","text-white"],[1,"fw-bold"],[1,"col-12","container","list-unstyled","px-5"],["class","row my-3",4,"ngFor","ngForOf"],[1,"col-12","ml-2","mr-2","border"],[1,"row","mt-3"],[1,"col-12","list-unstyled","px-4","d-flex","flex-column"],[3,"trigger","delTriggerEmit",4,"ngFor","ngForOf"],[1,"mt-3"],[3,"triggerOutput"],[1,"col-12","mt-3","ms-2","me-2"],["type","button",1,"btn","btn-secondary","btn-block","w-100",3,"click"],[1,"col-12","border","border-secondary","ms-2","me-2",3,"ngbCollapse"],[3,"event"],["type","button ",1,"btn","btn-secondary","btn-block","w-100",3,"click"],["class","d-flex justify-content-around flex-wrap px-3 mx-4 my-3",4,"ngIf"],["id","editorModal2","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-fullscreen"],["id","editorCanva",1,"modal-content","overflow-scroll"],["divInterventions",""],[1,"row","border","shadow-sm","mx-1","mx-xl-4","py-4",3,"ngbCollapse"],[1,"col-12","d-flex","justify-content-between","flex-wrap","flex-sm-nowrap"],[1,"row","my-3"],[1,"col-12","d-flex","justify-content-start","fw-bold"],[1,"col-12"],[3,"trigger","delTriggerEmit"],[1,"d-flex","justify-content-around","flex-wrap","px-3","mx-4","my-3"],[1,"btn","btn-outline-primary","w-100","w-xl-50","py-3",3,"click"],[1,"btn","btn-outline-primary","w-100","w-xl-50","py-3"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div")(1,"div")(2,"div",0)(3,"div",1)(4,"button",2),e.NdJ("click",function(){return i.getEventDetails(),i.isOpen=!i.isOpen}),e._uU(5),e.qZA(),e.TgZ(6,"div")(7,"fa-icon",3),e.NdJ("click",function(){return i.getEventDetails(),i.isOpen=!i.isOpen}),e.qZA(),e.TgZ(8,"fa-icon",3),e.NdJ("click",function(){return i.delete_event()}),e.qZA()()()(),e.YNc(9,il,10,3,"div",4),e.qZA(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9)(15,"label",10),e._uU(16,"Nome do programa"),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("change",function(){e.CHM(o);const a=e.MAs(18);return i.updateEvent({title:a.value})})("keyup",function(){e.CHM(o);const a=e.MAs(18);return i.event.setTitle(a.value)}),e.qZA()(),e.TgZ(19,"div",13)(20,"button",14)(21,"span",15),e._uU(22,"Cor do evento: "),e.qZA(),e._UZ(23,"span",16),e.qZA(),e.TgZ(24,"ul",17)(25,"li")(26,"button",18),e.NdJ("click",function(){return i.event.setColor("#0a467f"),i.updateEvent({color:"#0a467f"})}),e.qZA()(),e.TgZ(27,"li")(28,"button",19),e.NdJ("click",function(){return i.event.setColor("#dc3545"),i.updateEvent({color:"#dc3545"})}),e.qZA()(),e.TgZ(29,"li")(30,"button",20),e.NdJ("click",function(){return i.event.setColor("#17a2b8"),i.updateEvent({color:"#17a2b8"})}),e.qZA()(),e.TgZ(31,"li")(32,"button",21),e.NdJ("click",function(){return i.event.setColor("#28a745"),i.updateEvent({color:"#28a745"})}),e.qZA()(),e.TgZ(33,"li")(34,"button",22),e.NdJ("click",function(){return i.event.setColor("#ffc107"),i.updateEvent({color:"#ffc107"})}),e.qZA()(),e.TgZ(35,"li")(36,"button",23),e.NdJ("click",function(){return i.event.setColor("#343a40"),i.updateEvent({color:"#343a40"})}),e.qZA()(),e.TgZ(37,"li")(38,"button",24),e.NdJ("click",function(){return i.event.setColor("#6c757d"),i.updateEvent({color:"#6c757d"})}),e.qZA()(),e.TgZ(39,"li")(40,"button",25),e.NdJ("click",function(){return i.event.setColor("#f8f9fa"),i.updateEvent({color:"#f8f9fa"})}),e.qZA()()()(),e.TgZ(41,"div",26)(42,"textarea",27),e.NdJ("change",function(){return i.updateEvent({description:i.event.description})})("ngModelChange",function(a){return i.event.description=a}),e.qZA()()(),e.TgZ(43,"div",28)(44,"div",29)(45,"button",30),e.NdJ("click",function(){return i.goToInterventions()}),e.TgZ(46,"span",31),e._uU(47,"EDITAR INTERVEN\xc7\xd5ES"),e.qZA()()()(),e.TgZ(48,"h4",32),e._uU(49,"Interven\xe7\xf5es cadastradas"),e.qZA(),e.TgZ(50,"div",28)(51,"ul",33),e.YNc(52,nl,5,3,"li",34),e.qZA()(),e.TgZ(53,"div",35)(54,"h4",32),e._uU(55,"Disparos cadastrados"),e.qZA(),e.TgZ(56,"div",36)(57,"ul",37),e.YNc(58,rl,1,1,"esm-trigger",38),e.TgZ(59,"h5",39),e._uU(60,"Adicionar disparo"),e.qZA(),e.TgZ(61,"esm-trigger",40),e.NdJ("triggerOutput",function(a){return i.addTrigger(a)}),e.qZA()()()(),e.TgZ(62,"div",41)(63,"button",42),e.NdJ("click",function(){return i.openAdvanced()}),e._uU(64,"Op\xe7\xf5es Avan\xe7adas"),e.qZA()(),e.TgZ(65,"div",43),e._UZ(66,"esm-advanced"),e.qZA(),e.TgZ(67,"div",41)(68,"button",42),e.NdJ("click",function(){return i.openCircle()}),e._uU(69,"Participante C\xedrculo"),e.qZA()(),e.TgZ(70,"div",43),e._UZ(71,"esm-circle",44),e.qZA(),e.TgZ(72,"div",41)(73,"button",45),e.NdJ("click",function(){return i.openGame()}),e._uU(74,"Op\xe7\xf5es de Gamifica\xe7\xe3o"),e.qZA()(),e.TgZ(75,"div",43),e._uU(76," getTriggersInstances "),e._UZ(77,"br"),e._uU(78," Teste "),e._UZ(79,"br"),e._uU(80," Outro Teste "),e._UZ(81,"br"),e.qZA()()()()(),e.YNc(82,ol,5,0,"div",46),e.TgZ(83,"div",47)(84,"div",48)(85,"div",49),e.YNc(86,sl,0,0,"ng-template",null,50,e.W1O),e.qZA()()()}if(2&t){const o=e.MAs(18);e.xp6(2),e.Q6J("ngbCollapse",i.isAddEvent&&!i.isOpen)("ngStyle",e.VKq(21,zi,i.event.getColor())),e.xp6(3),e.Oqu(i.event.getTitle()),e.xp6(2),e.Q6J("icon",i.edit),e.xp6(1),e.Q6J("icon",i.trash),e.xp6(1),e.Q6J("ngIf",!i.isAddEvent),e.xp6(1),e.Q6J("ngbCollapse",!i.isOpen),e.xp6(5),e.Q6J("for",o),e.xp6(2),e.ekj("is-invalid",!i.event.getTitle()),e.Q6J("value",i.event.getTitle()||""),e.xp6(3),e.Q6J("value",i.event.getColor()),e.xp6(3),e.Q6J("ngStyle",e.VKq(23,zi,i.event.getColor())),e.xp6(19),e.Q6J("ngModel",i.event.description),e.xp6(10),e.Q6J("ngForOf",i.event.getInterventionsInstances()),e.xp6(6),e.Q6J("ngForOf",i.event.getTriggersInstances()),e.xp6(7),e.Q6J("ngbCollapse",i.isOpenAdvanced),e.xp6(5),e.Q6J("ngbCollapse",i.isOpenCircle),e.xp6(1),e.Q6J("event",i.event),e.xp6(4),e.Q6J("ngbCollapse",i.isOpenGame),e.xp6(7),e.Q6J("ngIf",i.isAddEvent)}},directives:[x._D,h.PC,w.BN,h.O5,c.Fj,c.JJ,c.On,h.sg,ji,Aa,el],encapsulation:2}),r})();function ll(r,n){if(1&r&&e._UZ(0,"esm-active-event",4),2&r){const t=e.oxw().$implicit;e.Q6J("event",t)}}function cl(r,n){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,ll,1,1,"esm-active-event",3),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf","active"===t.type)}}let dl=(()=>{class r{constructor(t){this.programsAddService=t}ngOnDestroy(){}ngOnInit(){this.events=this.programsAddService.getEventsInstance(),this.programsAddService.getProgramObservable().subscribe(t=>this.events=this.programsAddService.getEventsInstance())}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-step-intervention"]],decls:5,vars:1,consts:[[1,"container-fluid"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[3,"event",4,"ngIf"],[3,"event"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,cl,2,1,"div",1),e.qZA(),e.TgZ(2,"div",0)(3,"div",2),e._UZ(4,"esm-active-event"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.events))},directives:[h.sg,h.O5,al],encapsulation:2}),r})();function ul(r,n){if(1&r&&(e.TgZ(0,"div",41)(1,"div",42)(2,"span")(3,"strong"),e._uU(4,"Disparo cadastrados:"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"span")(7,"strong"),e._uU(8,"Sensores cadastradas:"),e.qZA(),e._uU(9),e.qZA()()()),2&r){const t=e.oxw();e.Q6J("ngbCollapse",t.isOpen),e.xp6(5),e.hij(" ",t.event.getTriggersId().length||"Nenhum disparo cadastrado",""),e.xp6(4),e.hij(" ",t.event.getSensorsId().length||"Nenhum sensor cadastrado","")}}function pl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"esm-trigger",43),e.NdJ("delTriggerEmit",function(o){return e.CHM(t),e.oxw().delTrigger(o)}),e.qZA()}2&r&&e.Q6J("trigger",n.$implicit)}function hl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",44)(1,"button",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().addEvent()}),e._uU(2,"ADICIONAR COLETA"),e.qZA()()}}const Qi=function(r){return{"background-color":r}},ue=function(r,n){return{"bg-primary":r,"text-white":n}};let ml=(()=>{class r{constructor(t,i,o){this.dao=t,this.programsAddService=i,this.canal=o,this.edit=m.Xcf,this.trash=m.I7k,this.mobile=m.bJI,this.clock=m.SZw,this.isOpen=!1,this.isAddEvent=!1}ngOnInit(){this.event?this.event=new ce(this.event):(this.resetEvent(),this.isAddEvent=!0),this.canal.getData$.subscribe(t=>this.sincronizeEvent(t))}resetEvent(){this.event=new ce,this.event.setType("passive"),this.event.setTitle("Sem nome"),this.isAddEvent=!0}sincronizeEvent(t){let i=t.payload.message;if("event"==i.model&&i.id==this.event.id)for(let o in i)if("model"!=o&&"id"!=o)if("addTrigger"==o){let s=new W(i[o]);this.event.getTriggersId().push(s.id),this.event.getTriggersInstances().push(s)}else if("delTrigger"==o){let s=i.delTrigger;this.event.triggers.splice(this.event.triggers.findIndex(a=>a.id===s),1)}else if("addComplexCondition"!=o)if("updateSensor"==o){let s=new Ce(i[o]),a=this.event.sensors.findIndex(l=>l.id===s.id);this.event.sensors[a]=s}else if("addSensor"==o)this.event.addSensor(new Ce(i[o]));else if("delSensor"==o){let s=i.delSensor;this.event.sensors.splice(this.event.sensors.findIndex(a=>a.id===s),1)}else"addIntervention"==o||"delIntervention"==o||("title"==o&&(this.event.title=i[o]),"description"==o&&(this.event.description=i[o]),"color"==o&&(this.event.color=i[o]))}addEvent(){this.dao.postObject(p.e6,this.event).subscribe(t=>{const i=new ce(t);this.programsAddService.saveStep({addEvent:i})})}delete_event(){b().fire({title:"Deletar evento?",text:`Voc\xea tem certeza que deseja deletar ${this.event.getTitle()}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"N\xe3o"}).then(t=>{t.isConfirmed&&this.programsAddService.saveStep({delEvent:this.event.getId()})})}getActivitySensorCollector(){const t=this.event.getSensorOfType("activity");return t?t.getCollector():""}getLocationSensorCollector(){const t=this.event.getSensorOfType("location");return t?t.getCollector():""}getMeasureUseSensorCollector(){const t=this.event.getSensorOfType("measure_use");return t?t.getCollector():""}getEventDetails(){this.requestTriggers(),this.requestSensors()}updateEvent(t){t.id=this.event.getId(),this.dao.patchObject(p.e6,t).subscribe(i=>{t.model="event",this.canal.sendMessage(t)})}updateSensor(t,i){const o=this.event.getSensorOfType(t);let s={model:"event"};s.id=this.event.id,o?o.getCollector()===i?this.updateEvent({delSensor:o.id}):this.dao.patchObject(p.CR,{id:o.getId(),collector:i}).subscribe(a=>{o.setCollector(i),s.updateSensor=a,this.canal.sendMessage(s)}):this.dao.postObject(p.CR,{sensor:t,collector:i,sensorType:0}).subscribe(a=>{this.updateEvent({addSensor:a})})}addTrigger(t){this.dao.postObject(p.yQ,t).subscribe(i=>{this.updateEvent({addTrigger:i})})}delTrigger(t){this.updateEvent({delTrigger:t})}requestTriggers(){return this.event.getTriggersInstances()}requestSensors(){return this.event.getSensorsInstance()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(I),e.Y36(B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-event"]],inputs:{event:"event"},decls:82,vars:54,consts:[[1,"row","py-2","px-2","mx-1","mx-xl-4",3,"ngbCollapse","ngStyle"],[1,"col-12","d-flex","justify-content-between","align-items-center","text-white"],["data-toggle","collapse",1,"btn","btn-link","text-white",3,"click"],[1,"text-white",3,"icon","click"],["class","row border shadow-sm mx-1 mx-xl-4 py-4",3,"ngbCollapse",4,"ngIf"],[1,"collapse","multi-collapse-sensor",3,"ngbCollapse"],[1,"row","border","shadow-sm","mx-1","mx-xl-4","py-2"],[1,"col-8","mt-4"],[3,"for"],["type","text","placeholder","Nome do programa",1,"d-block","w-100","w-xl-75","py-2",3,"value","change","keyup"],["event_title",""],[1,"col-4","mt-4"],["data-toggle","dropdown",1,"btn","btn-outline-primary","btn-block","dropdown-toggle","d-flex","align-items-center","justify-content-between",3,"value"],[1,"text-black"],[1,"d-inline-block","rounded-tab","filter-blur","mx-2",3,"ngStyle"],[1,"dropdown-menu","w-100","w-xl-auto","bg-white","text-center","px-0"],[1,"dropdown-item","btn","bg-primary","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-danger","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-info","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-success","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-warning","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-dark","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-secondary","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"dropdown-item","btn","bg-light","rounded-tab","d-inline-block","p-0","m-0","my-1",3,"click"],[1,"col-12","mt-4"],["rows","1","placeholder","Descri\xe7\xe3o do programa",1,"d-block","w-100","py-2","mt-3",3,"ngModel","ngModelChange","change"],[1,"ml-3","mt-3","fw-bold"],[1,"col-12","d-flex","justify-content-around","my-3"],[1,"input-group","justify-content-center","align-items-center","mb-3"],[1,"fw-bold"],[1,"input-group-prepend","justify-content-center","mr-2","w-100"],["type","button",1,"input-group-text",3,"ngClass","click"],[3,"icon"],[1,"input-group-text","bg-white",3,"ngbCollapse"],[1,"col-12"],[1,"row","mt-3"],[1,"col-12","list-unstyled","px-4","d-flex","flex-column","border"],[3,"trigger","delTriggerEmit",4,"ngFor","ngForOf"],[1,"mt-3"],[3,"triggerOutput"],["class","d-flex justify-content-around flex-wrap px-3 mx-4 my-3",4,"ngIf"],[1,"row","border","shadow-sm","mx-1","mx-xl-4","py-4",3,"ngbCollapse"],[1,"col-12","d-flex","justify-content-between","flex-wrap","flex-sm-nowrap"],[3,"trigger","delTriggerEmit"],[1,"d-flex","justify-content-around","flex-wrap","px-3","mx-4","my-3"],["data-toggle","collapse","data-target","#add-sensor",1,"btn","btn-outline-primary","w-100","w-xl-25","py-3",3,"click"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div")(1,"div")(2,"div",0)(3,"div",1)(4,"button",2),e.NdJ("click",function(){return i.getEventDetails(),i.isOpen=!i.isOpen}),e._uU(5),e.qZA(),e.TgZ(6,"div")(7,"fa-icon",3),e.NdJ("click",function(){return i.getEventDetails(),i.isOpen=!i.isOpen}),e.qZA(),e.TgZ(8,"fa-icon",3),e.NdJ("click",function(){return i.delete_event()}),e.qZA()()()(),e.YNc(9,ul,10,3,"div",4),e.qZA(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"label",8),e._uU(14,"Nome do programa"),e.qZA(),e.TgZ(15,"input",9,10),e.NdJ("change",function(){e.CHM(o);const a=e.MAs(16);return i.updateEvent({title:a.value})})("keyup",function(){e.CHM(o);const a=e.MAs(16);return i.event.setTitle(a.value)}),e.qZA()(),e.TgZ(17,"div",11)(18,"button",12)(19,"span",13),e._uU(20,"Cor do evento: "),e.qZA(),e._UZ(21,"span",14),e.qZA(),e.TgZ(22,"div",15)(23,"button",16),e.NdJ("click",function(){return i.event.setColor("#0a467f"),i.updateEvent({color:"#0a467f"})}),e.qZA(),e.TgZ(24,"button",17),e.NdJ("click",function(){return i.event.setColor("#dc3545"),i.updateEvent({color:"#dc3545"})}),e.qZA(),e.TgZ(25,"button",18),e.NdJ("click",function(){return i.event.setColor("#17a2b8"),i.updateEvent({color:"#17a2b8"})}),e.qZA(),e.TgZ(26,"button",19),e.NdJ("click",function(){return i.event.setColor("#28a745"),i.updateEvent({color:"#28a745"})}),e.qZA(),e.TgZ(27,"button",20),e.NdJ("click",function(){return i.event.setColor("#ffc107"),i.updateEvent({color:"#ffc107"})}),e.qZA(),e.TgZ(28,"button",21),e.NdJ("click",function(){return i.event.setColor("#343a40"),i.updateEvent({color:"#343a40"})}),e.qZA(),e.TgZ(29,"button",22),e.NdJ("click",function(){return i.event.setColor("#6c757d"),i.updateEvent({color:"#6c757d"})}),e.qZA(),e.TgZ(30,"button",23),e.NdJ("click",function(){return i.event.setColor("#f8f9fa"),i.updateEvent({color:"#f8f9fa"})}),e.qZA()()(),e.TgZ(31,"div",24)(32,"textarea",25),e.NdJ("ngModelChange",function(a){return i.event.description=a})("change",function(){return i.updateEvent({description:i.event.description})}),e.qZA()(),e.TgZ(33,"h5",26),e._uU(34,"Coletar:"),e.qZA(),e.TgZ(35,"div",27)(36,"div",28)(37,"span",29),e._uU(38,"Atividades:"),e.qZA(),e.TgZ(39,"div",30)(40,"button",31),e.NdJ("click",function(){return i.updateSensor("activity","smartphone")}),e._UZ(41,"fa-icon",32),e.qZA(),e.TgZ(42,"span",33),e._uU(43,"Smartphone"),e.qZA(),e.TgZ(44,"span",33),e._uU(45,"Smartwatch"),e.qZA(),e.TgZ(46,"button",31),e.NdJ("click",function(){return i.updateSensor("activity","smartwatch")}),e._UZ(47,"fa-icon",32),e.qZA()()(),e.TgZ(48,"div",28)(49,"span",29),e._uU(50,"Localiza\xe7\xe3o:"),e.qZA(),e.TgZ(51,"div",30)(52,"button",31),e.NdJ("click",function(){return i.updateSensor("location","smartphone")}),e._UZ(53,"fa-icon",32),e.qZA(),e.TgZ(54,"span",33),e._uU(55,"Smartphone"),e.qZA(),e.TgZ(56,"span",33),e._uU(57,"Smartwatch"),e.qZA(),e.TgZ(58,"button",31),e.NdJ("click",function(){return i.updateSensor("location","smartwatch")}),e._UZ(59,"fa-icon",32),e.qZA()()(),e.TgZ(60,"div",28)(61,"span",29),e._uU(62,"Uso:"),e.qZA(),e.TgZ(63,"div",30)(64,"button",31),e.NdJ("click",function(){return i.updateSensor("measure_use","smartphone")}),e._UZ(65,"fa-icon",32),e.qZA(),e.TgZ(66,"span",33),e._uU(67,"Smartphone"),e.qZA(),e.TgZ(68,"span",33),e._uU(69,"Smartwatch"),e.qZA(),e.TgZ(70,"button",31),e.NdJ("click",function(){return i.updateSensor("measure_use","smartwatch")}),e._UZ(71,"fa-icon",32),e.qZA()()()(),e.TgZ(72,"div",34)(73,"h4",29),e._uU(74,"Disparos cadastrados"),e.qZA(),e.TgZ(75,"div",35)(76,"ul",36),e.YNc(77,pl,1,1,"esm-trigger",37),e.TgZ(78,"h5",38),e._uU(79,"Adicionar disparo"),e.qZA(),e.TgZ(80,"esm-trigger",39),e.NdJ("triggerOutput",function(a){return i.addTrigger(a)}),e.qZA()()()()()()(),e.YNc(81,hl,3,0,"div",40)}if(2&t){const o=e.MAs(16);e.xp6(2),e.Q6J("ngbCollapse",i.isAddEvent&&!i.isOpen)("ngStyle",e.VKq(32,Qi,i.event.getColor())),e.xp6(3),e.Oqu(i.event.getTitle()),e.xp6(2),e.Q6J("icon",i.edit),e.xp6(1),e.Q6J("icon",i.trash),e.xp6(1),e.Q6J("ngIf",!i.isAddEvent),e.xp6(1),e.Q6J("ngbCollapse",!i.isOpen),e.xp6(3),e.Q6J("for",o),e.xp6(2),e.Q6J("value",i.event.getTitle()||""),e.xp6(3),e.Q6J("value",i.event.getColor()),e.xp6(3),e.Q6J("ngStyle",e.VKq(34,Qi,i.event.getColor())),e.xp6(11),e.Q6J("ngModel",i.event.description),e.xp6(8),e.Q6J("ngClass",e.WLB(36,ue,"smartphone"===i.getActivitySensorCollector(),"smartphone"===i.getActivitySensorCollector())),e.xp6(1),e.Q6J("icon",i.mobile),e.xp6(1),e.Q6J("ngbCollapse","smartphone"!==i.getActivitySensorCollector()),e.xp6(2),e.Q6J("ngbCollapse","smartwatch"!==i.getActivitySensorCollector()),e.xp6(2),e.Q6J("ngClass",e.WLB(39,ue,"smartwatch"===i.getActivitySensorCollector(),"smartwatch"===i.getActivitySensorCollector())),e.xp6(1),e.Q6J("icon",i.clock),e.xp6(5),e.Q6J("ngClass",e.WLB(42,ue,"smartphone"===i.getLocationSensorCollector(),"smartphone"===i.getLocationSensorCollector())),e.xp6(1),e.Q6J("icon",i.mobile),e.xp6(1),e.Q6J("ngbCollapse","smartphone"!==i.getLocationSensorCollector()),e.xp6(2),e.Q6J("ngbCollapse","smartwatch"!==i.getLocationSensorCollector()),e.xp6(2),e.Q6J("ngClass",e.WLB(45,ue,"smartwatch"===i.getLocationSensorCollector(),"smartwatch"===i.getLocationSensorCollector())),e.xp6(1),e.Q6J("icon",i.clock),e.xp6(5),e.Q6J("ngClass",e.WLB(48,ue,"smartphone"===i.getMeasureUseSensorCollector(),"smartphone"===i.getMeasureUseSensorCollector())),e.xp6(1),e.Q6J("icon",i.mobile),e.xp6(1),e.Q6J("ngbCollapse","smartphone"!==i.getMeasureUseSensorCollector()),e.xp6(2),e.Q6J("ngbCollapse","smartwatch"!==i.getMeasureUseSensorCollector()),e.xp6(2),e.Q6J("ngClass",e.WLB(51,ue,"smartwatch"===i.getMeasureUseSensorCollector(),"smartwatch"===i.getMeasureUseSensorCollector())),e.xp6(1),e.Q6J("icon",i.clock),e.xp6(6),e.Q6J("ngForOf",i.event.getTriggersInstances()),e.xp6(4),e.Q6J("ngIf",i.isAddEvent)}},directives:[x._D,h.PC,w.BN,h.O5,c.Fj,c.JJ,c.On,h.mk,h.sg,ji],encapsulation:2}),r})();function gl(r,n){if(1&r&&e._UZ(0,"esm-event",4),2&r){const t=e.oxw().$implicit;e.Q6J("event",t)}}function _l(r,n){if(1&r&&(e.TgZ(0,"div",2),e.YNc(1,gl,1,1,"esm-event",3),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf","passive"===t.type)}}let Hi=(()=>{class r{constructor(t){this.programsAddService=t}ngOnDestroy(){}ngOnInit(){this.events=this.programsAddService.getEventsInstance(),this.programsAddService.getProgramObservable().subscribe(t=>this.events=this.programsAddService.getEventsInstance())}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-step-sensor"]],decls:5,vars:1,consts:[[1,"container-fluid"],["class","mt-4",4,"ngFor","ngForOf"],[1,"mt-4"],[3,"event",4,"ngIf"],[3,"event"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,_l,2,1,"div",1),e.qZA(),e.TgZ(2,"div",0)(3,"div",2),e._UZ(4,"esm-event"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.events))},directives:[h.sg,h.O5,ml],encapsulation:2}),r})();function fl(r,n){if(1&r&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Oqu(t.name)}}function vl(r,n){if(1&r&&(e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Oqu(t.description)}}function bl(r,n){if(1&r&&(e.TgZ(0,"div",6),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.AsE(" Vers\xe3o : ",t.version," - Criada : ",e.xi3(2,2,t.createDateTime,"dd/MM/yyyy HH:mm")," ")}}let Cl=(()=>{class r{constructor(t,i){this.programAddService=t,this.dao=i,this.program=new K}ngOnInit(){this.program=this.programAddService.program,this.programAddService.getProgramObservable().subscribe(t=>this.program=t)}createNewVersion(){b().fire({title:this.program.title,html:"<b>Criar uma nova vers\xe3o de coleta de dados para o programa?</b>",showDenyButton:!0,confirmButtonText:"Criar",denyButtonText:"Cancelar"}).then(t=>{t.isConfirmed?this.dao.createProgramVersion(this.program).subscribe(i=>{this.program.versions.push(i)}):t.isDenied&&b().fire("Cria\xe7\xe3o da Vers\xe3o Cancelada!!!","","warning")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(I),e.Y36(T.j))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-step-publish"]],decls:19,vars:5,consts:[[1,"container-fluid"],[1,"col-12","d-flex","justify-content-center","fw-bold"],[1,"col-12","mt-3"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12","p-4","d-flex","justify-content-center"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"col-12"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," DADOS DO PROGRAMA"),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.qZA(),e.TgZ(5,"div",2),e._uU(6),e.qZA(),e.TgZ(7,"div",2),e._uU(8,"Editores: "),e.qZA(),e.YNc(9,fl,2,1,"div",3),e.TgZ(10,"div",2),e._uU(11,"Eventos: "),e.qZA(),e.YNc(12,vl,2,1,"div",3),e.TgZ(13,"div",4)(14,"button",5),e.NdJ("click",function(){return i.createNewVersion()}),e._uU(15,"Criar uma nova vers\xe3o para coleta de dados"),e.qZA()(),e.TgZ(16,"div",2),e._uU(17,"Vers\xf5es: "),e.qZA(),e.YNc(18,bl,3,5,"div",3),e.qZA()),2&t&&(e.xp6(4),e.hij("T\xedtulo: ",i.program.title," "),e.xp6(2),e.hij("Descri\xe7\xe3o: ",i.program.description," "),e.xp6(3),e.Q6J("ngForOf",i.program.observers),e.xp6(3),e.Q6J("ngForOf",i.program.events),e.xp6(6),e.Q6J("ngForOf",i.program.versions))},directives:[h.sg],pipes:[h.uU],encapsulation:2}),r})();function xl(r,n){1&r&&e._uU(0,"Dados do Programa")}function yl(r,n){1&r&&e._uU(0,"Interven\xe7\xf5es Programadas")}function Tl(r,n){1&r&&e._uU(0,"Coletas por Sensores")}function wl(r,n){1&r&&e._uU(0,"Publica\xe7\xf5es")}let Sl=(()=>{class r{constructor(t,i,o,s,a,l){this._formBuilder=t,this.programsService=i,this.dao=o,this.activatedRoute=s,this.loginService=a,this.canal=l,this.isLinear=!1,this.arrowRight=m.eFW,this.arrowLeft=m.acZ,this.fileImport=m.Vmj,this.editor=0}ngOnInit(){this.id=this.programsService.program.id,this.ligaEditor(),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",c.kI.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",c.kI.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",c.kI.required]}),this.fourthFormGroup=this._formBuilder.group({fourthCtrl:["",c.kI.required]}),this.fifthFormGroup=this._formBuilder.group({fifthCtrl:["",c.kI.required]}),this.sixthFormGroup=this._formBuilder.group({sixtthCtrl:["",c.kI.required]})}mostrar(){return!1}ngOnDestroy(){this.desligaEditor(),this.programsService.program=new K}ligaEditor(){let i,t=this.loginService.getUser().email;i={model:"editor",program:this.id,addEditor:t},console.log("programa",this.id),this.dao.postObject(p.Ev,{program:this.id,email:t}).subscribe(o=>{this.editor=o.id,this.canal.sendMessage(i)})}desligaEditor(){let i,t=this.loginService.getUser().email;i={model:"editor",program:this.id,delEditor:t},console.log(this.editor),0!==this.editor&&this.dao.deleteObject(p.Ev,this.editor.toString()).subscribe(o=>{this.canal.sendMessage(i),console.log("Desligou")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.qu),e.Y36(I),e.Y36(T.j),e.Y36(k.gz),e.Y36(H.r),e.Y36(B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-programsadd"]],decls:44,vars:12,consts:[[1,"container-fluid","ms-2","me-2",2,"height","90%","overflow","hidden"],["labelPosition","bottom",2,"height","100%",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[1,"col-12","pt-2","pb-2",2,"height","700px","overflow-y","auto","overflow-x","hidden"],[1,"col-12","d-flex","justify-content-end","mt-3"],["type","button","mat-button","","matStepperNext","",1,"btn","btn","btn-success","btn-block","py-2"],[1,"text-white",3,"icon"],[1,"col-12","pt-2","pb-2",2,"height","700px","overflow-y","auto"],[1,"col-12","d-flex","justify-content-between","mt-3"],["type","button","mat-button","","matStepperPrevious","",1,"btn","btn","btn-success","btn-block","py-2"],["type","button",1,"btn","btn","btn-success","btn-block","py-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-stepper",1,2)(3,"mat-step",3),e.YNc(4,xl,1,0,"ng-template",4),e.TgZ(5,"div",5),e._UZ(6,"esm-step1"),e.qZA(),e.TgZ(7,"div",6)(8,"button",7),e._uU(9," PROSSEGUIR "),e._UZ(10,"fa-icon",8),e.qZA()()(),e.TgZ(11,"mat-step",3),e.YNc(12,yl,1,0,"ng-template",4),e.TgZ(13,"div",9),e._UZ(14,"app-step-intervention"),e.qZA(),e.TgZ(15,"div",10)(16,"button",11),e._UZ(17,"fa-icon",8),e._uU(18," RETORNAR "),e.qZA(),e.TgZ(19,"button",7),e._uU(20," PROSSEGUIR "),e._UZ(21,"fa-icon",8),e.qZA()()(),e.TgZ(22,"mat-step",3),e.YNc(23,Tl,1,0,"ng-template",4),e.TgZ(24,"div",9),e._UZ(25,"app-step-sensor"),e.qZA(),e.TgZ(26,"div",10)(27,"button",11),e._UZ(28,"fa-icon",8),e._uU(29," RETORNAR "),e.qZA(),e.TgZ(30,"button",7),e._uU(31," PROSSEGUIR "),e._UZ(32,"fa-icon",8),e.qZA()()(),e.TgZ(33,"mat-step",3),e.YNc(34,wl,1,0,"ng-template",4),e.TgZ(35,"div",9),e._UZ(36,"app-step-publish"),e.qZA(),e.TgZ(37,"div",10)(38,"button",11),e._UZ(39,"fa-icon",8),e._uU(40," RETORNAR "),e.qZA(),e.TgZ(41,"button",12),e._uU(42," FINALIZAR "),e._UZ(43,"fa-icon",8),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("linear",i.isLinear),e.xp6(2),e.Q6J("stepControl",i.firstFormGroup),e.xp6(7),e.Q6J("icon",i.arrowRight),e.xp6(1),e.Q6J("stepControl",i.thirdFormGroup),e.xp6(6),e.Q6J("icon",i.arrowLeft),e.xp6(4),e.Q6J("icon",i.arrowRight),e.xp6(1),e.Q6J("stepControl",i.fourthFormGroup),e.xp6(6),e.Q6J("icon",i.arrowLeft),e.xp6(4),e.Q6J("icon",i.arrowRight),e.xp6(1),e.Q6J("stepControl",i.fifthFormGroup),e.xp6(6),e.Q6J("icon",i.arrowLeft),e.xp6(4),e.Q6J("icon",i.fileImport))},directives:[lt,at,be,ms,ui,w.BN,dl,pi,Hi,Cl],encapsulation:2}),r})();var Yi=_(593);const Al=["swalSaveSuccess"];let kl=(()=>{class r{constructor(t,i,o,s,a){this.loginService=t,this.observerService=i,this._formBuilder=o,this._daoService=s,this._dateConverterService=a,this.calendar=m.fT7,this.urlObservers=p.hL}ngOnInit(){this.user=this.loginService.getUser(),this.observerForm=this._formBuilder.group({id:this._formBuilder.control(""),name:this._formBuilder.control(""),email:this._formBuilder.control(""),phoneNumber:this._formBuilder.control(""),role:this._formBuilder.control(""),about:this._formBuilder.control(""),birthDate:this._formBuilder.control(""),schooling:this._formBuilder.control(""),institution:this._formBuilder.control(""),address:this._formBuilder.group({id:this._formBuilder.control(""),address:this._formBuilder.control(""),addressNumber:this._formBuilder.control(""),addressComplement:this._formBuilder.control(""),cep:this._formBuilder.control(""),state:this._formBuilder.control(""),city:this._formBuilder.control(""),country:this._formBuilder.control("")})}),this.observerService.getObserverByEmail(this.urlObservers,this.user.email).subscribe(t=>{console.log("response =>",t.results[0]),this.observer=new S(t.results[0]),console.log("observer:",this.observer),this.observerForm.patchValue({id:this.observer.getId(),name:this.observer.getName(),email:this.observer.getEmail(),phoneNumber:this.observer.getPhoneNumber(),role:this.observer.getRole(),about:this.observer.getAbout(),birthDate:this.observer.getBirthDate()?this._dateConverterService.toNgbDate(this.observer.getBirthDate().toString()):"",schooling:this.observer.getSchooling(),institution:this.observer.getInstitution()}),this.observer.getAddress()&&this.observerForm.patchValue({address:{id:this.observer.getAddress().getId(),address:this.observer.getAddress().getAddress(),addressNumber:this.observer.getAddress().getAddressNumber(),addressComplement:this.observer.getAddress().getAddressComplement(),cep:this.observer.getAddress().getCEP(),state:this.observer.getAddress().getState(),city:this.observer.getAddress().getCity(),country:this.observer.getAddress().getCountry()}})})}save(t){this.observerForm.value.birthDate=this._dateConverterService.toString(this.observerForm.value.birthDate),console.log("date:",this.observerForm.value.birthDate),this._daoService.putObject(this.urlObservers,this.observerForm.value).subscribe(i=>{this.swalSaveSuccess.fire()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(H.r),e.Y36(Yi.o),e.Y36(c.qu),e.Y36(T.j),e.Y36(te.T3))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-observers"]],viewQuery:function(t,i){if(1&t&&e.Gf(Al,5),2&t){let o;e.iGM(o=e.CRH())&&(i.swalSaveSuccess=o.first)}},decls:106,vars:22,consts:[[1,"card","mx-auto","mt-4","w-main"],[1,"d-flex","flex-wrap","p-3","pt-4","p-md-5",3,"formGroup"],[1,"container-fluid","mb-2","mb-md-5"],[1,"row"],[1,"col-12","col-md-6","d-flex","justify-content-center","align-items-center","mb-4","mb-md-0"],["alt","Imagem do perfil","width","150px","height","150px",1,"rounded-circle",3,"src"],[1,"col-12","col-md-6","w-50"],[1,"mb-3"],["for","name","translate","",1,"fw-bold","h3","w-100"],["name","name","formControlName","name","id","name","type","text",1,"form-control"],["for","about","translate","",1,"fw-bold","h3","w-100"],["id","about","formControlName","about","rows","5","maxlength","300",1,"w-100",3,"placeholder"],[1,"container-fluid","mb-4"],[1,"col-12","col-md-6","d-flex","flex-column"],[1,"w-100","mb-4"],["for","email","translate","",1,"fw-bold","w-100","mb-0"],["name","email","formControlName","email","id","email","type","text",1,"form-control"],["for","birthDate","translate","",1,"fw-bold","w-100","mb-0"],[1,"input-group","align-items-center"],["name","birthDate","id","birthDate","formControlName","birthDate","ngbDatepicker","","type","text","readonly","true",1,"form-control"],["d","ngbDatepicker"],[1,"fa-2x","px-3",3,"icon","click"],["for","schooling","translate","",1,"fw-bold","w-100","mb-0"],["name","schooling","id","schooling","formControlName","schooling",1,"form-control","p-0"],["value","noschool","translate",""],["value","elementaryincompleted","translate",""],["value","elementarycompleted","translate",""],["value","highschoolincompleted","translate",""],["value","highschoolcompleted","translate",""],["value","collegeincompleted","translate",""],["value","collegecompleted","translate",""],["value","masterscompleted","translate",""],["value","phdcompleted","translate",""],["for","role","translate","",1,"fw-bold","w-100","mb-0"],["name","role","id","role","type","text","formControlName","role","required","",1,"form-control"],["for","institution","translate","",1,"fw-bold","w-100","mb-0"],["name","institution","id","institution","formControlName","institution","type","text","placeholder","Universidade de S\xe3o Paulo","required","",1,"form-control"],["for","phoneNumber","translate","",1,"fw-bold","w-100","mb-0"],["name","phoneNumber","formControlName","phoneNumber","id","phoneNumber","type","text","placeholder","N\xfamero de telefone","required","",1,"form-control"],["formGroupName","address",1,"col-12","col-md-6","d-flex","flex-column"],["type","hidden","id","id","name","id","formControlName","id"],["for","address","translate","",1,"fw-bold","w-100","mb-0"],["name","address","formControlName","address","id","address","type","text","required","",1,"form-control"],["for","addressNumber","translate","",1,"fw-bold","w-100","mb-0"],["name","addressNumber","formControlName","addressNumber","id","addressNumber","type","text","placeholder","0","required","",1,"form-control"],["for","addressComplement","translate","",1,"fw-bold","w-100","mb-0"],["name","addressComplement","formControlName","addressComplement","id","addressComplement","type","text","required","",1,"form-control"],["for","cep","translate","",1,"fw-bold","w-100","mb-0"],["name","cep","id","cep","formControlName","cep","type","text","required","",1,"form-control"],["for","city","translate","",1,"fw-bold","w-100","mb-0"],["name","city","formControlName","city","id","city","type","text","required","",1,"form-control"],["for","state","translate","",1,"fw-bold","w-100","mb-0"],["type","text","formControlName","state","id","state","name","state",1,"form-control","p-0"],["for","country","translate","",1,"fw-bold","w-100","mb-0"],["type","text","formControlName","country","id","country","name","country",1,"form-control","p-0"],[1,"d-flex","justify-content-center","w-100"],["name","saveButton","translate","",1,"btn","btn-primary","w-100","w-md-25",3,"swal"],["type","question",3,"title","text","showCancelButton","focusCancel","confirm"],["swalSaveButton",""],["type","success",3,"title","text","focusCancel"],["swalSaveSuccess",""]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"main",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"div",6)(7,"div",7)(8,"label",8),e._uU(9,"private.observers.name"),e.qZA(),e._UZ(10,"input",9),e.qZA(),e.TgZ(11,"div")(12,"label",10),e._uU(13,"private.observers.about"),e.qZA(),e._UZ(14,"textarea",11),e.ALo(15,"translate"),e.qZA()()()(),e.TgZ(16,"div",12)(17,"div",3)(18,"div",13)(19,"div",14)(20,"label",15),e._uU(21,"private.observers.email"),e.qZA(),e._UZ(22,"input",16),e.qZA(),e.TgZ(23,"div",14)(24,"label",17),e._uU(25,"private.observers.birthDate"),e.qZA(),e.TgZ(26,"div",18),e._UZ(27,"input",19,20),e.TgZ(29,"fa-icon",21),e.NdJ("click",function(){return e.CHM(o),e.MAs(28).toggle()}),e.qZA()()(),e.TgZ(30,"div",14)(31,"label",22),e._uU(32,"private.observers.schooling.schooling"),e.qZA(),e.TgZ(33,"select",23)(34,"option",24),e._uU(35,"private.observers.schooling.noschool"),e.qZA(),e.TgZ(36,"option",25),e._uU(37,"private.observers.schooling.elementaryincompleted"),e.qZA(),e.TgZ(38,"option",26),e._uU(39,"private.observers.schooling.elementarycompleted"),e.qZA(),e.TgZ(40,"option",27),e._uU(41,"private.observers.schooling.highschoolincompleted"),e.qZA(),e.TgZ(42,"option",28),e._uU(43,"private.observers.schooling.highschoolcompleted"),e.qZA(),e.TgZ(44,"option",29),e._uU(45,"private.observers.schooling.collegeincompleted"),e.qZA(),e.TgZ(46,"option",30),e._uU(47,"private.observers.schooling.collegecompleted"),e.qZA(),e.TgZ(48,"option",31),e._uU(49,"private.observers.schooling.masterscompleted"),e.qZA(),e.TgZ(50,"option",32),e._uU(51,"private.observers.schooling.phdcompleted"),e.qZA()()(),e.TgZ(52,"div",14)(53,"label",33),e._uU(54,"private.observers.role"),e.qZA(),e._UZ(55,"input",34),e.qZA(),e.TgZ(56,"div",14)(57,"label",35),e._uU(58,"private.observers.institution"),e.qZA(),e._UZ(59,"input",36),e.qZA(),e.TgZ(60,"div",14)(61,"label",37),e._uU(62,"private.observers.phoneNumber"),e.qZA(),e._UZ(63,"input",38),e.qZA()(),e.TgZ(64,"div",39),e._UZ(65,"input",40),e.TgZ(66,"div",14)(67,"label",41),e._uU(68,"private.observers.address.address"),e.qZA(),e._UZ(69,"input",42),e.qZA(),e.TgZ(70,"div",14)(71,"label",43),e._uU(72,"private.observers.address.addressNumber"),e.qZA(),e._UZ(73,"input",44),e.qZA(),e.TgZ(74,"div",14)(75,"label",45),e._uU(76,"private.observers.address.addressComplement"),e.qZA(),e._UZ(77,"input",46),e.qZA(),e.TgZ(78,"div",14)(79,"label",47),e._uU(80,"private.observers.address.cep"),e.qZA(),e._UZ(81,"input",48),e.qZA(),e.TgZ(82,"div",14)(83,"label",49),e._uU(84,"private.observers.address.city"),e.qZA(),e._UZ(85,"input",50),e.qZA(),e.TgZ(86,"div",14)(87,"label",51),e._uU(88,"private.observers.address.state"),e.qZA(),e._UZ(89,"input",52),e.qZA(),e.TgZ(90,"div",14)(91,"label",53),e._uU(92,"private.observers.address.country"),e.qZA(),e._UZ(93,"input",54),e.qZA()()()(),e.TgZ(94,"div",55)(95,"button",56),e._uU(96,"private.participants.add.saveButton"),e.qZA()(),e.TgZ(97,"span")(98,"swal",57,58),e.NdJ("confirm",function(a){return i.save(a)}),e.ALo(100,"translate"),e.ALo(101,"translate"),e.qZA(),e._UZ(102,"swal",59,60),e.ALo(104,"translate"),e.ALo(105,"translate"),e.qZA()()()}if(2&t){const o=e.MAs(99);e.xp6(1),e.Q6J("formGroup",i.observerForm),e.xp6(4),e.s9C("src",i.user.profileImg,e.LSH),e.xp6(9),e.s9C("placeholder",e.lcZ(15,12,"private.observers.aboutPlaceholder")),e.xp6(15),e.Q6J("icon",i.calendar),e.xp6(66),e.Q6J("swal",o),e.xp6(3),e.s9C("title",e.lcZ(100,14,"private.observers.messageTitle")),e.s9C("text",e.lcZ(101,16,"private.observers.addMessage")),e.Q6J("showCancelButton",!0)("focusCancel",!0),e.xp6(4),e.s9C("title",e.lcZ(104,18,"private.observers.saveTitle")),e.s9C("text",e.lcZ(105,20,"private.observers.saveMessage")),e.Q6J("focusCancel",!0)}},directives:[c._Y,c.JL,c.sg,E.Pi,c.Fj,c.JJ,c.u,c.nD,x.J4,w.BN,c.EJ,c.YN,c.Kr,c.Q7,c.x0,he.iL,he.q1],pipes:[E.X$],encapsulation:2}),r})();function Il(r,n){1&r&&(e.TgZ(0,"li",33)(1,"span",34),e._uU(2,"private.programs.list.noObjects"),e.qZA(),e._UZ(3,"br"),e.qZA())}const El=function(r){return[r]};function Zl(r,n){if(1&r&&(e.TgZ(0,"li",33)(1,"a",35)(2,"span",22),e._uU(3),e.qZA()()()),2&r){const t=n.$implicit,i=n.index;e.xp6(1),e.Q6J("routerLink",e.VKq(3,El,t.id)),e.xp6(2),e.AsE("",i+1,". ",t.title,"")}}let Dl=(()=>{class r{constructor(t){this.dao=t}ngOnInit(){this.getPrograms()}getPrograms(t=p.Z8){this.dao.getObjects(t).subscribe(i=>{this.setPrograms(i)})}setPrograms(t){this.programs=t.results.map(i=>i),this.pagination=new Ne(t)}onNext(t){this.getPrograms(t.url)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j))},r.\u0275cmp=e.Xpm({type:r,selectors:[["esm-results"]],decls:44,vars:3,consts:[[1,"card","mx-auto","mt-4","w-main","row"],[1,"col-12","mx-auto","bg-white","rounded"],[1,"row","pt-xl-5","pl-xl-5","pr-xl-5","pb-3","pt-4","pl-4","pr-4"],[1,"col-12","mt-4","mt-xl-0","p-0"],[1,"h4","fw-bold"],[1,"mt-4"],["action","#",1,"col-12","m-0","mt-3","p-0","row"],[1,"form-group","col-12","col-xl-4","pl-0","mt-3"],["for","busca",1,"sr-only"],[1,"input-with-icon-l"],[1,"fa","fa-search"],["type","text","auto-focus","","placeholder","Buscar programas","id","busca",1,"form-control","border-top-0","border-left-0","border-right-0","rounded-0"],[1,"form-group","col-12","col-xl-3","mt-3","pl-0","pl-xl-3"],["for","por",1,"sr-only"],[1,"input-with-icon-r"],["auto-focus","","id","por",1,"custom-select","border-top-0","border-right-0","border-left-0","rounded-0","select","p-1"],[1,"fas","fa-chevron-down","names"],[1,"col-xl-3","form-check","mt-3","p-0","pl-xl-4"],["type","checkbox","id","Check",1,"form-check-input","mx-auto"],["for","Check",1,"form-check-label","fw-bold","ml-2"],[1,"form-group","col-6","col-xl-2","row","p-0","pl-xl-4","pl-0","ml-0","mt-xl-0","mt-3","mx-auto"],["type","submit",1,"btn","btn-success","col-12","p-3","px-xl-0"],[1,"fw-bold"],[1,"container-fluid","pl-xl-5","pr-xl-5","pt-3","pl-0","pr-0","mb-xl-5"],[1,"row","navbar","p-3","text-white"],[1,"col-6","p-0"],[1,"h6","m-0","d-inline","ml-1","fw-bold"],[1,"row"],[1,"col-12","p-0"],[1,"list-group"],["class","list-group-item p-4 hover-itens",4,"ngIf"],["class","list-group-item p-4 hover-itens",4,"ngFor","ngForOf"],[3,"pagination","next"],[1,"list-group-item","p-4","hover-itens"],["translate","",1,"names"],[1,"links",3,"routerLink"]],template:function(t,i){1&t&&(e.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Resultados - Pesquisa"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"On the other hand, we denounce with righteous indignation and. In a free hour, when our power of choice is untrammelled and when nothing prevents our being able to do what we like best, every pleasure is to be welcomed and every pain avoided. But in certain circumstances and owing to the claims of duty or the obligations of business it will frequently occur that pleasures have to be repudiated and annoyances accepted. The wise man therefore always holds in these matters to this principle of selection: he rejects pleasures to secure other greater pleasures, or else he endures pains to avoid worse pains."),e.qZA()(),e.TgZ(8,"form",6)(9,"div",7)(10,"label",8),e._uU(11,"Filtrar"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"i",10)(14,"input",11),e.qZA()(),e.TgZ(15,"div",12)(16,"label",13),e._uU(17,"Tipo de busca"),e.qZA(),e.TgZ(18,"div",14)(19,"select",15)(20,"option"),e._uU(21,"Buscar por: nome"),e.qZA(),e.TgZ(22,"option"),e._uU(23,"Buscar por: descri\xe7\xe3o"),e.qZA()(),e._UZ(24,"i",16),e.qZA()(),e.TgZ(25,"div",17),e._UZ(26,"input",18),e.TgZ(27,"label",19),e._uU(28,"Somente ativos"),e.qZA()(),e.TgZ(29,"div",20)(30,"button",21)(31,"span",22),e._uU(32,"PESQUISAR"),e.qZA()()()()(),e.TgZ(33,"div",23)(34,"div",24)(35,"div",25)(36,"h2",26),e._uU(37,"Programas"),e.qZA()()(),e.TgZ(38,"div",27)(39,"div",28)(40,"ul",29),e.YNc(41,Il,4,0,"li",30),e.YNc(42,Zl,4,5,"li",31),e.qZA()()()(),e.TgZ(43,"esm-pagination",32),e.NdJ("next",function(s){return i.onNext(s)}),e.qZA()()()),2&t&&(e.xp6(41),e.Q6J("ngIf",0==(null==i.programs?null:i.programs.length)),e.xp6(1),e.Q6J("ngForOf",i.programs),e.xp6(1),e.Q6J("pagination",i.pagination))},directives:[c._Y,c.JL,c.F,c.YN,c.Kr,x.M2,h.O5,E.Pi,h.sg,k.yS,Fe],encapsulation:2}),r})();const Pl=function(r,n){return{"text-primary":r,pointer:n}},Ml=function(r,n,t,i,o){return{"fa-clone":r,"text-secondary":n,pointer:t,"fa-spinner":i,"fa-spin":o}},Ol=function(r,n){return{"text-danger":r,pointer:n}};function Nl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"span",17),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().goToProgram(s)}),e._uU(3),e.qZA(),e.TgZ(4,"div",18)(5,"fa-icon",19),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().goToProgram(s)}),e.qZA(),e.TgZ(6,"fa-icon",20),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().duplicateProgram(s)}),e.qZA(),e.TgZ(7,"fa-icon",21),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().deleteProgram(s)}),e.qZA()()()()}if(2&r){const t=n.$implicit,i=e.oxw();e.xp6(2),e.ekj("pointer",!t.beingDuplicated),e.xp6(1),e.AsE("",t.id,". ",t.title,""),e.xp6(2),e.Q6J("icon",i.edit)("ngClass",e.WLB(10,Pl,!t.beingDuplicated,!t.beingDuplicated)),e.xp6(1),e.Q6J("icon",i.clone)("ngClass",e.qbA(13,Ml,!t.beingDuplicated,!t.beingDuplicated,!t.beingDuplicated,t.beingDuplicated,t.beingDuplicated)),e.xp6(1),e.Q6J("icon",i.trash)("ngClass",e.WLB(19,Ol,!t.beingDuplicated,!t.beingDuplicated))}}function Fl(r,n){1&r&&(e.TgZ(0,"div",4)(1,"ul",22)(2,"li",23)(3,"span",24),e._uU(4,"private.programs.list.noObjects"),e.qZA(),e._UZ(5,"br"),e.qZA()()())}function Rl(r,n){1&r&&(e.TgZ(0,"div",25),e._UZ(1,"i",26),e.qZA())}let Ul=(()=>{class r{constructor(t,i,o,s){this.dao=t,this.spinner=i,this.programService=o,this.router=s,this.lock=m.byT,this.users=m.FVb,this.edit=m.Xcf,this.trash=m.I7k,this.clone=m.WM4,this.urlPrograms=p.Ld,this.loading=!1}ngOnInit(){this.getPrograms()}getPrograms(t=this.urlPrograms){this.loading=!0,this.dao.getObjects(t).subscribe(i=>{this.setPrograms(i),this.loading=!1})}onNext(t){this.getPrograms(t.url)}onNextSearch(t){this.setPrograms(t.response)}setPrograms(t){this.totalPrograms=t.count,this.programs=t.results.map(i=>{const o=i;return o.beingDuplicated&&this.checkDuplication(o),o}),console.log(this.programs),this.pagination=new Ne(t)}deleteProgram(t){t.beingDuplicated||b().fire({title:t.title,html:'<b>A dele\xe7\xe3o ir\xe1 apagar todos os dados da Coleta de Dados, inclusive respostas dos participantes, tem certeza que deseja "DELETAR" a Coleta de Dados? </b>',showDenyButton:!0,confirmButtonText:"Deletar",denyButtonText:"N\xe3o Deletar",icon:"warning"}).then(i=>{i.isConfirmed?b().fire("A Dele\xe7\xe3o est\xe1 temporariamente desabilitada","","error"):i.isDenied&&b().fire("Cancelada a dele\xe7\xe3o do programa","","info")})}checkDuplication(t){!t.beingDuplicated||(console.log("Requesting program"),this.dao.getObject(p.Z8,t.id.toString()).subscribe(i=>{console.log(`Response received\nBeingDuplicated: ${i.beingDuplicated}`),i.beingDuplicated||this.getPrograms(`http://localhost:8000/program-publicade/?page=${this.pagination.actualPage}`)}),setTimeout(()=>this.checkDuplication(t),3e4))}goToProgram(t){t.beingDuplicated||(this.spinner.show(),this.programService.getProgramObservable().subscribe(i=>{this.spinner.hide(),this.router.navigateByUrl("private/programs/add").then()}),this.programService.setProgram(t.id))}duplicateProgram(t){t.beingDuplicated||b().fire({title:"Duplicar um programa",text:"Essa a\xe7\xe3o pode demorar muito tempo, deseja continuar? Voc\xea ainda poder\xe1 mexer em outros programas, entretanto a c\xf3pia somente ser\xe1 edit\xe1vel ap\xf3s o fim do processo.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sim, Copiar o programa"}).then(i=>{i.isConfirmed&&this.dao.getObjects(p.Ld+`${t.id.toString()}/duplicate/`).subscribe(o=>this.dao.getObject(p.Ld,o.id.toString()).subscribe(s=>{b().fire({title:"Duplica\xe7\xe3o realizada!",icon:"success",text:"Em caso de qualquer problema, reinicie a p\xe1gina"})}))})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(Me),e.Y36(X),e.Y36(k.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-publish-list"]],decls:20,vars:7,consts:[[1,"card","mx-auto","mt-4","w-main","px-5","mb-5"],["translate","",1,"h4","fw-bold","mt-5"],[3,"urlObject","searchResults"],[1,"container-fluid","mx-auto"],[1,"row"],[1,"col-12","bg-primary","d-flex","justify-content-between","align-items-center","p-3","text-white"],["translate","",1,"h6","m-0","d-inline","ml-1","fw-bold"],[1,"fw-bold"],["translate",""],["class","row pl-0 mt-2 border border-success",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[3,"pagination","next"],["class","d-flex justify-content-center align-items-center","style","position: absolute; top:0; z-index: 1; height: 100%; width: 100%; background-color: rgba(255, 255, 255, 0.5)",4,"ngIf"],["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","white","type","ball-clip-rotate-pulse",3,"fullScreen"],[2,"color","white"],[1,"row","pl-0","mt-2","border","border-success"],[1,"col-12","d-flex","justify-content-between","align-items-center","p-1"],[1,"fw-bold","w-100","d-flex","align-items-center",3,"click"],[1,"d-flex","align-items-center","mx-3"],["data-bs-toggle","tooltip","title","Editar Coleta de Dados",1,"m-2","fa-lg",3,"icon","ngClass","click"],["data-bs-toggle","tooltip","title","Duplicar Coleta de Dados (criar uma c\xf3pia)",1,"m-2","fa-lg","solid",3,"icon","ngClass","click"],["data-bs-toggle","tooltip","title","Excluir a Coleta de Dados",1,"m-2","fa-lg",3,"icon","ngClass","click"],[1,"list-group","w-100"],[1,"list-group-item","p-4","hover-itens"],["translate","",1,"names"],[1,"d-flex","justify-content-center","align-items-center",2,"position","absolute","top","0","z-index","1","height","100%","width","100%","background-color","rgba(255, 255, 255, 0.5)"],[1,"fa","fa-spinner","fa-spin","fa-3x"]],template:function(t,i){1&t&&(e.TgZ(0,"main",0)(1,"h1",1),e._uU(2,"private.publish.list.pageTitle"),e.qZA(),e.TgZ(3,"esm-search",2),e.NdJ("searchResults",function(s){return i.onNextSearch(s)}),e.qZA(),e.TgZ(4,"section",3)(5,"div",4)(6,"div",5)(7,"h2",6),e._uU(8,"private.publish.list.listTitle"),e.qZA(),e.TgZ(9,"small",7)(10,"span",8),e._uU(11,"private.publish.list.totalNumber"),e.qZA(),e._uU(12),e.qZA()()(),e.YNc(13,Nl,8,22,"div",9),e.YNc(14,Fl,6,0,"div",10),e.TgZ(15,"esm-pagination",11),e.NdJ("next",function(s){return i.onNext(s)}),e.qZA()()(),e.YNc(16,Rl,2,0,"div",12),e.TgZ(17,"ngx-spinner",13)(18,"p",14),e._uU(19," Inicializando componentes... "),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("urlObject",i.urlPrograms),e.xp6(9),e.hij(": ",i.totalPrograms?i.totalPrograms:0,""),e.xp6(1),e.Q6J("ngForOf",i.programs),e.xp6(1),e.Q6J("ngIf",0==(null==i.programs?null:i.programs.length)),e.xp6(1),e.Q6J("pagination",i.pagination),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("fullScreen",!0))},directives:[E.Pi,gt,h.sg,w.BN,h.mk,h.O5,Fe,ut],encapsulation:2}),r})();const ql=["e"];let Ll=(()=>{class r{constructor(t,i,o,s,a){this.programAddService=t,this.formBuilder=i,this.dateConverterService=o,this.ngbCalendar=s,this.dateAdapter=a,this.calendar=m.fT7,this.arrowRight=m.eFW,this.arrowLeft=m.acZ,this.subSink=new ee,this.programInformationForm=this.formBuilder.group({title:["",[c.kI.required]],description:[""],isPublic:[!1],beginDate:["",[c.kI.required]],beginTime:[{hour:0,minute:0,second:0}],endDate:[""],endTime:[{hour:0,minute:0,second:0}]})}setBeginDate(t){this.programInformationForm.value.beginDate=this.dateConverterService.toString(t),this.updateField("starts")}setEndDate(t){this.programInformationForm.value.endDate=this.dateConverterService.toString(t),this.updateField("ends")}get invalidTitle(){const t=this.programInformationForm.get("title");return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)}get invalidBeginDate(){const t=this.programInformationForm.get("beginDate");return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)}ngOnDestroy(){this.subSink.unsubscribe()}setProgram(t){if(console.log("Setou o programa ",t),!t)return;const i=Number.parseInt(t.starts),o=Number.parseInt(t.ends);let s=new Date,a=new Date;isNaN(i)||(s=this.dateConverterService.fromUnixTimeStamp(Number.parseInt(t.starts))),isNaN(o)||(a=this.dateConverterService.fromUnixTimeStamp(Number.parseInt(t.ends))),this.programInformationForm=this.formBuilder.group({title:[t.title,[c.kI.required]],description:[t.description],beginDate:[isNaN(i)?null:this.dateConverterService.toStrDate(s),[c.kI.required]],beginTime:[isNaN(i)?null:this.dateConverterService.toNgbTime(s)],endDate:[isNaN(o)?null:this.dateConverterService.toStrDate(a)],endTime:[isNaN(o)?null:this.dateConverterService.toNgbTime(a)]}),console.log(this.programInformationForm)}ngOnInit(){this.setProgram(this.programAddService.program),this.programAddService.getProgramObservable().subscribe(i=>this.setProgram(i))}updateField(t){var i,o,s,a,l;let u={};if("starts"==t){if(null==this.programInformationForm.get("beginDate").value||null==(null===(i=this.programInformationForm.get("beginTime"))||void 0===i?void 0:i.value))return;{let d=this.dateConverterService.parse(this.programInformationForm.get("beginDate").value);u.starts=this.dateConverterService.toUnixTimeStamp(d,null===(o=this.programInformationForm.get("beginTime"))||void 0===o?void 0:o.value)}}else if("ends"==t){if(null==this.programInformationForm.get("endDate").value||null==(null===(s=this.programInformationForm.get("endTime"))||void 0===s?void 0:s.value))return;{let d=this.dateConverterService.parse(this.programInformationForm.get("endDate").value);u.ends=this.dateConverterService.toUnixTimeStamp(d,null===(a=this.programInformationForm.get("endTime"))||void 0===a?void 0:a.value)}}else u[t]=null===(l=this.programInformationForm.get(t))||void 0===l?void 0:l.value;this.programAddService.saveStep(u)}submit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(X),e.Y36(c.qu),e.Y36(te.T3),e.Y36(x.vL),e.Y36(x.DO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-publish-data"]],viewQuery:function(t,i){if(1&t&&e.Gf(ql,5),2&t){let o;e.iGM(o=e.CRH())&&(i.endDateComponent=o.first)}},decls:44,vars:7,consts:[[1,"container-fluid","w-90",3,"formGroup"],[1,"form-row","form-group"],[1,"col"],["for","program-name"],[1,"text-danger"],["id","program-name","type","text","placeholder","T\xedtulo","formControlName","title",1,"d-block","w-100","form-control",3,"change"],[1,"form-row","form-group","mt-2"],["for","program-description"],["name","program-description","id","program-description","rows","1","placeholder","Descri\xe7\xe3o","formControlName","description",1,"d-block","w-100",3,"change"],[1,"form-row","form-group","d-flex","align-items-bottom","mt-3"],[1,"col-3"],[1,"input-group","form-group"],["formControlName","beginDate","ngbDatepicker","","placeholder","Data de in\xedcio","readonly","",1,"form-control",3,"click","dateSelect"],["beginDate","ngbDatepicker"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-white",3,"icon"],["formControlName","beginTime",3,"minuteStep","ngModelChange"],["formControlName","endDate","ngbDatepicker","","placeholder","Data de fim","readonly","",1,"form-control",3,"click","dateSelect"],["endDate","ngbDatepicker"],["formControlName","endTime",3,"minuteStep","ngModelChange"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"T\xedtulo da Coleta de Dados "),e.TgZ(5,"b",4),e._uU(6,"*"),e.qZA(),e._uU(7,":"),e.qZA(),e.TgZ(8,"input",5),e.NdJ("change",function(){return i.updateField("title")}),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",2)(11,"label",7),e._uU(12,"Descri\xe7\xe3o da Coleta de Dados:"),e.qZA(),e.TgZ(13,"textarea",8),e.NdJ("change",function(){return i.updateField("description")}),e.qZA()()(),e.TgZ(14,"div",9)(15,"div",10)(16,"label")(17,"h5"),e._uU(18,"Data e hora de in\xedcio"),e.TgZ(19,"b",4),e._uU(20,"*"),e.qZA(),e._uU(21,":"),e.qZA()(),e.TgZ(22,"div",11)(23,"input",12,13),e.NdJ("click",function(){return e.CHM(o),e.MAs(24).toggle()})("dateSelect",function(a){return i.setBeginDate(a)}),e.qZA(),e.TgZ(25,"button",14),e.NdJ("click",function(){return e.CHM(o),e.MAs(24).toggle()}),e._UZ(26,"fa-icon",15),e.qZA()()(),e.TgZ(27,"div",2)(28,"ngb-timepicker",16),e.NdJ("ngModelChange",function(){return i.updateField("starts")}),e.qZA()()(),e.TgZ(29,"div",9)(30,"div",10)(31,"label")(32,"h5"),e._uU(33,"Data e hora de fim"),e.qZA()(),e.TgZ(34,"div",11)(35,"input",17,18),e.NdJ("click",function(){return e.CHM(o),e.MAs(36).toggle()})("dateSelect",function(a){return i.setEndDate(a)}),e.qZA(),e.TgZ(37,"button",14),e.NdJ("click",function(){return e.CHM(o),e.MAs(36).toggle()}),e._UZ(38,"fa-icon",15),e.qZA()()(),e.TgZ(39,"div",2)(40,"ngb-timepicker",19),e.NdJ("ngModelChange",function(){return i.updateField("ends")}),e.qZA()()(),e.TgZ(41,"small",4),e._uU(42,"* Campo obrigat\xf3rio"),e.qZA(),e._UZ(43,"hr"),e.qZA()}2&t&&(e.Q6J("formGroup",i.programInformationForm),e.xp6(8),e.ekj("is-invalid",i.invalidTitle),e.xp6(18),e.Q6J("icon",i.calendar),e.xp6(2),e.Q6J("minuteStep",30),e.xp6(10),e.Q6J("icon",i.calendar),e.xp6(2),e.Q6J("minuteStep",30))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,x.J4,w.BN,x.Pm],encapsulation:2}),r})();const Jl=["alphabet1"],Bl=["alphabet2"],jl=["alphabetAll"];function zl(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"No participant selected"),e.qZA())}function Ql(r,n){1&r&&(e.TgZ(0,"div",35),e._uU(1," Especialistas que Participar\xe3o da Coleta de Dados e Seus Pap\xe9is "),e.qZA())}function Hl(r,n){if(1&r&&(e.TgZ(0,"div",38)(1,"div")(2,"b"),e._uU(3,"Nome: "),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div")(6,"b"),e._uU(7,"E-mail: "),e.qZA(),e._uU(8),e.qZA(),e.TgZ(9,"div",39)(10,"div",40),e._UZ(11,"input",41),e.TgZ(12,"label",42),e._uU(13," Observador "),e.qZA()(),e.TgZ(14,"div",43),e._UZ(15,"input",41),e.TgZ(16,"label",42),e._uU(17," Monitor "),e.qZA()(),e.TgZ(18,"div",43),e._UZ(19,"input",41),e.TgZ(20,"label",42),e._uU(21," Corretor "),e.qZA()()()()),2&r){const t=n.$implicit;e.xp6(4),e.hij(" ",t.observer.name,""),e.xp6(4),e.hij(" ",t.observer.email,"")}}function Yl(r,n){if(1&r&&(e.TgZ(0,"div",36),e.YNc(1,Hl,22,2,"div",37),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.programObservers)}}function Vl(r,n){1&r&&(e.TgZ(0,"div",44),e._uU(1,"O filtro selecionado resultou em nada, tente troca-lo."),e.qZA())}function Gl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",45)(1,"esm-user-checkbox",46),e.NdJ("addUser",function(o){return e.CHM(t),e.oxw().addProgramObserver(o)})("removeUser",function(o){return e.CHM(t),e.oxw().removeProgramObserver(o)}),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw();e.xp6(1),e.Q6J("user",t)("checked",i.isChecked(t.id))("disabled",i.isDisabled(t.id))}}let $l=(()=>{class r{constructor(t,i,o,s){this.dao=t,this.programService=i,this.formBuilder=o,this.loginService=s,this.subSynk=new ee,this.fa_search=m.wn1,this.hasChanged=!1,this.addObserverForm=this.formBuilder.group({email:["",c.kI.required],name:["",c.kI.required],role:[""]})}ngOnDestroy(){this.subSynk.unsubscribe()}isChecked(t){console.log(t);for(let i=0;i<this.programObservers.length;i++)if(this.programObservers[i].observer.id==t)return console.log(!0),!0;return console.log(!1),!1}isDisabled(t){return t===Number.parseInt(this.loginService.getUser().id)}ngOnInit(){this.getObservers(),this.programObservers=this.programService.program.expertsPublicade,this.subSynk.sink=this.programService.getProgramObservable().subscribe(t=>{this.programObservers=this.programService.program.expertsPublicade})}getObservers(){this.dao.getNewObject(p.hL,{}).subscribe(t=>{this.observers=t,this.setObservers=t})}getSetObservers(){return this.setObservers}addObserver(){let t=new S(this.addObserverForm.getRawValue());this.subSynk.sink=this.dao.postObject(p.hL,t).subscribe(i=>{t=new S(i),console.log(t),this.addProgramObserver(t),b().fire({title:"Observador adicionado",text:"Obsevador adicionado com sucesso!!",icon:"success"}),this.addObserverForm.reset()})}addProgramObserver(t){let i=new S;if(t instanceof S)i=t;else for(let o=0;o<this.setObservers.length;o++)this.setObservers[o].id==t&&(i=this.setObservers[o]);this.dao.postObject(p.HU,{observer:i.id}).subscribe(o=>{o.observer=new S(o.observer),this.programService.saveStep({addExpertPublicade:o})})}removeProgramObserver(t){this.programService.listaObserver("Antes de remover");let i=-1;for(let o=0;o<this.programObservers.length;o++)this.programObservers[o].observer.id==t&&(i=this.programObservers[o].id);-1!=i?this.programService.saveStep({delExpertPublicade:i}):b().fire("Problema na remo\xe7\xe3o do Especialista","Especialista n\xe3o encontrado","error")}filter_by(t,i){if("*"!==t)this.alphabetAll.nativeElement.classList.contains("btn-default-active")&&(this.alphabetAll.nativeElement.classList.remove("btn-default-active"),this.observers=new Array),i.target.classList.contains("btn-default-active")?(i.target.classList.remove("btn-default-active"),this.observers=this.observers.filter(o=>!o.name.startsWith(t.toLowerCase())&&!o.name.startsWith(t.toUpperCase()))):(i.target.classList.add("btn-default-active"),this.observers=this.observers.concat(this.getSetObservers().filter(o=>o.name.startsWith(t.toLowerCase())||o.name.startsWith(t.toUpperCase()))),this.observers.sort((o,s)=>o.name.localeCompare(s.name)));else{this.observers=this.getSetObservers(),i.target.classList.add("btn-default-active");for(const o of this.alphabet1.nativeElement.children)o.classList.remove("btn-default-active");for(const o of this.alphabet2.nativeElement.children)o.classList.remove("btn-default-active")}}search_by(t){this.observers=this.getSetObservers().filter(i=>i.name.includes(t.target.value))}submit(){this.hasChanged&&this.programService.saveStep({observers:this.programObservers})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(X),e.Y36(c.qu),e.Y36(H.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-publish-experts"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Jl,5),e.Gf(Bl,5),e.Gf(jl,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.alphabet1=o.first),e.iGM(o=e.CRH())&&(i.alphabet2=o.first),e.iGM(o=e.CRH())&&(i.alphabetAll=o.first)}},decls:103,vars:6,consts:[["id","addObserver",1,"bg-white","shadow-lg","popup","p-5","collapse",2,"z-index","3","top","10%",3,"formGroup"],[1,"mb-3"],["for","email",1,"mb-0"],[1,"text-danger"],["type","email","id","email","formControlName","email",1,"w-100"],["for","name",1,"mb-0"],["type","text","id","name","formControlName","name",1,"w-100"],["for","role",1,"mb-0"],["type","text","id","role","formControlName","role",1,"w-100"],[1,"d-flex","justify-content-between","mt-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapseCancel",1,"btn","btn-outline-primary",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapseAdd",1,"btn","btn-primary",3,"click"],[1,"container-fluid"],["class","w-100 d-flex justify-content-center border border-primary",4,"ngIf"],["class","w-100 d-flex align-items-center justify-content-center text-white bg-primary mb-3 w-100",4,"ngIf"],["class","row justify-content-center p-2",4,"ngIf"],["aria-label","alphabet",1,"container-fluid","mt-3"],[1,"row","justify-content-center"],[1,"col-2"],["type","button",1,"btn","btn-default","btn-default-active","text-primary","fw-bold","px-3",3,"click"],["alphabetAll",""],[1,"col-12","col-md-6","d-flex","justify-content-between","pr-md-2"],["alphabet1",""],["type","button",1,"btn","btn-default","text-primary","fw-bold","p-1",3,"click"],[1,"col-12","col-md-6","d-flex","justify-content-between","pl-md-2"],["alphabet2",""],[1,"mt-4"],[1,"container","border","p-3"],[1,"row"],["class","text-primary text-center fw-bold w-100",4,"ngIf"],["class","col-3 d-flex align-items-center overflow-hidden text-nowrap",4,"ngFor","ngForOf"],[1,"container-fluid","p-0","mb-3"],[1,"col-12","col-xl-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#addObserver","aria-expanded","false","aria-controls","addObserverCollapse",1,"btn","btn-outline-primary","btn-block","py-2"],[1,"w-100","d-flex","justify-content-center","border","border-primary"],[1,"w-100","d-flex","align-items-center","justify-content-center","text-white","bg-primary","mb-3","w-100"],[1,"row","justify-content-center","p-2"],["class","col-8 m-1 p-2 d-flex justify-content-between align-items-center border border-primary",4,"ngFor","ngForOf"],[1,"col-8","m-1","p-2","d-flex","justify-content-between","align-items-center","border","border-primary"],[1,"d-flex","justify-content-between"],[1,"form-check"],["type","checkbox","value","","id","flexCheckDefault",1,"form-check-input"],["for","flexCheckDefault",1,"form-check-label"],[1,"ms-1","form-check"],[1,"text-primary","text-center","fw-bold","w-100"],[1,"col-3","d-flex","align-items-center","overflow-hidden","text-nowrap"],[3,"user","checked","disabled","addUser","removeUser"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"label",2),e._uU(3,"E-mail "),e.TgZ(4,"span",3),e._uU(5,"*"),e.qZA(),e._uU(6,":"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"div",1)(9,"label",5),e._uU(10,"Nome "),e.TgZ(11,"span",3),e._uU(12,"*"),e.qZA(),e._uU(13,":"),e.qZA(),e._UZ(14,"input",6),e.qZA(),e.TgZ(15,"div",1)(16,"label",7),e._uU(17,"Papel:"),e.qZA(),e._UZ(18,"input",8),e.qZA(),e.TgZ(19,"div",9)(20,"button",10),e.NdJ("click",function(){return i.addObserverForm.reset()}),e._uU(21,"Cancelar"),e.qZA(),e.TgZ(22,"button",11),e.NdJ("click",function(){return i.addObserver()}),e._uU(23,"Adicionar"),e.qZA()()(),e.TgZ(24,"div",12),e.YNc(25,zl,2,0,"div",13),e.YNc(26,Ql,2,0,"div",14),e.YNc(27,Yl,2,1,"div",15),e.qZA(),e.TgZ(28,"div",16)(29,"div",17)(30,"div",18)(31,"button",19,20),e.NdJ("click",function(s){return i.filter_by("*",s)}),e._uU(33,"*"),e.qZA()()(),e.TgZ(34,"div",17)(35,"div",21,22)(37,"button",23),e.NdJ("click",function(s){return i.filter_by("a",s)}),e._uU(38,"A"),e.qZA(),e.TgZ(39,"button",23),e.NdJ("click",function(s){return i.filter_by("b",s)}),e._uU(40,"B"),e.qZA(),e.TgZ(41,"button",23),e.NdJ("click",function(s){return i.filter_by("c",s)}),e._uU(42,"C"),e.qZA(),e.TgZ(43,"button",23),e.NdJ("click",function(s){return i.filter_by("d",s)}),e._uU(44,"D"),e.qZA(),e.TgZ(45,"button",23),e.NdJ("click",function(s){return i.filter_by("e",s)}),e._uU(46,"E"),e.qZA(),e.TgZ(47,"button",23),e.NdJ("click",function(s){return i.filter_by("f",s)}),e._uU(48,"F"),e.qZA(),e.TgZ(49,"button",23),e.NdJ("click",function(s){return i.filter_by("g",s)}),e._uU(50,"G"),e.qZA(),e.TgZ(51,"button",23),e.NdJ("click",function(s){return i.filter_by("h",s)}),e._uU(52,"H"),e.qZA(),e.TgZ(53,"button",23),e.NdJ("click",function(s){return i.filter_by("i",s)}),e._uU(54,"I"),e.qZA(),e.TgZ(55,"button",23),e.NdJ("click",function(s){return i.filter_by("j",s)}),e._uU(56,"J"),e.qZA(),e.TgZ(57,"button",23),e.NdJ("click",function(s){return i.filter_by("k",s)}),e._uU(58,"K"),e.qZA(),e.TgZ(59,"button",23),e.NdJ("click",function(s){return i.filter_by("l",s)}),e._uU(60,"L"),e.qZA(),e.TgZ(61,"button",23),e.NdJ("click",function(s){return i.filter_by("m",s)}),e._uU(62,"M"),e.qZA()(),e.TgZ(63,"div",24,25)(65,"button",23),e.NdJ("click",function(s){return i.filter_by("n",s)}),e._uU(66,"N"),e.qZA(),e.TgZ(67,"button",23),e.NdJ("click",function(s){return i.filter_by("o",s)}),e._uU(68,"O"),e.qZA(),e.TgZ(69,"button",23),e.NdJ("click",function(s){return i.filter_by("p",s)}),e._uU(70,"P"),e.qZA(),e.TgZ(71,"button",23),e.NdJ("click",function(s){return i.filter_by("q",s)}),e._uU(72,"Q"),e.qZA(),e.TgZ(73,"button",23),e.NdJ("click",function(s){return i.filter_by("r",s)}),e._uU(74,"R"),e.qZA(),e.TgZ(75,"button",23),e.NdJ("click",function(s){return i.filter_by("s",s)}),e._uU(76,"S"),e.qZA(),e.TgZ(77,"button",23),e.NdJ("click",function(s){return i.filter_by("t",s)}),e._uU(78,"T"),e.qZA(),e.TgZ(79,"button",23),e.NdJ("click",function(s){return i.filter_by("u",s)}),e._uU(80,"U"),e.qZA(),e.TgZ(81,"button",23),e.NdJ("click",function(s){return i.filter_by("v",s)}),e._uU(82,"V"),e.qZA(),e.TgZ(83,"button",23),e.NdJ("click",function(s){return i.filter_by("w",s)}),e._uU(84,"W"),e.qZA(),e.TgZ(85,"button",23),e.NdJ("click",function(s){return i.filter_by("x",s)}),e._uU(86,"X"),e.qZA(),e.TgZ(87,"button",23),e.NdJ("click",function(s){return i.filter_by("y",s)}),e._uU(88,"Y"),e.qZA(),e.TgZ(89,"button",23),e.NdJ("click",function(s){return i.filter_by("z",s)}),e._uU(90,"Z"),e.qZA()()()(),e.TgZ(91,"h5",26),e._uU(92,"Selecionar observadores"),e.qZA(),e.TgZ(93,"form",27)(94,"div",28),e.YNc(95,Vl,2,0,"div",29),e.YNc(96,Gl,2,3,"div",30),e.qZA()(),e._UZ(97,"hr"),e.TgZ(98,"div",31)(99,"div",28)(100,"div",32)(101,"button",33),e._uU(102,"ADICIONAR OBSERVADORES"),e.qZA()()()()),2&t&&(e.Q6J("formGroup",i.addObserverForm),e.xp6(25),e.Q6J("ngIf",!(null!=i.programObservers&&i.programObservers.length)),e.xp6(1),e.Q6J("ngIf",i.programObservers.length>0),e.xp6(1),e.Q6J("ngIf",i.programObservers.length>0),e.xp6(68),e.Q6J("ngIf",!(null!=i.observers&&i.observers.length)),e.xp6(1),e.Q6J("ngForOf",i.observers))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,h.O5,h.sg,c.F,ft],encapsulation:2}),r})();class Wl extends K{constructor(n={}){super(n),this.version=n.version||-1,this.program=n.program||-1,this.createDateTime=n.createDateTime||""}}const Kl=["e"];function Xl(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"button",6),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().changeButtonCollapse(s)}),e._uU(3),e.qZA(),e.TgZ(4,"fa-icon",7),e.NdJ("click",function(){const s=e.CHM(t).index;return e.oxw().removePhase(s)}),e.qZA()(),e.TgZ(5,"div",8)(6,"form",9)(7,"div",10)(8,"div",11)(9,"label",12),e._uU(10,"T\xedtulo da Coleta de Dados "),e.TgZ(11,"b",13),e._uU(12,"*"),e.qZA(),e._uU(13,":"),e.qZA(),e.TgZ(14,"input",14),e.NdJ("change",function(){return e.CHM(t),e.oxw().updateField("title")}),e.qZA()()(),e.TgZ(15,"div",15)(16,"div",11)(17,"label",16),e._uU(18,"Descri\xe7\xe3o da Coleta de Dados:"),e.qZA(),e.TgZ(19,"textarea",17),e.NdJ("change",function(){return e.CHM(t),e.oxw().updateField("description")}),e.qZA()()(),e.TgZ(20,"div",18)(21,"div",19)(22,"label")(23,"h5"),e._uU(24,"Data e hora de in\xedcio"),e.TgZ(25,"b",13),e._uU(26,"*"),e.qZA(),e._uU(27,":"),e.qZA()(),e.TgZ(28,"div",20)(29,"input",21,22),e.NdJ("click",function(){return e.CHM(t),e.MAs(30).toggle()})("dateSelect",function(o){return e.CHM(t),e.oxw().setBeginDate(o)}),e.qZA(),e.TgZ(31,"button",23),e.NdJ("click",function(){return e.CHM(t),e.MAs(30).toggle()}),e._UZ(32,"fa-icon",24),e.qZA()()(),e.TgZ(33,"div",11)(34,"ngb-timepicker",25),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().updateField("starts")}),e.qZA()()(),e.TgZ(35,"div",18)(36,"div",19)(37,"label")(38,"h5"),e._uU(39,"Data e hora de fim"),e.qZA()(),e.TgZ(40,"div",20)(41,"input",26,27),e.NdJ("click",function(){return e.CHM(t),e.MAs(42).toggle()})("dateSelect",function(o){return e.CHM(t),e.oxw().setEndDate(o)}),e.qZA(),e.TgZ(43,"button",23),e.NdJ("click",function(){return e.CHM(t),e.MAs(42).toggle()}),e._UZ(44,"fa-icon",24),e.qZA()()(),e.TgZ(45,"div",11)(46,"ngb-timepicker",28),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().updateField("ends")}),e.qZA()()(),e.TgZ(47,"div",29)(48,"label"),e._uU(49,"Vers\xe3o do Programa"),e.qZA(),e.TgZ(50,"select",30),e.NdJ("ngModelChange",function(){return e.CHM(t),e.oxw().updateField("programPublicade")}),e.TgZ(51,"option",31),e._uU(52,"Programa 1 - Vers\xe3o 1 - Criada em 04/04/2022"),e.qZA(),e.TgZ(53,"option",32),e._uU(54,"Programa 1 - Vers\xe3o 2 - Criada em 05/04/2022"),e.qZA(),e.TgZ(55,"option",33),e._uU(56,"Programa 2 - Vers\xe3o 1 - Criada em 04/04/2022"),e.qZA(),e.TgZ(57,"option",34),e._uU(58,"Programa 2 - Vers\xe3o 2 - Criada em 05/04/2022"),e.qZA()()(),e.TgZ(59,"small",13),e._uU(60,"* Campo obrigat\xf3rio"),e.qZA()()()()}if(2&r){const t=n.index,i=e.oxw();e.xp6(3),e.hij(" ",i.program.phasesPublicade[t].title," "),e.xp6(1),e.Q6J("icon",i.faTras),e.xp6(1),e.Q6J("ngbCollapse",i.phasesCollapse[t]),e.xp6(1),e.Q6J("formGroup",i.programInformationForm),e.xp6(8),e.ekj("is-invalid",i.invalidTitle),e.xp6(18),e.Q6J("icon",i.calendar),e.xp6(2),e.Q6J("minuteStep",30),e.xp6(10),e.Q6J("icon",i.calendar),e.xp6(2),e.Q6J("minuteStep",30)}}let ec=(()=>{class r{constructor(t,i,o,s,a){this.programAddService=t,this.formBuilder=i,this.dateConverterService=o,this.ngbCalendar=s,this.dateAdapter=a,this.program=new Oe,this.phasesCollapse=[],this.calendar=m.fT7,this.arrowRight=m.eFW,this.arrowLeft=m.acZ,this.faTras=m.I7k,this.faMinus=m.uMC,this.subSink=new ee,this.programInformationForm=this.formBuilder.group({title:["",[c.kI.required]],description:[""],isPublic:[!1],beginDate:["",[c.kI.required]],beginTime:[{hour:0,minute:0,second:0}],endDate:[""],endTime:[{hour:0,minute:0,second:0}],programPublicade:["",[c.kI.required]]})}setBeginDate(t){this.programInformationForm.value.beginDate=this.dateConverterService.toString(t),this.updateField("starts")}setEndDate(t){this.programInformationForm.value.endDate=this.dateConverterService.toString(t),this.updateField("ends")}get invalidTitle(){const t=this.programInformationForm.get("title");return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)}get invalidBeginDate(){const t=this.programInformationForm.get("beginDate");return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)}ngOnDestroy(){this.subSink.unsubscribe()}setProgram(t){if(console.log("Setou o programa ",t),!t)return;const i=Number.parseInt(t.starts),o=Number.parseInt(t.ends);let s=new Date,a=new Date;isNaN(i)||(s=this.dateConverterService.fromUnixTimeStamp(Number.parseInt(t.starts))),isNaN(o)||(a=this.dateConverterService.fromUnixTimeStamp(Number.parseInt(t.ends))),this.programInformationForm=this.formBuilder.group({title:[t.title,[c.kI.required]],description:[t.description],beginDate:[isNaN(i)?null:this.dateConverterService.toStrDate(s),[c.kI.required]],beginTime:[isNaN(i)?null:this.dateConverterService.toNgbTime(s)],endDate:[isNaN(o)?null:this.dateConverterService.toStrDate(a)],endTime:[isNaN(o)?null:this.dateConverterService.toNgbTime(a)]}),console.log(this.programInformationForm)}updateField(t){var i,o,s,a,l;let u={};if("starts"==t){if(null==this.programInformationForm.get("beginDate").value||null==(null===(i=this.programInformationForm.get("beginTime"))||void 0===i?void 0:i.value))return;{let d=this.dateConverterService.parse(this.programInformationForm.get("beginDate").value);u.starts=this.dateConverterService.toUnixTimeStamp(d,null===(o=this.programInformationForm.get("beginTime"))||void 0===o?void 0:o.value)}}else if("ends"==t){if(null==this.programInformationForm.get("endDate").value||null==(null===(s=this.programInformationForm.get("endTime"))||void 0===s?void 0:s.value))return;{let d=this.dateConverterService.parse(this.programInformationForm.get("endDate").value);u.ends=this.dateConverterService.toUnixTimeStamp(d,null===(a=this.programInformationForm.get("endTime"))||void 0===a?void 0:a.value)}}else u[t]=null===(l=this.programInformationForm.get(t))||void 0===l?void 0:l.value;this.programAddService.saveStep(u)}submit(){}ngOnInit(){this.program=this.programAddService.program,this.programAddService.getProgramObservable().subscribe(t=>{this.program=t})}addPhases(){this.program.phasesPublicade.push({id:-1,title:"",starts:"",description:"",ends:"",programVersion:new Wl}),this.phasesCollapse.push(!1)}changeButtonCollapse(t){this.phasesCollapse[t]=!this.phasesCollapse[t]}removePhase(t){this.phasesCollapse.splice(t,1),this.program.phasesPublicade.splice(t,1)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(X),e.Y36(c.qu),e.Y36(te.T3),e.Y36(x.vL),e.Y36(x.DO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-publish-phases"]],viewQuery:function(t,i){if(1&t&&e.Gf(Kl,5),2&t){let o;e.iGM(o=e.CRH())&&(i.endDateComponent=o.first)}},decls:5,vars:1,consts:[[1,"container-fluid"],[1,"col-12","mt-3","mb-2","d-flex","justify-content-center"],["type","button",1,"btn","btn-primary",3,"click"],["class","row border border-success mt-2 mb-2 ms-2 me-2",4,"ngFor","ngForOf"],[1,"row","border","border-success","mt-2","mb-2","ms-2","me-2"],[1,"col-12","d-flex","bg-primary","text-white","justify-content-between","align-items-center"],["data-bs-toggle","collapse",1,"btn","text-white","fw-bold","text-uppercase",3,"click"],[1,"text-white",3,"icon","click"],[1,"row","ms-2","me-2",3,"ngbCollapse"],[1,"container-fluid","w-90",3,"formGroup"],[1,"form-row","form-group"],[1,"col"],["for","program-name"],[1,"text-danger"],["id","program-name","type","text","placeholder","T\xedtulo","formControlName","title",1,"d-block","w-100","form-control",3,"change"],[1,"form-row","form-group","mt-2"],["for","program-description"],["name","program-description","id","program-description","rows","1","placeholder","Descri\xe7\xe3o","formControlName","description",1,"d-block","w-100",3,"change"],[1,"form-row","form-group","d-flex","align-items-bottom","mt-3"],[1,"col-3"],[1,"input-group","form-group"],["formControlName","beginDate","ngbDatepicker","","placeholder","Data de in\xedcio","readonly","",1,"form-control",3,"click","dateSelect"],["beginDate","ngbDatepicker"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"text-white",3,"icon"],["formControlName","beginTime",3,"minuteStep","ngModelChange"],["formControlName","endDate","ngbDatepicker","","placeholder","Data de fim","readonly","",1,"form-control",3,"click","dateSelect"],["endDate","ngbDatepicker"],["formControlName","endTime",3,"minuteStep","ngModelChange"],[1,"col-12","mt-3"],["formControlName","programPublicade",1,"form-control",3,"ngModelChange"],["value","1-1"],["value","1-2"],["value","2-1"],["value","2-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.addPhases()}),e._uU(3,"Criar nova Phase"),e.qZA()(),e.YNc(4,Xl,61,10,"div",3),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.program.phasesPublicade))},directives:[h.sg,w.BN,x._D,c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,x.J4,x.Pm,c.EJ,c.YN,c.Kr],encapsulation:2}),r})();const tc=["alphabet1"],ic=["alphabet2"],nc=["alphabetAll"];function rc(r,n){1&r&&(e.TgZ(0,"div",34),e._uU(1,"No participant selected"),e.qZA())}function oc(r,n){1&r&&(e.TgZ(0,"div",35),e._uU(1," Participantes Selecionados "),e.qZA())}function sc(r,n){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"fa-icon",38),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faedit)}}function ac(r,n){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"fa-icon",39),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("icon",t.faedit)}}function lc(r,n){if(1&r&&(e.TgZ(0,"div",36)(1,"div")(2,"b"),e._uU(3,"Nome:"),e.qZA(),e._uU(4),e.qZA(),e.TgZ(5,"div")(6,"b"),e._uU(7,"E-mail:"),e.qZA(),e._uU(8),e.qZA(),e.YNc(9,sc,2,1,"div",37),e.YNc(10,ac,2,1,"div",37),e.qZA()),2&r){const t=n.$implicit,i=e.oxw();e.xp6(4),e.hij(" ",t.name," "),e.xp6(4),e.hij(" ",t.email,""),e.xp6(1),e.Q6J("ngIf",i.verifyCircle(t.id)),e.xp6(1),e.Q6J("ngIf",!i.verifyCircle(t.id))}}function cc(r,n){1&r&&(e.TgZ(0,"div",40),e._uU(1,"Nenhum participante cadastrado"),e.qZA())}function dc(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",41)(1,"esm-user-checkbox",42),e.NdJ("addUser",function(o){return e.CHM(t),e.oxw().addProgramParticipant(o)})("removeUser",function(o){return e.CHM(t),e.oxw().removeProgramObserver(o)}),e.qZA()()}if(2&r){const t=n.$implicit,i=e.oxw();e.xp6(1),e.Q6J("user",t)("checked",i.isChecked(t))}}let uc=(()=>{class r{constructor(t,i,o){this.dao=t,this.publishService=i,this.formBuilder=o,this.fatrash=m.$aW,this.faedit=m.Xcf,this.facheck=m.fV7,this.faexclamation=m.xHz,this.fasearch=m.wn1,this.subSynk=new ee,this.participants=[],this.programParticipants=[],this.setParticipants=[],this.hasChanged=!1,this.addParticipantForm=this.formBuilder.group({email:["",c.kI.required],name:["",c.kI.required],nickname:[""]})}ngOnDestroy(){this.subSynk.unsubscribe()}isChecked(t){return!!(this.programParticipants?this.programParticipants.find(i=>i.id===t.id):void 0)}ngOnInit(){this.programParticipants=this.publishService.program.participants,this.getParticipants(),this.subSynk.sink=this.publishService.getProgramObservable().subscribe(t=>{this.programParticipants=this.publishService.program.participants,this.getParticipants()})}getParticipants(){this.dao.getNewObject(p.Vt,{}).subscribe(t=>{this.participants=t,this.setParticipants=t})}addParticipant(){this.subSynk.sink=this.dao.postObject(p.Vt,new D(this.addParticipantForm.getRawValue())).subscribe(t=>{const i=new D(t);this.addProgramParticipant(i),b().fire("Sucesso","Participante adicionado aos contatos!","success"),this.addParticipantForm.reset()})}addProgramParticipant(t){let i={};i=t instanceof D?t:this.participants.find(o=>o.id===t),this.publishService.saveStep({addParticipant:i})}removeProgramObserver(t){this.publishService.saveStep({delParticipant:t})}verifyCircle(t){return t%2==0}submit(){}getSetParticipants(){return this.setParticipants}filter_by(t,i){if("*"!==t)this.alphabetAll.nativeElement.classList.contains("btn-default-active")&&(this.alphabetAll.nativeElement.classList.remove("btn-default-active"),this.participants=new Array),i.target.classList.contains("btn-default-active")?(i.target.classList.remove("btn-default-active"),this.participants=this.participants.filter(o=>!o.name.startsWith(t.toLowerCase())&&!o.name.startsWith(t.toUpperCase()))):(i.target.classList.add("btn-default-active"),this.participants=this.participants.concat(this.getSetParticipants().filter(o=>o.name.startsWith(t.toLowerCase())||o.name.startsWith(t.toUpperCase()))),this.participants.sort((o,s)=>o.name.localeCompare(s.name)));else{this.participants=this.getSetParticipants(),i.target.classList.add("btn-default-active");for(const o of this.alphabet1.nativeElement.children)o.classList.remove("btn-default-active");for(const o of this.alphabet2.nativeElement.children)o.classList.remove("btn-default-active")}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(T.j),e.Y36(X),e.Y36(c.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-publish-participants"]],viewQuery:function(t,i){if(1&t&&(e.Gf(tc,5),e.Gf(ic,5),e.Gf(nc,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.alphabet1=o.first),e.iGM(o=e.CRH())&&(i.alphabet2=o.first),e.iGM(o=e.CRH())&&(i.alphabetAll=o.first)}},decls:104,vars:6,consts:[["id","addParticipant",1,"bg-white","shadow-lg","popup","p-5","collapse",2,"z-index","3","top","10%",3,"formGroup"],[1,"mb-5"],[1,"mb-3"],["for","email",1,"mb-0"],[1,"text-danger"],["type","email","id","email","formControlName","email",1,"w-100"],["for","name",1,"mb-0"],["type","text","id","name","formControlName","name",1,"w-100"],["for","nickname",1,"mb-0"],["type","text","id","nickname","formControlName","nickname",1,"w-100"],[1,"d-flex","justify-content-between","mt-5"],["type","button","data-bs-toggle","collapse","data-bs-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapseCancel",1,"btn","btn-outline-primary",3,"click"],["type","button","data-bs-toggle","collapse","data-bs-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapseAdd",1,"btn","btn-primary",3,"click"],[1,"container-fluid"],[1,"row","w-100"],["class","col-12 d-flex justify-content-center text-primary fw-bold",4,"ngIf"],["class","col-12 bg-primary d-flex justify-content-center text-white fw-bold mb-3",4,"ngIf"],["class","col-3 d-flex align-items-center p-1 border border-primary justify-content-between",4,"ngFor","ngForOf"],["aria-label","alphabet",1,"container-fluid","mt-3"],[1,"row","justify-content-center"],["type","button",1,"btn","btn-default","btn-default-active","text-primary","fw-bold","px-3",3,"click"],["alphabetAll",""],[1,"col-12","col-md-6","d-flex","justify-content-between","pr-md-2"],["alphabet1",""],["type","button",1,"btn","btn-default","text-primary","fw-bold","p-1",3,"click"],[1,"col-12","col-md-6","d-flex","justify-content-between","pl-md-2"],["alphabet2",""],[1,"container-fluid","border","mt-3"],["class","text-primary text-center fw-bold w-100",4,"ngIf"],["class","col-3 d-flex align-items-center overflow-hidden text-nowrap",4,"ngFor","ngForOf"],[1,"container-fluid","mt-3"],[1,"row"],[1,"col-12"],["type","button","data-bs-toggle","collapse","data-bs-target","#addParticipant","aria-expanded","false","aria-controls","addParticipantCollapse",1,"btn","btn-outline-primary","btn-block","py-2"],[1,"col-12","d-flex","justify-content-center","text-primary","fw-bold"],[1,"col-12","bg-primary","d-flex","justify-content-center","text-white","fw-bold","mb-3"],[1,"col-3","d-flex","align-items-center","p-1","border","border-primary","justify-content-between"],[4,"ngIf"],["data-bs-toggle","tooltip","title","Editar (C\xedrculo Ok)",1,"m-2","fa-lg","fa-solid","text-success",3,"icon"],["data-bs-toggle","tooltip","title","Editar (C\xedrculo Incompleto)",1,"m-2","fa-lg","fa-thin","text-warning",3,"icon"],[1,"text-primary","text-center","fw-bold","w-100"],[1,"col-3","d-flex","align-items-center","overflow-hidden","text-nowrap"],[3,"user","checked","addUser","removeUser"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0)(1,"h3",1),e._uU(2,"Adicionar participante"),e.qZA(),e.TgZ(3,"div",2)(4,"label",3),e._uU(5,"E-mail "),e.TgZ(6,"span",4),e._uU(7,"*"),e.qZA(),e._uU(8,":"),e.qZA(),e._UZ(9,"input",5),e.qZA(),e.TgZ(10,"div",2)(11,"label",6),e._uU(12,"Nome "),e.TgZ(13,"span",4),e._uU(14,"*"),e.qZA(),e._uU(15,":"),e.qZA(),e._UZ(16,"input",7),e.qZA(),e.TgZ(17,"div",2)(18,"label",8),e._uU(19,"Papel:"),e.qZA(),e._UZ(20,"input",9),e.qZA(),e.TgZ(21,"div",10)(22,"button",11),e.NdJ("click",function(){return i.addParticipantForm.reset()}),e._uU(23,"Cancelar"),e.qZA(),e.TgZ(24,"button",12),e.NdJ("click",function(){return i.addParticipant()}),e._uU(25,"Adicionar"),e.qZA()()(),e.TgZ(26,"div",13)(27,"div",14),e.YNc(28,rc,2,0,"div",15),e.YNc(29,oc,2,0,"div",16),e.YNc(30,lc,11,4,"div",17),e.qZA()(),e.TgZ(31,"div",18)(32,"div",19)(33,"button",20,21),e.NdJ("click",function(s){return i.filter_by("*",s)}),e._uU(35,"*"),e.qZA()(),e.TgZ(36,"div",19)(37,"div",22,23)(39,"button",24),e.NdJ("click",function(s){return i.filter_by("a",s)}),e._uU(40,"A"),e.qZA(),e.TgZ(41,"button",24),e.NdJ("click",function(s){return i.filter_by("b",s)}),e._uU(42,"B"),e.qZA(),e.TgZ(43,"button",24),e.NdJ("click",function(s){return i.filter_by("c",s)}),e._uU(44,"C"),e.qZA(),e.TgZ(45,"button",24),e.NdJ("click",function(s){return i.filter_by("d",s)}),e._uU(46,"D"),e.qZA(),e.TgZ(47,"button",24),e.NdJ("click",function(s){return i.filter_by("e",s)}),e._uU(48,"E"),e.qZA(),e.TgZ(49,"button",24),e.NdJ("click",function(s){return i.filter_by("f",s)}),e._uU(50,"F"),e.qZA(),e.TgZ(51,"button",24),e.NdJ("click",function(s){return i.filter_by("g",s)}),e._uU(52,"G"),e.qZA(),e.TgZ(53,"button",24),e.NdJ("click",function(s){return i.filter_by("h",s)}),e._uU(54,"H"),e.qZA(),e.TgZ(55,"button",24),e.NdJ("click",function(s){return i.filter_by("i",s)}),e._uU(56,"I"),e.qZA(),e.TgZ(57,"button",24),e.NdJ("click",function(s){return i.filter_by("j",s)}),e._uU(58,"J"),e.qZA(),e.TgZ(59,"button",24),e.NdJ("click",function(s){return i.filter_by("k",s)}),e._uU(60,"K"),e.qZA(),e.TgZ(61,"button",24),e.NdJ("click",function(s){return i.filter_by("l",s)}),e._uU(62,"L"),e.qZA(),e.TgZ(63,"button",24),e.NdJ("click",function(s){return i.filter_by("m",s)}),e._uU(64,"M"),e.qZA()(),e.TgZ(65,"div",25,26)(67,"button",24),e.NdJ("click",function(s){return i.filter_by("n",s)}),e._uU(68,"N"),e.qZA(),e.TgZ(69,"button",24),e.NdJ("click",function(s){return i.filter_by("o",s)}),e._uU(70,"O"),e.qZA(),e.TgZ(71,"button",24),e.NdJ("click",function(s){return i.filter_by("p",s)}),e._uU(72,"P"),e.qZA(),e.TgZ(73,"button",24),e.NdJ("click",function(s){return i.filter_by("q",s)}),e._uU(74,"Q"),e.qZA(),e.TgZ(75,"button",24),e.NdJ("click",function(s){return i.filter_by("r",s)}),e._uU(76,"R"),e.qZA(),e.TgZ(77,"button",24),e.NdJ("click",function(s){return i.filter_by("s",s)}),e._uU(78,"S"),e.qZA(),e.TgZ(79,"button",24),e.NdJ("click",function(s){return i.filter_by("t",s)}),e._uU(80,"T"),e.qZA(),e.TgZ(81,"button",24),e.NdJ("click",function(s){return i.filter_by("u",s)}),e._uU(82,"U"),e.qZA(),e.TgZ(83,"button",24),e.NdJ("click",function(s){return i.filter_by("v",s)}),e._uU(84,"V"),e.qZA(),e.TgZ(85,"button",24),e.NdJ("click",function(s){return i.filter_by("w",s)}),e._uU(86,"W"),e.qZA(),e.TgZ(87,"button",24),e.NdJ("click",function(s){return i.filter_by("x",s)}),e._uU(88,"X"),e.qZA(),e.TgZ(89,"button",24),e.NdJ("click",function(s){return i.filter_by("y",s)}),e._uU(90,"Y"),e.qZA(),e.TgZ(91,"button",24),e.NdJ("click",function(s){return i.filter_by("z",s)}),e._uU(92,"Z"),e.qZA()()()(),e.TgZ(93,"div",13)(94,"form",27)(95,"div",14),e.YNc(96,cc,2,0,"div",28),e.YNc(97,dc,2,2,"div",29),e.qZA()(),e._UZ(98,"hr"),e.TgZ(99,"div",30)(100,"div",31)(101,"div",32)(102,"button",33),e._uU(103,"ADICIONAR PARTICIPANTES AO PROGRAMA"),e.qZA()()()()()),2&t&&(e.Q6J("formGroup",i.addParticipantForm),e.xp6(28),e.Q6J("ngIf",!(null!=i.programParticipants&&i.programParticipants.length)),e.xp6(1),e.Q6J("ngIf",i.programParticipants.length>0),e.xp6(1),e.Q6J("ngForOf",i.programParticipants),e.xp6(66),e.Q6J("ngIf",!(null!=i.participants&&i.participants.length)),e.xp6(1),e.Q6J("ngForOf",i.participants))},directives:[c._Y,c.JL,c.sg,c.Fj,c.JJ,c.u,h.O5,h.sg,w.BN,c.F,ft],encapsulation:2}),r})();function pc(r,n){1&r&&e._uU(0,"Dados Iniciais")}function hc(r,n){1&r&&e._uU(0,"Especialistas")}function mc(r,n){1&r&&e._uU(0,"Fases")}function gc(r,n){1&r&&e._uU(0,"Participantes")}function _c(r,n){1&r&&e._uU(0,"Publicar")}const fc=[{path:"",component:Ao,children:[{path:"",component:ko},{path:"participants/list",component:Po},{path:"participants/add",component:fi},{path:"participants/add/:id",component:fi},{path:"programs/list",component:Vo},{path:"programs/add",component:Sl},{path:"publish/list",component:Ul},{path:"publish/add",component:(()=>{class r{constructor(t,i,o,s,a,l){this._formBuilder=t,this.programsService=i,this.dao=o,this.activatedRoute=s,this.loginService=a,this.canal=l,this.isLinear=!1,this.arrowRight=m.eFW,this.arrowLeft=m.acZ,this.fileImport=m.Vmj,this.editor=0}ngOnInit(){this.id=this.programsService.program.id,this.firstFormGroup=this._formBuilder.group({firstCtrl:["",c.kI.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",c.kI.required]}),this.thirdFormGroup=this._formBuilder.group({thirdCtrl:["",c.kI.required]}),this.fourthFormGroup=this._formBuilder.group({fourthCtrl:["",c.kI.required]}),this.fifthFormGroup=this._formBuilder.group({fifthCtrl:["",c.kI.required]}),this.sixthFormGroup=this._formBuilder.group({sixtthCtrl:["",c.kI.required]}),this.seventhFormGroup=this._formBuilder.group({seventhCtrl:["",c.kI.required]})}mostrar(){return!1}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.qu),e.Y36(I),e.Y36(T.j),e.Y36(k.gz),e.Y36(H.r),e.Y36(B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-publish-add"]],decls:57,vars:15,consts:[[1,"container-fluid","ms-2","me-2",2,"height","90%","overflow","hidden"],["labelPosition","bottom",2,"height","100%",3,"linear"],["stepper",""],[3,"stepControl"],["matStepLabel",""],[1,"col-12","pt-2","pb-2",2,"height","700px","overflow-y","auto","overflow-x","hidden"],[1,"col-12","bg-primary","p-2","d-flex","justify-content-center","text-white","fw-bold","mt-4","m-b2"],[1,"col-12","d-flex","justify-content-end","mt-3"],["type","button","mat-button","","matStepperNext","",1,"btn","btn","btn-success","btn-block","py-2"],[1,"text-white",3,"icon"],["label","Fill out your address",3,"stepControl"],[1,"col-12","pt-2","pb-2",2,"height","700px","overflow-y","auto"],[1,"col-12","d-flex","justify-content-between","mt-3"],["type","button","mat-button","","matStepperPrevious","",1,"btn","btn","btn-success","btn-block","py-2"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-stepper",1,2)(3,"mat-step",3),e.YNc(4,pc,1,0,"ng-template",4),e.TgZ(5,"div",5),e._UZ(6,"app-publish-data"),e.TgZ(7,"div",6),e._uU(8," Configura\xe7\xf5es do Programa "),e.qZA()(),e.TgZ(9,"div",7)(10,"button",8),e._uU(11," PROSSEGUIR "),e._UZ(12,"fa-icon",9),e.qZA()()(),e.TgZ(13,"mat-step",10),e.YNc(14,hc,1,0,"ng-template",4),e.TgZ(15,"div",11),e._UZ(16,"app-publish-experts"),e.qZA(),e.TgZ(17,"div",12)(18,"button",13),e._UZ(19,"fa-icon",9),e._uU(20," RETORNAR "),e.qZA(),e.TgZ(21,"button",8),e._uU(22," PROSSEGUIR "),e._UZ(23,"fa-icon",9),e.qZA()()(),e.TgZ(24,"mat-step",3),e.YNc(25,mc,1,0,"ng-template",4),e.TgZ(26,"div",11),e._UZ(27,"app-publish-phases"),e.qZA(),e.TgZ(28,"div",12)(29,"button",13),e._UZ(30,"fa-icon",9),e._uU(31," RETORNAR "),e.qZA(),e.TgZ(32,"button",8),e._uU(33," PROSSEGUIR "),e._UZ(34,"fa-icon",9),e.qZA()()(),e.TgZ(35,"mat-step",3),e.YNc(36,gc,1,0,"ng-template",4),e.TgZ(37,"div",11),e._UZ(38,"app-publish-participants"),e.qZA(),e.TgZ(39,"div",12)(40,"button",13),e._UZ(41,"fa-icon",9),e._uU(42," RETORNAR "),e.qZA(),e.TgZ(43,"button",8),e._uU(44," PROSSEGUIR "),e._UZ(45,"fa-icon",9),e.qZA()()(),e.TgZ(46,"mat-step",3),e.YNc(47,_c,1,0,"ng-template",4),e.TgZ(48,"div",11),e._UZ(49,"app-step-sensor"),e.qZA(),e.TgZ(50,"div",12)(51,"button",13),e._UZ(52,"fa-icon",9),e._uU(53," RETORNAR "),e.qZA(),e.TgZ(54,"button",8),e._uU(55," PROSSEGUIR "),e._UZ(56,"fa-icon",9),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("linear",i.isLinear),e.xp6(2),e.Q6J("stepControl",i.firstFormGroup),e.xp6(9),e.Q6J("icon",i.arrowRight),e.xp6(1),e.Q6J("stepControl",i.secondFormGroup),e.xp6(6),e.Q6J("icon",i.arrowLeft),e.xp6(4),e.Q6J("icon",i.arrowRight),e.xp6(1),e.Q6J("stepControl",i.fifthFormGroup),e.xp6(6),e.Q6J("icon",i.arrowLeft),e.xp6(4),e.Q6J("icon",i.arrowRight),e.xp6(1),e.Q6J("stepControl",i.sixthFormGroup),e.xp6(6),e.Q6J("icon",i.arrowLeft),e.xp6(4),e.Q6J("icon",i.arrowRight),e.xp6(1),e.Q6J("stepControl",i.sixthFormGroup),e.xp6(6),e.Q6J("icon",i.arrowLeft),e.xp6(4),e.Q6J("icon",i.arrowRight))},directives:[lt,at,be,Ll,ui,w.BN,$l,pi,ec,uc,Hi],encapsulation:2}),r})()},{path:"follow-up/list",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-follow-up-list"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"follow-up-list works!"),e.qZA())},encapsulation:2}),r})()},{path:"observers/add",component:kl},{path:"results/list",component:Dl}]}];let vc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[k.Bz.forChild(fc)],k.Bz]}),r})(),bc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[B,T.j,_i,Yi.o,te.T3,I,Z,X,{provide:x.DO,useClass:te.Wv},{provide:x.NG,useClass:te.ke}],imports:[[h.ez,vc,E.aw,c.UX,c.u5,he.ii.forRoot(),x.IJ,Ys,w.uH,ao,Qt,lr,fo,x.IJ]]}),r})()}}]);